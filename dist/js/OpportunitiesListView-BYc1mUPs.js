import{d as e,c as t,r as a,y as o,z as s,C as r,D as n,J as l,V as i,W as c,U as d,u,B as p,O as m,F as b,L as y,E as g,Z as h,w as v,N as f,H as k,K as w,X as x,Y as _,G as C}from"./vue-runtime-Ds28nt_E.js";import{u as S}from"./vue-router-BP51f1Hv.js";import{u as j}from"./opportunityStore-CXzxniyP.js";import O from"./OpportunityKPICards-BfdiF2IH.js";import{S as D}from"./StageTag-Ba47Yi4B.js";import{P as z}from"./ProbabilityBar-RgBmbKwi.js";import{n as M,e as N,t as A,g as B,h as E,s as P,z as I,m as T,G as L}from"./heroicons-QXV26b6T.js";/* empty css                                                                         */import{_ as R}from"./_plugin-vue_export-helper-DYAABpgn.js";import"./pinia-CUC4VGP7.js";import"./supabaseClient-5bv4QPtU.js";import"./supabase-BzUtZ1M4.js";import"./yup-D02u5inE.js";/* empty css                                                                            *//* empty css                                                                       */const V={class:"opportunity-table-container"},H={class:"table-header"},F={class:"header-left"},U={key:0,class:"table-count"},$={class:"header-right"},G={key:0,class:"bulk-actions"},W={class:"selected-count"},K=["disabled"],Y={class:"table-actions"},J=["disabled","aria-label"],Q={class:"table-wrapper"},X={key:0,class:"loading-state"},Z={key:1,class:"empty-state"},q={class:"empty-icon"},ee={key:2,class:"table-scroll-container"},te={class:"opportunity-table",role:"table"},ae={class:"table-head"},oe={class:"select-column"},se=["checked","indeterminate"],re={class:"column-header"},ne={class:"column-header"},le={class:"column-header"},ie={class:"column-header"},ce={class:"column-header"},de={class:"column-header"},ue={class:"table-body"},pe={class:"select-cell"},me=["checked","onChange","aria-label"],be={class:"name-cell"},ye=["onClick"],ge={class:"name-text"},he={key:0,class:"won-indicator"},ve={class:"organization-cell"},fe={class:"organization-info"},ke={class:"organization-name"},we={key:0,class:"organization-type"},xe={class:"stage-cell"},_e={class:"probability-cell"},Ce={class:"date-cell"},Se={key:0,class:"date-info"},je={class:"date-text"},Oe={key:1,class:"no-date"},De={class:"owner-cell"},ze={key:0,class:"owner-name"},Me={key:1,class:"no-owner"},Ne={class:"actions-cell"},Ae={class:"actions-dropdown"},Be=["onClick","aria-label","aria-expanded"],Ee=["onClick"],Pe=["onClick"],Ie=["onClick"],Te={key:0,class:"pagination-container"},Le={class:"pagination-info"},Re={class:"pagination-text"},Ve={class:"pagination-controls"},He=["disabled"],Fe={class:"page-indicator"},Ue=["disabled"],$e={props:{column:String,currentSort:String,currentOrder:String},template:'\n    <div class="sort-icon">\n      <svg v-if="column === currentSort" class="h-4 w-4" :class="currentOrder === \'asc\' ? \'rotate-180\' : \'\'" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />\n      </svg>\n      <svg v-else class="h-4 w-4 opacity-30" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l4-4 4 4m0 6l-4 4-4-4" />\n      </svg>\n    </div>\n  '},Ge=R(e({t:"OpportunityTable",props:{customOpportunities:{},showPagination:{type:Boolean,default:!0},itemsPerPage:{default:20},compact:{type:Boolean,default:!1}},emits:["rowClick","edit","delete","duplicate","bulkDelete","createNew","sortChange"],setup(e,{emit:v}){const f=e,k=v,w=j(),x=t(()=>f.customOpportunities||w.opportunities),_=t(()=>w.isLoading),C=t(()=>w.deleting),S=t(()=>w.totalCount),O=t(()=>w.currentPage),R=t(()=>w.hasNextPage),Ge=t(()=>w.hasPreviousPage),We=a([]),Ke=a(null),Ye=a("created_at"),Je=a("desc"),Qe=t(()=>x.value.length>0&&We.value.length===x.value.length),Xe=t(()=>We.value.length>0&&We.value.length<x.value.length),Ze=t(()=>0===x.value.length?0:(O.value-1)*f.itemsPerPage+1),qe=t(()=>{const e=O.value*f.itemsPerPage;return Math.min(e,S.value)}),et=()=>{Qe.value?We.value=[]:We.value=x.value.map(e=>e.id)},tt=e=>We.value.includes(e),at=()=>{We.value=[]},ot=e=>{Ye.value===e?Je.value="asc"===Je.value?"desc":"asc":(Ye.value=e,Je.value="asc"),w.activePagination.sort_by=e,w.activePagination.sort_order=Je.value,nt()},st=async()=>{Ge.value&&(w.activePagination.page=O.value-1,await nt())},rt=async()=>{R.value&&(w.activePagination.page=O.value+1,await nt())},nt=async()=>{await w.fetchOpportunities(w.activeFilters,w.activePagination)},lt=()=>{We.value.length>0&&(k("bulkDelete",We.value),We.value=[])},it=e=>e<0?`${Math.abs(e)} days overdue`:0===e?"Due today":`${e} days left`,ct=e=>{e.target.closest(".actions-dropdown")||(Ke.value=null)};return o(()=>{document.addEventListener("click",ct)}),s(()=>{document.removeEventListener("click",ct)}),(e,t)=>(g(),r("div",V,[n("div",H,[n("div",F,[t[8]||(t[8]=n("h3",{class:"table-title"},"Opportunities",-1)),_.value?l("",!0):(g(),r("span",U,i(S.value)+" total ",1))]),n("div",$,[We.value.length>0?(g(),r("div",G,[n("span",W,i(We.value.length)+" selected ",1),n("button",{type:"button",class:"bulk-action-btn bulk-action-btn-danger",onClick:lt,disabled:C.value},[c(u(M),{class:"h-4 w-4"}),t[9]||(t[9]=d(" Delete ",-1))],8,K),n("button",{type:"button",class:"bulk-action-btn bulk-action-btn-secondary",onClick:at}," Clear ")])):l("",!0),n("div",Y,[n("button",{type:"button",class:"action-btn action-btn-secondary",onClick:nt,disabled:_.value,"aria-label":_.value?"Refreshing...":"Refresh table"},[c(u(N),{class:p(["h-4 w-4",{"animate-spin":_.value}])},null,8,["class"]),t[10]||(t[10]=d(" Refresh ",-1))],8,J)])])]),n("div",Q,[_.value&&0===x.value.length?(g(),r("div",X,t[11]||(t[11]=[m('<div class="loading-spinner" data-v-406f41e7><svg class="animate-spin h-8 w-8 text-blue-500" fill="none" viewBox="0 0 24 24" data-v-406f41e7><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" data-v-406f41e7></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" data-v-406f41e7></path></svg></div><p class="loading-text" data-v-406f41e7>Loading opportunities...</p>',2)]))):0!==x.value.length||_.value?(g(),r("div",ee,[n("table",te,[n("thead",ae,[n("tr",null,[n("th",oe,[n("input",{type:"checkbox",class:"bulk-checkbox",checked:Qe.value,indeterminate:Xe.value,onChange:et,"aria-label":"Select all opportunities"},null,40,se)]),n("th",{class:"sortable-column",onClick:t[1]||(t[1]=e=>ot("name"))},[n("div",re,[t[14]||(t[14]=n("span",null,"Name",-1)),c($e,{column:"name","current-sort":Ye.value,"current-order":Je.value},null,8,["current-sort","current-order"])])]),n("th",{class:"sortable-column",onClick:t[2]||(t[2]=e=>ot("organization_name"))},[n("div",ne,[t[15]||(t[15]=n("span",null,"Organization",-1)),c($e,{column:"organization_name","current-sort":Ye.value,"current-order":Je.value},null,8,["current-sort","current-order"])])]),n("th",{class:"sortable-column",onClick:t[3]||(t[3]=e=>ot("stage"))},[n("div",le,[t[16]||(t[16]=n("span",null,"Stage",-1)),c($e,{column:"stage","current-sort":Ye.value,"current-order":Je.value},null,8,["current-sort","current-order"])])]),n("th",{class:"sortable-column",onClick:t[4]||(t[4]=e=>ot("probability_percent"))},[n("div",ie,[t[17]||(t[17]=n("span",null,"Probability",-1)),c($e,{column:"probability_percent","current-sort":Ye.value,"current-order":Je.value},null,8,["current-sort","current-order"])])]),n("th",{class:"sortable-column",onClick:t[5]||(t[5]=e=>ot("expected_close_date"))},[n("div",ce,[t[18]||(t[18]=n("span",null,"Close Date",-1)),c($e,{column:"expected_close_date","current-sort":Ye.value,"current-order":Je.value},null,8,["current-sort","current-order"])])]),n("th",{class:"sortable-column",onClick:t[6]||(t[6]=e=>ot("deal_owner"))},[n("div",de,[t[19]||(t[19]=n("span",null,"Owner",-1)),c($e,{column:"deal_owner","current-sort":Ye.value,"current-order":Je.value},null,8,["current-sort","current-order"])])]),t[20]||(t[20]=n("th",{class:"actions-column"},[n("span",null,"Actions")],-1))])]),n("tbody",ue,[(g(!0),r(b,null,y(x.value,e=>{return g(),r("tr",{key:e.id,class:p(["table-row",{"row-selected":tt(e.id)}])},[n("td",pe,[n("input",{type:"checkbox",class:"row-checkbox",checked:tt(e.id),onChange:t=>(e=>{const t=We.value.indexOf(e);t>-1?We.value.splice(t,1):We.value.push(e)})(e.id),"aria-label":`Select ${e.name}`},null,40,me)]),n("td",be,[n("button",{type:"button",class:"name-button",onClick:t=>k("rowClick",e)},[n("span",ge,i(e.name),1),e.is_won?(g(),r("span",he,[c(u(P),{class:"h-4 w-4 text-green-500"})])):l("",!0)],8,ye)]),n("td",ve,[n("div",fe,[n("span",ke,i(e.organization_name),1),e.organization_type?(g(),r("span",we,i(e.organization_type),1)):l("",!0)])]),n("td",xe,[c(D,{stage:e.stage,size:"sm",compact:""},null,8,["stage"])]),n("td",_e,[c(z,{probability:e.probability_percent||0,size:"sm","show-label":!1,"show-percentage-inline":"",compact:""},null,8,["probability"])]),n("td",Ce,[e.expected_close_date?(g(),r("div",Se,[n("span",je,i((o=e.expected_close_date,new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))),1),null!==e.days_to_close?(g(),r("span",{key:0,class:p(["days-indicator",(a=e.days_to_close,a<0?"days-overdue":a<=7?"days-urgent":a<=30?"days-soon":"days-normal")])},i(it(e.days_to_close)),3)):l("",!0)])):(g(),r("span",Oe,"No date set"))]),n("td",De,[e.deal_owner?(g(),r("span",ze,i(e.deal_owner),1)):(g(),r("span",Me,"Unassigned"))]),n("td",Ne,[n("div",Ae,[n("button",{type:"button",class:"actions-trigger",onClick:t=>{return a=e.id,void(Ke.value=Ke.value===a?null:a);var a},"aria-label":`Actions for ${e.name}`,"aria-expanded":Ke.value===e.id},[c(u(I),{class:"h-5 w-5"})],8,Be),Ke.value===e.id?(g(),r("div",{key:0,class:"actions-menu",onClick:t[7]||(t[7]=h(()=>{},["stop"]))},[n("button",{type:"button",class:"action-item",onClick:t=>(e=>{Ke.value=null,k("edit",e)})(e)},[c(u(T),{class:"h-4 w-4"}),t[21]||(t[21]=d(" Edit ",-1))],8,Ee),n("button",{type:"button",class:"action-item",onClick:t=>(e=>{Ke.value=null,k("duplicate",e)})(e)},[c(u(L),{class:"h-4 w-4"}),t[22]||(t[22]=d(" Duplicate ",-1))],8,Pe),t[24]||(t[24]=n("div",{class:"action-divider"},null,-1)),n("button",{type:"button",class:"action-item action-item-danger",onClick:t=>(e=>{Ke.value=null,k("delete",e)})(e)},[c(u(M),{class:"h-4 w-4"}),t[23]||(t[23]=d(" Delete ",-1))],8,Ie)])):l("",!0)])])],2);var a,o}),128))])])])):(g(),r("div",Z,[n("div",q,[c(u(A),{class:"h-12 w-12 text-gray-400"})]),t[12]||(t[12]=n("h3",{class:"empty-title"},"No opportunities found",-1)),t[13]||(t[13]=n("p",{class:"empty-description"}," Get started by creating your first opportunity. ",-1)),n("button",{type:"button",class:"empty-action-btn",onClick:t[0]||(t[0]=e=>k("createNew"))}," Create Opportunity ")]))]),x.value.length>0?(g(),r("div",Te,[n("div",Le,[n("span",Re," Showing "+i(Ze.value)+" to "+i(qe.value)+" of "+i(S.value)+" results ",1)]),n("div",Ve,[n("button",{type:"button",class:"pagination-btn",disabled:!Ge.value||_.value,onClick:st,"aria-label":"Previous page"},[c(u(B),{class:"h-4 w-4"}),t[25]||(t[25]=d(" Previous ",-1))],8,He),n("span",Fe," Page "+i(O.value),1),n("button",{type:"button",class:"pagination-btn",disabled:!R.value||_.value,onClick:rt,"aria-label":"Next page"},[t[26]||(t[26]=d(" Next ",-1)),c(u(E),{class:"h-4 w-4"})],8,Ue)])])):l("",!0)]))}}),[["__scopeId","data-v-406f41e7"]]),We={class:"opportunities-list-view","data-testid":"opportunities-list-view"},Ke={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8","data-testid":"opportunities-header"},Ye={class:"flex items-center space-x-3"},Je=["disabled","aria-label"],Qe={class:"mb-8","data-testid":"kpi-cards-section"},Xe={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6"},Ze={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},qe={class:"flex-1 max-w-md"},et={class:"relative"},tt={class:"flex items-center space-x-3"},at=["aria-label"],ot={class:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},st=["d"],rt={class:"space-y-6"},nt={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-8","data-testid":"loading-spinner"},lt={key:1,class:"bg-white rounded-lg shadow-sm border border-red-200 p-6","data-testid":"error-message"},it={class:"flex items-center"},ct={class:"text-red-700"},dt={key:2,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center"},ut={class:"text-lg font-medium text-gray-900 mb-2"},pt={class:"text-gray-500 mb-6"},mt={class:"flex justify-center space-x-3"},bt={key:3,"data-testid":"opportunity-table-section"},yt=R(e({t:"OpportunitiesListView",setup(e){const s=S(),u=j(),b=a(""),y=a("created_at"),h=a("desc"),D=a(!1),z=a({stage:[],organization_id:"",product_id:"",deal_owner:"",expected_close_after:"",expected_close_before:""}),M=t(()=>u.opportunities),N=t(()=>u.isLoading),A=t(()=>u.error),B=t(()=>!!(b.value||z.value.stage||z.value.organization_id||z.value.product_id||z.value.deal_owner||z.value.probability_min||z.value.probability_max||z.value.expected_close_after||z.value.expected_close_before));let E;const P=()=>{clearTimeout(E),E=setTimeout(()=>{I()},300)},I=async()=>{const e={...z.value};b.value.trim()&&(e.search=b.value.trim());const t={page:1,limit:20,sort_by:y.value,sort_order:h.value};await u.fetchOpportunities(e,t)},T=()=>{b.value="",z.value={stage:[],organization_id:"",product_id:"",deal_owner:"",probability_min:void 0,probability_max:void 0,expected_close_after:"",expected_close_before:""},y.value="created_at",h.value="desc",I()},L=()=>{I()},R=()=>{h.value="asc"===h.value?"desc":"asc",I()},V=(e,t)=>{y.value=e,h.value=t,I()},H=async()=>{await Promise.all([F(),U()])},F=async()=>{const e={...z.value};b.value.trim()&&(e.search=b.value.trim());const t={page:1,limit:20,sort_by:y.value,sort_order:h.value};await u.fetchOpportunities(e,t)},U=async()=>{D.value=!0;try{await u.fetchKPIs()}finally{D.value=!1}},$=e=>{},G=e=>{s.push(`/opportunities/${e.id}`)},W=e=>{s.push(`/opportunities/${e.id}/edit`)},K=async e=>{confirm(`Are you sure you want to delete "${e.name}"? This action cannot be undone.`)&&await u.deleteOpportunity(e.id)},Y=e=>{},J=async e=>{confirm(`Are you sure you want to delete ${e.length} opportunities? This action cannot be undone.`)},Q=()=>{s.push("/opportunities/new")};return o(async()=>{await H()}),v(()=>s.currentRoute.value.fullPath,e=>{"/opportunities"===e&&H()}),(e,t)=>{const a=k("router-link");return g(),r("div",We,[n("div",Ke,[t[7]||(t[7]=n("div",{class:"mb-4 lg:mb-0"},[n("h1",{class:"text-3xl font-bold text-gray-900","data-testid":"page-title"},"Opportunities"),n("p",{class:"mt-2 text-gray-600"}," Manage your sales pipeline and track opportunity progress ")],-1)),n("div",Ye,[n("button",{onClick:H,disabled:N.value,class:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50","aria-label":N.value?"Refreshing...":"Refresh data"},[(g(),r("svg",{class:p(["h-4 w-4",{"animate-spin":N.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[4]||(t[4]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]),2)),t[5]||(t[5]=n("span",{class:"ml-2 hidden sm:inline"},"Refresh",-1))],8,Je),c(a,{to:"/opportunities/new",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:f(()=>t[6]||(t[6]=[n("svg",{class:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),d(" New Opportunity ",-1)])),o:1,l:[6]})])]),n("div",Qe,[c(O,{loading:D.value,onCardClick:$,"data-testid":"kpi-cards"},null,8,["loading"])]),n("div",Xe,[n("div",Ze,[n("div",qe,[t[9]||(t[9]=n("label",{for:"search",class:"sr-only"},"Search opportunities",-1)),n("div",et,[t[8]||(t[8]=n("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[n("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),w(n("input",{id:"search","onUpdate:modelValue":t[0]||(t[0]=e=>b.value=e),type:"text",placeholder:"Search opportunities...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500",onInput:P},null,544),[[x,b.value]])])]),n("div",tt,[w(n("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>z.value.stage=e),class:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",onChange:I},t[10]||(t[10]=[m('<option value="" data-v-43ba1899>All Stages</option><option value="NEW_LEAD" data-v-43ba1899>New Lead</option><option value="INITIAL_OUTREACH" data-v-43ba1899>Initial Outreach</option><option value="SAMPLE_VISIT_OFFERED" data-v-43ba1899>Sample/Visit Offered</option><option value="AWAITING_RESPONSE" data-v-43ba1899>Awaiting Response</option><option value="FEEDBACK_LOGGED" data-v-43ba1899>Feedback Logged</option><option value="DEMO_SCHEDULED" data-v-43ba1899>Demo Scheduled</option><option value="CLOSED_WON" data-v-43ba1899>Closed - Won</option>',8)]),544),[[_,z.value.stage]]),w(n("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>z.value.organization_id=e),class:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",onChange:I},t[11]||(t[11]=[n("option",{value:""},"All Organizations",-1)]),544),[[_,z.value.organization_id]]),w(n("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>y.value=e),class:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",onChange:L},t[12]||(t[12]=[m('<option value="created_at" data-v-43ba1899>Sort by Created Date</option><option value="name" data-v-43ba1899>Sort by Name</option><option value="stage" data-v-43ba1899>Sort by Stage</option><option value="probability_percent" data-v-43ba1899>Sort by Probability</option><option value="expected_close_date" data-v-43ba1899>Sort by Close Date</option>',5)]),544),[[_,y.value]]),n("button",{onClick:R,class:p(["p-2 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-primary-500",{"bg-gray-50":"desc"===h.value}]),"aria-label":"Sort "+("asc"===h.value?"descending":"ascending")},[(g(),r("svg",ot,[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"asc"===h.value?"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12":"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"},null,8,st)]))],10,at),B.value?(g(),r("button",{key:0,onClick:T,class:"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 focus:outline-none focus:ring-1 focus:ring-primary-500 rounded-md"}," Clear Filters ")):l("",!0)])])]),n("div",rt,[N.value&&0===M.value.length?(g(),r("div",nt,t[13]||(t[13]=[n("div",{class:"flex justify-center"},[n("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})],-1),n("p",{class:"text-center text-gray-500 mt-4"},"Loading opportunities...",-1)]))):A.value?(g(),r("div",lt,[n("div",it,[t[14]||(t[14]=n("svg",{class:"h-5 w-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),n("span",ct,i(A.value),1)]),n("div",{class:"mt-4 flex space-x-3"},[n("button",{onClick:H,class:"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700","data-testid":"retry-button"}," Try Again "),n("button",{onClick:T,class:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"}," Clear Filters ")])])):0!==M.value.length||N.value?(g(),r("div",bt,[c(Ge,{loading:N.value,onRowClick:G,onEdit:W,onDelete:K,onDuplicate:Y,onBulkDelete:J,onCreateNew:Q,onSortChange:V,"data-testid":"opportunity-table"},null,8,["loading"])])):(g(),r("div",dt,[t[16]||(t[16]=n("svg",{class:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),n("h3",ut,i(B.value?"No opportunities match your search":"No opportunities found"),1),n("p",pt,i(B.value?"Try adjusting your search terms or filters.":"Get started by creating your first opportunity."),1),n("div",mt,[B.value?l("",!0):(g(),C(a,{key:0,to:"/opportunities/new",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700"},{default:f(()=>t[15]||(t[15]=[n("svg",{class:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),d(" Create Your First Opportunity ",-1)])),o:1,l:[15]})),B.value?(g(),r("button",{key:1,onClick:T,class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"}," Clear All Filters ")):l("",!0)])]))])])}}}),[["__scopeId","data-v-43ba1899"]]);export{yt as default};
