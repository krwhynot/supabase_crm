import{c as a,V as e,a as t,b as s,d as r}from"./yup-D1qa_jJc.js";const i=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,n=/^[+]?[1-9][\d]{0,15}$|^[+]?[()]?[\d\s\-()]{10,20}$/,o=["Executive Chef","Manager","Buyer","Owner","F&B Director","Kitchen Manager","Assistant Manager","Head Chef","Sous Chef","Food Service Director"],c=["Champion","Supporter","Neutral","Skeptic","Blocker"],l=a({first_name:s().required("First name is required").min(1,"First name cannot be empty").max(100,"First name must be less than 100 characters").trim(),last_name:s().required("Last name is required").min(1,"Last name cannot be empty").max(100,"Last name must be less than 100 characters").trim(),organization_id:s().required("Organization is required").uuid("Organization ID must be valid"),position:s().required("Position is required").min(1,"Position cannot be empty").max(100,"Position must be less than 100 characters").trim(),phone:s().nullable().max(20,"Phone number must be less than 20 characters").matches(n,"Please enter a valid phone number").trim().transform(a=>""===a?null:a),email:s().nullable().matches(i,"Please enter a valid email address").max(255,"Email must be less than 255 characters").trim().lowercase().transform(a=>""===a?null:a),address:s().nullable().max(255,"Address must be less than 255 characters").trim().transform(a=>""===a?null:a),city:s().nullable().max(100,"City must be less than 100 characters").trim().transform(a=>""===a?null:a),state:s().nullable().max(50,"State must be less than 50 characters").trim().transform(a=>""===a?null:a),zip_code:s().nullable().max(20,"ZIP code must be less than 20 characters").trim().transform(a=>""===a?null:a),website:s().nullable().matches(/^https?:\/\/[^\s]+$/,"Website must be a valid URL starting with http:// or https://").max(255,"Website must be less than 255 characters").trim().transform(a=>""===a?null:a),account_manager:s().nullable().max(100,"Account manager must be less than 100 characters").trim().transform(a=>""===a?null:a),notes:s().nullable().max(5e3,"Notes must be less than 5000 characters").trim().transform(a=>""===a?null:a),is_primary:t().nullable().default(!1),advocacy_status:s().nullable().oneOf([...c,null],"Invalid advocacy status").default("Neutral"),is_key_contact:t().nullable().default(!1)}),d=a({first_name:s().min(1,"First name cannot be empty").max(100,"First name must be less than 100 characters").trim(),last_name:s().min(1,"Last name cannot be empty").max(100,"Last name must be less than 100 characters").trim(),organization_id:s().uuid("Organization ID must be valid"),position:s().max(100,"Position must be less than 100 characters").trim(),email:s().nullable().matches(i,"Please enter a valid email address").max(255,"Email must be less than 255 characters").trim().lowercase().transform(a=>""===a?null:a),phone:s().nullable().max(20,"Phone number must be less than 20 characters").matches(n,"Please enter a valid phone number").trim().transform(a=>""===a?null:a),address:s().nullable().max(255,"Address must be less than 255 characters").trim().transform(a=>""===a?null:a),city:s().nullable().max(100,"City must be less than 100 characters").trim().transform(a=>""===a?null:a),state:s().nullable().max(50,"State must be less than 50 characters").trim().transform(a=>""===a?null:a),zip_code:s().nullable().max(20,"ZIP code must be less than 20 characters").trim().transform(a=>""===a?null:a),website:s().nullable().matches(/^https?:\/\/[^\s]+$/,"Website must be a valid URL starting with http:// or https://").max(255,"Website must be less than 255 characters").trim().transform(a=>""===a?null:a),account_manager:s().nullable().max(100,"Account manager must be less than 100 characters").trim().transform(a=>""===a?null:a),notes:s().nullable().max(5e3,"Notes must be less than 5000 characters").trim().transform(a=>""===a?null:a),is_primary:t().nullable().default(!1),advocacy_status:s().nullable().oneOf([...c,null],"Invalid advocacy status"),is_key_contact:t().nullable().default(!1)}),m=a({search:s().max(255,"Search term must be less than 255 characters").trim(),limit:r().positive("Limit must be positive").max(100,"Limit cannot exceed 100").integer("Limit must be an integer"),offset:r().min(0,"Offset cannot be negative").integer("Offset must be an integer"),sortBy:s().oneOf(["first_name","last_name","organization","email","created_at"],"Invalid sort field"),sortOrder:s().oneOf(["asc","desc"],"Sort order must be asc or desc")}),u=l.pick(["first_name","last_name","organization_id","position","email","phone"]),h=l.pick(["address","city","state","zip_code","website","account_manager","notes","is_primary","advocacy_status","is_key_contact"]);class b{static async validateCreate(a){try{return{isValid:!0,data:await l.validate(a,{abortEarly:!1}),errors:[]}}catch(t){return t instanceof e?{isValid:!1,errors:t.inner.map(a=>({field:a.path||"unknown",message:a.message}))}:{isValid:!1,errors:[{field:"general",message:"Validation failed"}]}}}static async validateUpdate(a){try{return{isValid:!0,data:await d.validate(a,{abortEarly:!1}),errors:[]}}catch(t){return t instanceof e?{isValid:!1,errors:t.inner.map(a=>({field:a.path||"unknown",message:a.message}))}:{isValid:!1,errors:[{field:"general",message:"Validation failed"}]}}}static async validateSearch(a){try{return{isValid:!0,data:await m.validate(a,{abortEarly:!1}),errors:[]}}catch(t){return t instanceof e?{isValid:!1,errors:t.inner.map(a=>({field:a.path||"unknown",message:a.message}))}:{isValid:!1,errors:[{field:"general",message:"Validation failed"}]}}}static async validateStepOne(a){try{return{isValid:!0,data:await u.validate(a,{abortEarly:!1}),errors:[]}}catch(t){return t instanceof e?{isValid:!1,errors:t.inner.map(a=>({field:a.path||"unknown",message:a.message}))}:{isValid:!1,errors:[{field:"general",message:"Step 1 validation failed"}]}}}static async validateStepThree(a){try{return{isValid:!0,data:await h.validate(a,{abortEarly:!1}),errors:[]}}catch(t){return t instanceof e?{isValid:!1,errors:t.inner.map(a=>({field:a.path||"unknown",message:a.message}))}:{isValid:!1,errors:[{field:"general",message:"Step 3 validation failed"}]}}}static cleanFormData(a){const e={};return Object.entries(a).forEach(([a,t])=>{if("string"==typeof t){const s=t.trim();e[a]=""===s?null:s}else e[a]=t}),e}static formToInsert(a){return{first_name:a.first_name,last_name:a.last_name,organization_id:a.organization_id,position:a.position,phone:a.phone,email:a.email,address:a.address,city:a.city,state:a.state,zip_code:a.zip_code,website:a.website,account_manager:a.account_manager,notes:a.notes,is_primary:a.is_primary||!1,advocacy_status:a.advocacy_status||"Neutral",is_key_contact:a.is_key_contact||!1}}static formToUpdate(a){const e={};return void 0!==a.first_name&&(e.first_name=a.first_name),void 0!==a.last_name&&(e.last_name=a.last_name),void 0!==a.organization_id&&(e.organization_id=a.organization_id),void 0!==a.position&&(e.position=a.position),void 0!==a.phone&&(e.phone=a.phone),void 0!==a.email&&(e.email=a.email),void 0!==a.address&&(e.address=a.address),void 0!==a.city&&(e.city=a.city),void 0!==a.state&&(e.state=a.state),void 0!==a.zip_code&&(e.zip_code=a.zip_code),void 0!==a.website&&(e.website=a.website),void 0!==a.account_manager&&(e.account_manager=a.account_manager),void 0!==a.notes&&(e.notes=a.notes),void 0!==a.is_primary&&(e.is_primary=a.is_primary),void 0!==a.advocacy_status&&(e.advocacy_status=a.advocacy_status),void 0!==a.is_key_contact&&(e.is_key_contact=a.is_key_contact),e}static contactToForm(a){return{first_name:a.first_name||"",last_name:a.last_name||"",organization_id:a.organization_id||"",position:a.position||"",phone:a.phone,email:a.email,address:a.address,city:a.city,state:a.state,zip_code:a.zip_code,website:a.website,account_manager:a.account_manager,notes:a.notes,is_primary:a.is_primary,advocacy_status:a.advocacy_status,is_key_contact:a.is_key_contact}}}const p={getFullName:a=>`${a.first_name} ${a.last_name}`.trim(),getDisplayName:(a,e)=>{const t=p.getFullName(a);return e?`${t} (${e})`:t},getPositionLabel:a=>a||"No position specified",formatPhone:a=>{if(!a)return"No phone";const e=a.replace(/\D/g,"");return 10===e.length?`(${e.slice(0,3)}) ${e.slice(3,6)}-${e.slice(6)}`:11===e.length&&"1"===e[0]?`+1 (${e.slice(1,4)}) ${e.slice(4,7)}-${e.slice(7)}`:a},getInitials:a=>`${a.first_name.charAt(0).toUpperCase()}${a.last_name.charAt(0).toUpperCase()}`,formatCreatedDate:a=>a.created_at?new Date(a.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown"};export{b as C,o as P,u as a,h as b,p as c};
