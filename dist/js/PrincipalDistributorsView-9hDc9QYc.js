import{d as e,r as t,c as s,w as r,y as a,G as i,N as l,E as n,D as o,C as c,J as d,W as u,U as p,u as m,B as b,V as x,K as g,X as y,Y as f,F as h,L as v,a1 as w,_ as k}from"./vue-runtime-Ds28nt_E.js";import{b as _}from"./vue-router-BP51f1Hv.js";import{_ as D}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-BhtIB2qb.js";import{P as j}from"./PrincipalSelector-PYcqOzWK.js";import{D as S}from"./DistributorRelationshipTable-DJHD5sd1.js";import{u as C}from"./principalStore-Bil7HxyJ.js";import{ae as $,af as M,f as P,a8 as R,K as A,i as N,u as T,d as L,r as V,H as B,a9 as I,b as z,S as E,k as U,j as H}from"./heroicons-QXV26b6T.js";import{_ as X}from"./_plugin-vue_export-helper-DYAABpgn.js";import"./dashboardStore-CKr5DBFN.js";import"./pinia-CUC4VGP7.js";import"./opportunityStore-Cei765hD.js";import"./supabaseClient-Bh63a8tq.js";import"./supabase-BNBjhZ5t.js";import"./index-CocGRfLV.js";import"./yup-D1qa_jJc.js";import"./productStore-C7_R-7jb.js";import"./organizationStore-Cdi8siI6.js";import"./EngagementScoreRing-BHsysYHG.js";/* empty css                                                                                     */import"./organizationsApi-CU0xJvEA.js";const Y={class:"principal-distributors-view"},G={class:"mb-6"},F={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},O={class:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3"},Z=["disabled"],K={class:"flex rounded-md shadow-sm"},W={class:"mb-6"},q={key:0,class:"flex items-center justify-center py-12"},J={key:1,class:"text-center py-12"},Q={key:2,class:"space-y-6"},ee={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},te={class:"bg-white rounded-lg border border-gray-200 p-4"},se={class:"flex items-center"},re={class:"flex-shrink-0"},ae={class:"ml-3"},ie={class:"text-2xl font-bold text-gray-900"},le={class:"bg-white rounded-lg border border-gray-200 p-4"},ne={class:"flex items-center"},oe={class:"flex-shrink-0"},ce={class:"ml-3"},de={class:"text-2xl font-bold text-gray-900"},ue={class:"bg-white rounded-lg border border-gray-200 p-4"},pe={class:"flex items-center"},me={class:"flex-shrink-0"},be={class:"ml-3"},xe={class:"text-2xl font-bold text-gray-900"},ge={class:"bg-white rounded-lg border border-gray-200 p-4"},ye={class:"flex items-center"},fe={class:"flex-shrink-0"},he={class:"ml-3"},ve={class:"text-2xl font-bold text-gray-900"},we={class:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4"},ke={class:"flex-1"},_e={class:"relative"},De=["value"],je={key:0,class:"bg-white rounded-lg border border-gray-200 p-6"},Se={class:"relative h-96 bg-gray-50 rounded-lg overflow-hidden"},Ce=["width","height"],$e={class:"connections"},Me=["x1","y1","x2","y2"],Pe={class:"nodes"},Re=["transform","onClick"],Ae=["r","fill","stroke"],Ne={"text-anchor":"middle","dominant-baseline":"middle",class:"text-xs fill-white font-medium pointer-events-none"},Te=["y"],Le={key:0,class:"mt-4 p-4 bg-blue-50 rounded-lg"},Ve={class:"flex items-start justify-between"},Be={class:"text-sm font-medium text-blue-900"},Ie={class:"text-sm text-blue-700 mt-1"},ze={class:"text-xs text-blue-600 mt-2"},Ee={key:1,class:"bg-white rounded-lg border border-gray-200 p-6"},Ue={class:"space-y-4"},He={class:"flex items-center p-4 bg-blue-50 rounded-lg"},Xe={class:"flex-shrink-0"},Ye={class:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center"},Ge={class:"ml-4"},Fe={class:"text-sm font-medium text-gray-900"},Oe={class:"ml-6 space-y-3"},Ze={class:"flex-shrink-0"},Ke={class:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center"},We={class:"ml-3 flex-1 min-w-0"},qe={class:"flex items-center justify-between"},Je={class:"text-sm font-medium text-gray-900 truncate"},Qe={class:"text-sm text-gray-500"},et={class:"flex items-center space-x-2 ml-4"},tt=["onClick"],st={key:2,class:"bg-white rounded-lg border border-gray-200 overflow-hidden"},rt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},at={class:"bg-white rounded-lg border border-gray-200 p-6"},it={class:"space-y-4"},lt={class:"space-y-2"},nt={class:"flex items-center"},ot={class:"text-sm text-gray-700"},ct={class:"flex items-center space-x-2"},dt={class:"text-sm font-medium text-gray-900"},ut={class:"text-xs text-gray-500"},pt={class:"space-y-2"},mt={class:"text-sm text-gray-700"},bt={class:"flex items-center space-x-2"},xt={class:"text-sm font-medium text-gray-900"},gt={class:"w-16 bg-gray-200 rounded-full h-2"},yt={class:"bg-white rounded-lg border border-gray-200 p-6"},ft={class:"space-y-4"},ht={class:"flex-shrink-0"},vt={class:"flex-1 min-w-0"},wt={class:"text-sm text-gray-900"},kt={class:"text-xs text-gray-500 mt-1"},_t={key:0,class:"text-center py-4"},Dt={key:3,class:"bg-red-50 border border-red-200 rounded-lg p-4"},jt={class:"flex"},St={class:"text-sm text-red-700 mt-1"},Ct=X(e({t:"PrincipalDistributorsView",setup(e){const X=_(),Ct=C(),$t=t(null),Mt=t("hierarchy"),Pt=t(""),Rt=t(""),At=t(""),Nt=t(!1),Tt=t(null),Lt=t([]),Vt=t(null),Bt=t(),It=t(800),zt=t(400),Et=s(()=>Ct.loading),Ut=s(()=>Ct.error),Ht=s(()=>Lt.value.filter(e=>"HAS_DISTRIBUTOR"===e.relationship_type).length),Xt=s(()=>new Set(Lt.value.map(e=>`${e.distributor_city}, ${e.distributor_state}`)).size),Yt=s(()=>{if(!Lt.value.length)return 0;const e=Lt.value.map(e=>new Date(e.distributor_last_contact||Date.now())).filter(e=>!isNaN(e.getTime()));if(!e.length)return 0;const t=Math.max(...e.map(e=>e.getTime()));return Math.floor((Date.now()-t)/864e5)}),Gt=s(()=>{const e=new Set(Lt.value.map(e=>`${e.distributor_city}, ${e.distributor_state}`));return Array.from(e).sort()}),Ft=s(()=>{let e=[...Lt.value];if(Pt.value){const t=Pt.value.toLowerCase();e=e.filter(e=>e.distributor_name?.toLowerCase().includes(t)||`${e.distributor_city}, ${e.distributor_state}`.toLowerCase().includes(t))}return Rt.value&&(e=e.filter(e=>`${e.distributor_city}, ${e.distributor_state}`===Rt.value)),At.value&&(e=e.filter(e=>e.relationship_type===At.value)),e}),Ot=s(()=>Lt.value.length),Zt=s(()=>{const e=Lt.value.reduce((e,t)=>{const s=t.relationship_type;return e[s]=(e[s]||0)+1,e},{});return Object.entries(e).map(([e,t])=>({type:e,count:t}))}),Kt=s(()=>{const e=Lt.value.reduce((e,t)=>{const s=`${t.distributor_city}, ${t.distributor_state}`;return e[s]=(e[s]||0)+1,e},{});return Object.entries(e).map(([e,t])=>({name:e,count:t})).sort((e,t)=>t.count-e.count)}),Wt=s(()=>{const e=[];return $t.value&&e.push({id:`principal_${$t.value.id}`,name:$t.value.name,type:"principal",x:It.value/2,y:zt.value/2,size:25,selected:Vt.value?.id===`principal_${$t.value.id}`,territory:"All",lastContact:(new Date).toISOString()}),Ft.value.forEach((t,s)=>{const r=s/Ft.value.length*2*Math.PI,a=It.value/2+120*Math.cos(r),i=zt.value/2+120*Math.sin(r);e.push({id:t.distributor_id,name:t.distributor_name||"Unknown",type:t.relationship_type,x:a,y:i,size:18,selected:Vt.value?.id===t.distributor_id,territory:`${t.distributor_city}, ${t.distributor_state}`,lastContact:t.distributor_last_contact})}),e}),qt=s(()=>{const e=[],t=Wt.value.find(e=>"principal"===e.type);return t?(Wt.value.forEach(s=>{"principal"!==s.type&&e.push({from:t.id,to:s.id,type:s.type,x1:t.x,y1:t.y,x2:s.x,y2:s.y})}),e):e}),Jt=s(()=>[{id:1,type:"contact",description:"Phone call with ABC Distribution regarding new product line",date:new Date(Date.now()-1728e5).toISOString(),distributor:"ABC Distribution"},{id:2,type:"email",description:"Sent quarterly performance report to XYZ Partners",date:new Date(Date.now()-432e6).toISOString(),distributor:"XYZ Partners"},{id:3,type:"meeting",description:"Scheduled strategy meeting with Regional Sales Inc",date:new Date(Date.now()-6048e5).toISOString(),distributor:"Regional Sales Inc"}]),Qt=async()=>{if($t.value){Nt.value=!0,Tt.value=null;try{await new Promise(e=>setTimeout(e,1e3));const e=["ABC Distribution Network","XYZ Sales Partners","Regional Market Solutions","Global Supply Chain Co","Premium Distribution LLC","Strategic Partners Inc","Market Leaders Group","Nationwide Distributors","Elite Sales Network","Professional Partners Corp","Industry Leaders Alliance","Prime Distribution Hub"],t=["direct","indirect","strategic","partner"];Lt.value=e.map((e,s)=>({principal_id:$t.value?.id||`principal_${s+1}`,principal_name:`Principal ${s+1}`,principal_status:"Active",distributor_id:`dist_${s+1}`,distributor_name:e,distributor_status:"Active",relationship_type:t[Math.floor(Math.random()*t.length)],principal_city:"Sample City",principal_state:"Sample State",principal_country:"Sample Country",distributor_city:"Distributor City",distributor_state:"Distributor State",distributor_country:"Distributor Country",principal_lead_score:Math.floor(100*Math.random()),distributor_lead_score:Math.floor(100*Math.random()),principal_created_at:new Date(Date.now()-365*Math.random()*24*60*60*1e3).toISOString(),principal_last_contact:new Date(Date.now()-30*Math.random()*24*60*60*1e3).toISOString(),distributor_last_contact:new Date(Date.now()-90*Math.random()*24*60*60*1e3).toISOString()}))}catch(e){Tt.value=e instanceof Error?e.message:"Failed to load distributor data"}finally{Nt.value=!1}}},es=e=>{const t=new Date(e),s=new Date,r=Math.floor((s.getTime()-t.getTime())/864e5);return 0===r?"Today":1===r?"Yesterday":r<7?`${r} days ago`:r<30?`${Math.floor(r/7)} weeks ago`:`${Math.floor(r/30)} months ago`},ts=e=>e.charAt(0).toUpperCase()+e.slice(1),ss=e=>({direct:"#10b981",indirect:"#3b82f6",strategic:"#8b5cf6",partner:"#f59e0b"}[e]||"#6b7280"),rs=e=>({principal:"👤",direct:"🏢",indirect:"🔗",strategic:"⭐",partner:"🤝"}[e]||"🏢"),as=e=>({contact:"bg-blue-100 text-blue-600",email:"bg-green-100 text-green-600",meeting:"bg-purple-100 text-purple-600"}[e]||"bg-gray-100 text-gray-600"),is=e=>({contact:H,email:U,meeting:E}[e]||E),ls=e=>{},ns=e=>{},os=e=>{},cs=()=>{};return r($t,()=>{$t.value?Qt():Lt.value=[]},{immediate:!1}),a(async()=>{0===Ct.principals.length&&await Ct.fetchPrincipals();const e=X.params.principalId;if(e){const t=Ct.principals.find(t=>t.id===e);t&&($t.value=t)}}),(e,t)=>(n(),i(D,null,{default:l(()=>{return[o("div",Y,[o("div",G,[o("div",F,[t[9]||(t[9]=o("div",{class:"mb-4 sm:mb-0"},[o("h1",{class:"text-2xl font-bold text-gray-900"},"Distributor Network"),o("p",{class:"mt-1 text-sm text-gray-500"}," Manage relationships and visualize distributor connections ")],-1)),o("div",O,[o("button",{onClick:cs,disabled:!$t.value,class:"inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px]"},[u(m($),{class:"h-4 w-4 mr-2"}),t[8]||(t[8]=p(" Add Relationship ",-1))],8,Z),o("div",K,[o("button",{onClick:t[0]||(t[0]=e=>Mt.value="network"),class:b(["px-4 py-2 text-sm font-medium rounded-l-md border min-h-[44px]","network"===Mt.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"])},[u(m(M),{class:"h-4 w-4"})],2),o("button",{onClick:t[1]||(t[1]=e=>Mt.value="hierarchy"),class:b(["px-4 py-2 text-sm font-medium border-t border-b min-h-[44px]","hierarchy"===Mt.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"])},[u(m(P),{class:"h-4 w-4"})],2),o("button",{onClick:t[2]||(t[2]=e=>Mt.value="table"),class:b(["px-4 py-2 text-sm font-medium rounded-r-md border-t border-r border-b min-h-[44px]","table"===Mt.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"])},[u(m(R),{class:"h-4 w-4"})],2)])])])]),o("div",W,[u(j,{modelValue:$t.value,"onUpdate:modelValue":t[3]||(t[3]=e=>$t.value=e),loading:Et.value,error:Ut.value,placeholder:"Select a principal to view their distributor network...",class:"w-full"},null,8,["modelValue","loading","error"])]),Nt.value&&$t.value?(n(),c("div",q,t[10]||(t[10]=[o("div",{class:"text-center"},[o("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),o("p",{class:"mt-4 text-sm text-gray-500"},"Loading distributor network...")],-1)]))):$t.value?$t.value?(n(),c("div",Q,[o("div",ee,[o("div",te,[o("div",se,[o("div",re,[u(m(P),{class:"h-6 w-6 text-blue-500"})]),o("div",ae,[t[13]||(t[13]=o("p",{class:"text-sm font-medium text-gray-500"},"Distributors",-1)),o("p",ie,x(Lt.value?.length||0),1)])])]),o("div",le,[o("div",ne,[o("div",oe,[u(m(A),{class:"h-6 w-6 text-green-500"})]),o("div",ce,[t[14]||(t[14]=o("p",{class:"text-sm font-medium text-gray-500"},"Active Contacts",-1)),o("p",de,x(Ht.value),1)])])]),o("div",ue,[o("div",pe,[o("div",me,[u(m(N),{class:"h-6 w-6 text-purple-500"})]),o("div",be,[t[15]||(t[15]=o("p",{class:"text-sm font-medium text-gray-500"},"Territories",-1)),o("p",xe,x(Xt.value),1)])])]),o("div",ge,[o("div",ye,[o("div",fe,[u(m(T),{class:"h-6 w-6 text-yellow-500"})]),o("div",he,[t[16]||(t[16]=o("p",{class:"text-sm font-medium text-gray-500"},"Last Contact",-1)),o("p",ve,x(Yt.value)+"d ",1)])])])]),o("div",we,[o("div",ke,[o("div",_e,[u(m(L),{class:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),g(o("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>Pt.value=e),type:"text",placeholder:"Search distributors...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 min-h-[44px]"},null,512),[[y,Pt.value]])])]),g(o("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>Rt.value=e),class:"block w-full sm:w-48 px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[44px]"},[t[17]||(t[17]=o("option",{value:""},"All Territories",-1)),(n(!0),c(h,null,v(Gt.value,e=>(n(),c("option",{key:e,value:e},x(e),9,De))),128))],512),[[f,Rt.value]]),g(o("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>At.value=e),class:"block w-full sm:w-48 px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[44px]"},t[18]||(t[18]=[o("option",{value:""},"All Relationships",-1),o("option",{value:"direct"},"Direct",-1),o("option",{value:"indirect"},"Indirect",-1),o("option",{value:"strategic"},"Strategic",-1),o("option",{value:"partner"},"Partner",-1)]),512),[[f,At.value]])]),"network"===Mt.value?(n(),c("div",je,[t[20]||(t[20]=o("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Network Visualization",-1)),o("div",Se,[(n(),c("svg",{ref_key:"networkSvg",ref:Bt,width:It.value,height:zt.value,class:"w-full h-full"},[o("g",$e,[(n(!0),c(h,null,v(qt.value,e=>{return n(),c("line",{key:`${e.from}-${e.to}`,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:"#e5e7eb","stroke-width":"2",class:b((t=e.type,{direct:"stroke-green-400",indirect:"stroke-blue-400",strategic:"stroke-purple-400",partner:"stroke-yellow-400"}[t]||"stroke-gray-400"))},null,10,Me);var t}),128))]),o("g",Pe,[(n(!0),c(h,null,v(Wt.value,e=>{return n(),c("g",{key:e.id,transform:`translate(${e.x}, ${e.y})`,class:"network-node cursor-pointer",onClick:t=>(e=>{Vt.value=Vt.value?.id===e.id?null:e})(e)},[o("circle",{r:e.size,fill:(s=e.type,{principal:"#3b82f6",direct:"#10b981",indirect:"#06b6d4",strategic:"#8b5cf6",partner:"#f59e0b"}[s]||"#6b7280"),stroke:e.selected?"#3b82f6":"#ffffff","stroke-width":"2",class:"hover:opacity-80 transition-opacity duration-200"},null,8,Ae),o("text",Ne,x(rs(e.type)),1),o("text",{y:e.size+15,"text-anchor":"middle",class:"text-xs fill-gray-700 font-medium pointer-events-none"},x((t=e.name,t.length<=12?t:t.substring(0,9)+"...")),9,Te)],8,Re);var t,s}),128))])],8,Ce)),t[19]||(t[19]=o("div",{class:"absolute top-4 right-4 bg-white rounded-lg p-3 shadow-sm border border-gray-200"},[o("h4",{class:"text-xs font-medium text-gray-700 mb-2"},"Network Legend"),o("div",{class:"space-y-1"},[o("div",{class:"flex items-center text-xs"},[o("div",{class:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),o("span",{class:"text-gray-600"},"Principal")]),o("div",{class:"flex items-center text-xs"},[o("div",{class:"w-3 h-3 rounded-full bg-green-500 mr-2"}),o("span",{class:"text-gray-600"},"Distributor")]),o("div",{class:"flex items-center text-xs"},[o("div",{class:"w-3 h-3 rounded-full bg-purple-500 mr-2"}),o("span",{class:"text-gray-600"},"Partner")])])],-1))]),Vt.value?(n(),c("div",Le,[o("div",Ve,[o("div",null,[o("h4",Be,x(Vt.value.name),1),o("p",Ie,x((e=Vt.value.type,{principal:"Principal",direct:"Direct Distributor",indirect:"Indirect Distributor",strategic:"Strategic Partner",partner:"Business Partner"}[e]||e)),1),o("p",ze," Territory: "+x(Vt.value.territory)+" • Last Contact: "+x(es(Vt.value.lastContact)),1)]),o("button",{onClick:t[7]||(t[7]=e=>Vt.value=null),class:"text-blue-400 hover:text-blue-600"},[u(m(V),{class:"h-5 w-5"})])])])):d("",!0)])):"hierarchy"===Mt.value?(n(),c("div",Ee,[t[22]||(t[22]=o("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Relationship Hierarchy",-1)),o("div",Ue,[o("div",He,[o("div",Xe,[o("div",Ye,[u(m(B),{class:"h-5 w-5 text-white"})])]),o("div",Ge,[o("h4",Fe,x($t.value.name),1),t[21]||(t[21]=o("p",{class:"text-sm text-gray-500"},"Principal",-1))])]),o("div",Oe,[(n(!0),c(h,null,v(Ft.value,(e,t)=>{return n(),c("div",{key:e.distributor_id||`dist_${t}`,class:"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200"},[o("div",Ze,[o("div",Ke,[u(m(P),{class:"h-4 w-4 text-white"})])]),o("div",We,[o("div",qe,[o("div",null,[o("h5",Je,x(e.distributor_name),1),o("p",Qe,x(ts(e.relationship_type))+" • "+x(e.distributor_city)+", "+x(e.distributor_state),1)]),o("div",et,[o("span",{class:b(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",(s=e.relationship_type,{active:"bg-green-100 text-green-800",strong:"bg-blue-100 text-blue-800",developing:"bg-yellow-100 text-yellow-800",inactive:"bg-gray-100 text-gray-800"}[s]||"bg-gray-100 text-gray-800")])},x(ts(e.relationship_type)),3),o("button",{onClick:e=>{},class:"text-blue-600 hover:text-blue-800"},[u(m(I),{class:"h-4 w-4"})],8,tt)])])])]);var s}),128))])])])):(n(),c("div",st,[u(S,{relationships:Ft.value,loading:Nt.value,"principal-name":$t.value?.name,onViewDetails:ls,onEditRelationship:ns,onRemoveRelationship:os},null,8,["relationships","loading","principal-name"])])),o("div",rt,[o("div",at,[t[25]||(t[25]=o("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Relationship Statistics",-1)),o("div",it,[o("div",null,[t[23]||(t[23]=o("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"By Relationship Type",-1)),o("div",lt,[(n(!0),c(h,null,v(Zt.value,e=>(n(),c("div",{key:e.type,class:"flex items-center justify-between"},[o("div",nt,[o("div",{class:"w-3 h-3 rounded-full mr-3",style:w({backgroundColor:ss(e.type)})},null,4),o("span",ot,x(ts(e.type)),1)]),o("div",ct,[o("span",dt,x(e.count),1),o("span",ut,"("+x(Math.round(e.count/Ot.value*100))+"%)",1)])]))),128))])]),o("div",null,[t[24]||(t[24]=o("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"By Territory",-1)),o("div",pt,[(n(!0),c(h,null,v(Kt.value,e=>(n(),c("div",{key:e.name,class:"flex items-center justify-between"},[o("span",mt,x(e.name),1),o("div",bt,[o("span",xt,x(e.count),1),o("div",gt,[o("div",{class:"bg-blue-500 h-2 rounded-full",style:w({width:e.count/Ot.value*100+"%"})},null,4)])])]))),128))])])])]),o("div",yt,[t[27]||(t[27]=o("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Recent Activity",-1)),o("div",ft,[(n(!0),c(h,null,v(Jt.value,e=>(n(),c("div",{key:e.id,class:"flex items-start space-x-3"},[o("div",ht,[o("div",{class:b(["w-8 h-8 rounded-full flex items-center justify-center",as(e.type)])},[(n(),i(k(is(e.type)),{class:"h-4 w-4"}))],2)]),o("div",vt,[o("p",wt,x(e.description),1),o("p",kt,x(es(e.date))+" • "+x(e.distributor),1)])]))),128)),0===Jt.value.length?(n(),c("div",_t,t[26]||(t[26]=[o("p",{class:"text-sm text-gray-500"},"No recent activity",-1)]))):d("",!0)])])])])):d("",!0):(n(),c("div",J,[u(m(M),{class:"mx-auto h-16 w-16 text-gray-400"}),t[11]||(t[11]=o("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"Distributor Network",-1)),t[12]||(t[12]=o("p",{class:"mt-2 text-sm text-gray-500"}," Select a principal above to view and manage their distributor relationships and network connections. ",-1))])),Tt.value?(n(),c("div",Dt,[o("div",jt,[u(m(z),{class:"h-5 w-5 text-red-400 mr-3 flex-shrink-0"}),o("div",null,[t[28]||(t[28]=o("h3",{class:"text-sm font-medium text-red-800"},"Error Loading Distributor Network",-1)),o("p",St,x(Tt.value),1),o("button",{onClick:Qt,class:"mt-2 text-sm font-medium text-red-800 hover:text-red-900"}," Try again ")])])])):d("",!0)])];var e}),i:1}))}}),[["__scopeId","data-v-d06cfae0"]]);export{Ct as default};
