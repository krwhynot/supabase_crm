function t(t){return t&&"object"==typeof t&&"[object Object]"===Object.prototype.toString.call(t)&&"function"!=typeof t.toJSON}function n(){const t=u(!0),n=t.run(()=>f({}));let o=[],e=[];const s=l({install(t){w(s),s.t=t,t.provide(I,s),t.config.globalProperties.$pinia=s,e.forEach(t=>o.push(t)),e=[]},use(t){return this.t?o.push(t):e.push(t),this},o,t:null,i:t,u:new Map,state:n});return s}function o(t,n,o,e=P){t.push(n);const s=()=>{const o=t.indexOf(n);o>-1&&(t.splice(o,1),e())};return!o&&h()&&j(s),s}function e(t,...n){t.slice().forEach(t=>{t(...n)})}function s(n,o){n instanceof Map&&o instanceof Map?o.forEach((t,o)=>n.set(o,t)):n instanceof Set&&o instanceof Set&&o.forEach(n.add,n);for(const e in o){if(!o.hasOwnProperty(e))continue;const c=o[e],i=n[e];t(i)&&t(c)&&n.hasOwnProperty(e)&&!y(c)&&!b(c)?n[e]=s(i,c):n[e]=c}return n}function c(n){return!t(n)||!n.hasOwnProperty(q)}function i(t){return!(!y(t)||!t.effect)}function r(t,n,r={},a,l,h){function j(n){let o;O=_=!1,"function"==typeof n?(n(a.state.value[t]),o={type:M.patchFunction,storeId:t,events:I}):(s(a.state.value[t],n),o={type:M.patchObject,payload:n,storeId:t,events:I});const c=C=Symbol();S().then(()=>{C===c&&(O=!0)}),_=!0,e(A,o,a.state.value[t])}let $;const g=z({actions:{}},r),v={deep:!0};let O,_,I,A=[],q=[];const B=a.state.value[t];let C;h||B||(a.state.value[t]={}),f({});const D=h?function(){const{state:t}=r,n=t?t():{};this.$patch(t=>{z(t,n)})}:P,F=(n,o="")=>{if(x in n)return n[E]=o,n;const s=function(){w(a);const o=Array.from(arguments),c=[],i=[];let r;e(q,{args:o,name:s[E],store:H,after:function(t){c.push(t)},onError:function(t){i.push(t)}});try{r=n.apply(this&&this.$id===t?this:H,o)}catch(u){throw e(i,u),u}return r instanceof Promise?r.then(t=>(e(c,t),t)).catch(t=>(e(i,t),Promise.reject(t))):(e(c,r),r)};return s[x]=!0,s[E]=o,s},G={o:a,$id:t,$onAction:o.bind(null,q),$patch:j,$reset:D,$subscribe(n,e={}){const s=o(A,n,e.detached,()=>c()),c=$.run(()=>d(()=>a.state.value[t],o=>{("sync"===e.flush?_:O)&&n({storeId:t,type:M.direct,events:I},o)},z({},v,e)));return s},$dispose:function(){$.stop(),A=[],q=[],a.u.delete(t)}},H=p(G);a.u.set(t,H);const J=(a.t&&a.t.runWithContext||k)(()=>a.i.run(()=>($=u()).run(()=>n({action:F}))));for(const o in J){const n=J[o];if(y(n)&&!i(n)||b(n))h||(B&&c(n)&&(y(n)?n.value=B[o]:s(n,B[o])),a.state.value[t][o]=n);else if("function"==typeof n){const t=F(n,o);J[o]=t,g.actions[o]=n}}return z(H,J),z(m(H),J),Object.defineProperty(H,"$state",{get:()=>a.state.value[t],set:t=>{j(n=>{z(n,t)})}}),a.o.forEach(t=>{z(H,$.run(()=>t({store:H,app:a.t,pinia:a,options:g})))}),B&&h&&r.hydrate&&r.hydrate(H.$state,B),O=!0,_=!0,H}function a(t,n,o){function e(t,o){const e=O();return(t=t||(e?v(I,null):null))&&w(t),(t=_).u.has(s)||(i?r(s,n,c,t):function(t,n,o){const{state:e,actions:s,getters:c}=n,i=o.state.value[t];let a;a=r(t,function(){i||(o.state.value[t]=e?e():{});const n=$(o.state.value[t]);return z(n,s,Object.keys(c||{}).reduce((n,e)=>(n[e]=l(g(()=>{w(o);const n=o.u.get(t);return c[e].call(n,n)})),n),{}))},n,o,0,!0)}(s,c,t)),t.u.get(s)}let s,c;const i="function"==typeof n;return"string"==typeof t?(s=t,c=i?o:n):(c=t,s=t.id),e.$id=s,e}import{e as u,r as f,m as l,b as p,f as y,g as b,t as m,j as h,o as j,w as d,n as S,k as $,c as g,i as v,l as O}from"./vue-runtime-Ds28nt_E.js";let _;const w=t=>_=t,I=Symbol();var M,A;(A=M||(M={})).direct="direct",A.patchObject="patch object",A.patchFunction="patch function";const P=()=>{},k=t=>t(),x=Symbol(),E=Symbol(),q=Symbol(),{assign:z}=Object;export{n as c,a as d};
