import{a as e,V as a,b as t,d as s,e as r}from"./yup-D02u5inE.js";const i=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,n=/^[+]?[1-9][\d]{0,15}$|^[+]?[()]?[\d\s\-()]{10,20}$/,o=["Executive Chef","Manager","Buyer","Owner","F&B Director","Kitchen Manager","Assistant Manager","Head Chef","Sous Chef","Food Service Director"],l=e({first_name:s().required("First name is required").min(1,"First name cannot be empty").max(100,"First name must be less than 100 characters").trim(),last_name:s().required("Last name is required").min(1,"Last name cannot be empty").max(100,"Last name must be less than 100 characters").trim(),organization_id:s().required("Organization is required").uuid("Organization ID must be valid"),position:s().required("Position is required").min(1,"Position cannot be empty").max(100,"Position must be less than 100 characters").trim(),phone:s().nullable().max(20,"Phone number must be less than 20 characters").matches(n,"Please enter a valid phone number").trim().transform(e=>""===e?null:e),email:s().nullable().matches(i,"Please enter a valid email address").max(255,"Email must be less than 255 characters").trim().lowercase().transform(e=>""===e?null:e),address:s().nullable().max(255,"Address must be less than 255 characters").trim().transform(e=>""===e?null:e),city:s().nullable().max(100,"City must be less than 100 characters").trim().transform(e=>""===e?null:e),state:s().nullable().max(50,"State must be less than 50 characters").trim().transform(e=>""===e?null:e),zip_code:s().nullable().max(20,"ZIP code must be less than 20 characters").trim().transform(e=>""===e?null:e),website:s().nullable().matches(/^https?:\/\/[^\s]+$/,"Website must be a valid URL starting with http:// or https://").max(255,"Website must be less than 255 characters").trim().transform(e=>""===e?null:e),account_manager:s().nullable().max(100,"Account manager must be less than 100 characters").trim().transform(e=>""===e?null:e),notes:s().nullable().max(5e3,"Notes must be less than 5000 characters").trim().transform(e=>""===e?null:e),is_primary:t().nullable().default(!1)}),c=e({first_name:s().min(1,"First name cannot be empty").max(100,"First name must be less than 100 characters").trim(),last_name:s().min(1,"Last name cannot be empty").max(100,"Last name must be less than 100 characters").trim(),organization_id:s().uuid("Organization ID must be valid"),position:s().max(100,"Position must be less than 100 characters").trim(),email:s().nullable().matches(i,"Please enter a valid email address").max(255,"Email must be less than 255 characters").trim().lowercase().transform(e=>""===e?null:e),phone:s().nullable().max(20,"Phone number must be less than 20 characters").matches(n,"Please enter a valid phone number").trim().transform(e=>""===e?null:e),address:s().nullable().max(255,"Address must be less than 255 characters").trim().transform(e=>""===e?null:e),city:s().nullable().max(100,"City must be less than 100 characters").trim().transform(e=>""===e?null:e),state:s().nullable().max(50,"State must be less than 50 characters").trim().transform(e=>""===e?null:e),zip_code:s().nullable().max(20,"ZIP code must be less than 20 characters").trim().transform(e=>""===e?null:e),website:s().nullable().matches(/^https?:\/\/[^\s]+$/,"Website must be a valid URL starting with http:// or https://").max(255,"Website must be less than 255 characters").trim().transform(e=>""===e?null:e),account_manager:s().nullable().max(100,"Account manager must be less than 100 characters").trim().transform(e=>""===e?null:e),notes:s().nullable().max(5e3,"Notes must be less than 5000 characters").trim().transform(e=>""===e?null:e),is_primary:t().nullable().default(!1)}),d=e({search:s().max(255,"Search term must be less than 255 characters").trim(),limit:r().positive("Limit must be positive").max(100,"Limit cannot exceed 100").integer("Limit must be an integer"),offset:r().min(0,"Offset cannot be negative").integer("Offset must be an integer"),sortBy:s().oneOf(["first_name","last_name","organization","email","created_at"],"Invalid sort field"),sortOrder:s().oneOf(["asc","desc"],"Sort order must be asc or desc")}),m=l.pick(["first_name","last_name","organization_id","position","email","phone"]),u=l.pick(["address","city","state","zip_code","website","account_manager","notes","is_primary"]);class h{static async validateCreate(e){try{return{isValid:!0,data:await l.validate(e,{abortEarly:!1}),errors:[]}}catch(t){return t instanceof a?{isValid:!1,errors:t.inner.map(e=>({field:e.path||"unknown",message:e.message}))}:{isValid:!1,errors:[{field:"general",message:"Validation failed"}]}}}static async validateUpdate(e){try{return{isValid:!0,data:await c.validate(e,{abortEarly:!1}),errors:[]}}catch(t){return t instanceof a?{isValid:!1,errors:t.inner.map(e=>({field:e.path||"unknown",message:e.message}))}:{isValid:!1,errors:[{field:"general",message:"Validation failed"}]}}}static async validateSearch(e){try{return{isValid:!0,data:await d.validate(e,{abortEarly:!1}),errors:[]}}catch(t){return t instanceof a?{isValid:!1,errors:t.inner.map(e=>({field:e.path||"unknown",message:e.message}))}:{isValid:!1,errors:[{field:"general",message:"Validation failed"}]}}}static async validateStepOne(e){try{return{isValid:!0,data:await m.validate(e,{abortEarly:!1}),errors:[]}}catch(t){return t instanceof a?{isValid:!1,errors:t.inner.map(e=>({field:e.path||"unknown",message:e.message}))}:{isValid:!1,errors:[{field:"general",message:"Step 1 validation failed"}]}}}static async validateStepThree(e){try{return{isValid:!0,data:await u.validate(e,{abortEarly:!1}),errors:[]}}catch(t){return t instanceof a?{isValid:!1,errors:t.inner.map(e=>({field:e.path||"unknown",message:e.message}))}:{isValid:!1,errors:[{field:"general",message:"Step 3 validation failed"}]}}}static cleanFormData(e){const a={};return Object.entries(e).forEach(([e,t])=>{if("string"==typeof t){const s=t.trim();a[e]=""===s?null:s}else a[e]=t}),a}static formToInsert(e){return{first_name:e.first_name,last_name:e.last_name,organization_id:e.organization_id,position:e.position,phone:e.phone,email:e.email,address:e.address,city:e.city,state:e.state,zip_code:e.zip_code,website:e.website,account_manager:e.account_manager,notes:e.notes,is_primary:e.is_primary||!1}}static formToUpdate(e){const a={};return void 0!==e.first_name&&(a.first_name=e.first_name),void 0!==e.last_name&&(a.last_name=e.last_name),void 0!==e.organization_id&&(a.organization_id=e.organization_id),void 0!==e.position&&(a.position=e.position),void 0!==e.phone&&(a.phone=e.phone),void 0!==e.email&&(a.email=e.email),void 0!==e.address&&(a.address=e.address),void 0!==e.city&&(a.city=e.city),void 0!==e.state&&(a.state=e.state),void 0!==e.zip_code&&(a.zip_code=e.zip_code),void 0!==e.website&&(a.website=e.website),void 0!==e.account_manager&&(a.account_manager=e.account_manager),void 0!==e.notes&&(a.notes=e.notes),void 0!==e.is_primary&&(a.is_primary=e.is_primary),a}static contactToForm(e){return{first_name:e.first_name||"",last_name:e.last_name||"",organization_id:e.organization_id||"",position:e.position||"",phone:e.phone,email:e.email,address:e.address,city:e.city,state:e.state,zip_code:e.zip_code,website:e.website,account_manager:e.account_manager,notes:e.notes,is_primary:e.is_primary}}}const b={getFullName:e=>`${e.first_name} ${e.last_name}`.trim(),getDisplayName:(e,a)=>{const t=b.getFullName(e);return a?`${t} (${a})`:t},getPositionLabel:e=>e||"No position specified",formatPhone:e=>{if(!e)return"No phone";const a=e.replace(/\D/g,"");return 10===a.length?`(${a.slice(0,3)}) ${a.slice(3,6)}-${a.slice(6)}`:11===a.length&&"1"===a[0]?`+1 (${a.slice(1,4)}) ${a.slice(4,7)}-${a.slice(7)}`:e},getInitials:e=>`${e.first_name.charAt(0).toUpperCase()}${e.last_name.charAt(0).toUpperCase()}`,formatCreatedDate:e=>e.created_at?new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown"};export{h as C,o as P,m as a,u as b,b as c};
