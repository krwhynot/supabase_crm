import{d as A,r as l,e as T,k,p as m,o as r,q as E,s as L,a as e,c as a,f,g as y,m as h,v as C,x as O,y as U,n as $,t as n,F as H,i as I,w as b}from"./index-2VRxD9AB.js";import{c as P,a as w}from"./contacts-BkYZedBA.js";import{D as q}from"./DashboardLayout-CTHFxln7.js";const G={class:"min-h-screen bg-gray-50 py-8"},Q={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},R={class:"flex justify-between items-center mb-8"},Y={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6"},J={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},K={class:"flex-1 max-w-md"},W={class:"relative"},X={class:"flex items-center space-x-3"},Z={class:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ee=["d"],te={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-8"},se={key:1,class:"bg-white rounded-lg shadow-sm border border-red-200 p-6"},oe={class:"flex items-center"},re={class:"text-red-700"},ne={key:2,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center"},ae={class:"text-gray-500 mb-6"},le={key:3,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},ie={class:"overflow-x-auto"},de={class:"min-w-full divide-y divide-gray-200"},ce={class:"bg-white divide-y divide-gray-200"},ue=["onClick"],me={class:"px-6 py-4 whitespace-nowrap"},pe={class:"flex items-center"},xe={class:"flex-shrink-0 h-10 w-10"},he={class:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center"},ge={class:"text-sm font-medium text-blue-600"},ve={class:"ml-4"},fe={class:"text-sm font-medium text-gray-900"},ye={key:0,class:"text-sm text-gray-500"},be={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},we={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},_e=["href"],ke={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ce={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Me={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Se={class:"flex items-center space-x-2"},je={key:4,class:"mt-6 flex justify-center"},Be={class:"text-sm text-gray-500"},Ae=A({__name:"ContactsListView",setup(ze){const M=E(),i=l([]),g=l(!0),d=l(null),c=l(""),v=l("last_name"),u=l("asc"),p=async()=>{try{g.value=!0,d.value=null;const s=await P.getContacts({search:c.value.trim()||void 0,sortBy:v.value,sortOrder:u.value});s.success&&s.data?i.value=s.data:d.value=s.error||"Failed to load contacts"}catch(s){d.value="An unexpected error occurred",console.error("Error loading contacts:",s)}finally{g.value=!1}};let _;const S=()=>{clearTimeout(_),_=setTimeout(()=>{p()},300)},j=()=>{p()},B=()=>{u.value=u.value==="asc"?"desc":"asc",p()},z=s=>{M.push(`/contacts/${s}`)},N=s=>w.getFullName(s),D=s=>w.getInitials(s),V=s=>w.formatPhone(s),F=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown";return T(()=>{p()}),(s,t)=>{const x=L("router-link");return r(),k(q,null,{default:m(()=>[e("div",G,[e("div",Q,[e("div",R,[t[6]||(t[6]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Contacts"),e("p",{class:"mt-2 text-gray-600"},"Manage your professional contacts")],-1)),y(x,{to:"/contacts/new",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:m(()=>t[5]||(t[5]=[e("svg",{class:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),h(" New Contact ",-1)])),_:1,__:[5]})]),e("div",Y,[e("div",J,[e("div",K,[t[8]||(t[8]=e("label",{for:"search",class:"sr-only"},"Search contacts",-1)),e("div",W,[t[7]||(t[7]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),C(e("input",{id:"search","onUpdate:modelValue":t[0]||(t[0]=o=>c.value=o),type:"text",placeholder:"Search contacts...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500",onInput:S},null,544),[[O,c.value]])])]),e("div",X,[C(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>v.value=o),class:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",onChange:j},t[9]||(t[9]=[e("option",{value:"last_name"},"Sort by Last Name",-1),e("option",{value:"first_name"},"Sort by First Name",-1),e("option",{value:"organization"},"Sort by Organization",-1),e("option",{value:"email"},"Sort by Email",-1),e("option",{value:"created_at"},"Sort by Date Added",-1)]),544),[[U,v.value]]),e("button",{onClick:B,class:$(["p-2 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",{"bg-gray-50":u.value==="desc"}])},[(r(),a("svg",Z,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:u.value==="asc"?"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12":"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"},null,8,ee)]))],2)])])]),g.value?(r(),a("div",te,t[10]||(t[10]=[e("div",{class:"flex justify-center"},[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})],-1)]))):d.value?(r(),a("div",se,[e("div",oe,[t[11]||(t[11]=e("svg",{class:"h-5 w-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",re,n(d.value),1)])])):i.value.length===0?(r(),a("div",ne,[t[13]||(t[13]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),t[14]||(t[14]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No contacts found",-1)),e("p",ae,n(c.value?"Try adjusting your search terms.":"Get started by adding your first contact."),1),c.value?f("",!0):(r(),k(x,{key:0,to:"/contacts/new",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700"},{default:m(()=>t[12]||(t[12]=[e("svg",{class:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),h(" Add Your First Contact ",-1)])),_:1,__:[12]}))])):(r(),a("div",le,[e("div",ie,[e("table",de,[t[17]||(t[17]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Contact "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Organization "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Email "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Phone "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Added "),e("th",{scope:"col",class:"relative px-6 py-3"},[e("span",{class:"sr-only"},"Actions")])])],-1)),e("tbody",ce,[(r(!0),a(H,null,I(i.value,o=>(r(),a("tr",{key:o.id,class:"hover:bg-gray-50 cursor-pointer",onClick:Ne=>z(o.id)},[e("td",me,[e("div",pe,[e("div",xe,[e("div",he,[e("span",ge,n(D(o)),1)])]),e("div",ve,[e("div",fe,n(N(o)),1),o.title?(r(),a("div",ye,n(o.title),1)):f("",!0)])])]),e("td",be,n(o.organization),1),e("td",we,[e("a",{href:`mailto:${o.email}`,class:"hover:text-blue-600",onClick:t[2]||(t[2]=b(()=>{},["stop"]))},n(o.email),9,_e)]),e("td",ke,n(V(o.phone)),1),e("td",Ce,n(F(o.created_at)),1),e("td",Me,[e("div",Se,[y(x,{to:`/contacts/${o.id}`,class:"text-blue-600 hover:text-blue-900",onClick:t[3]||(t[3]=b(()=>{},["stop"]))},{default:m(()=>t[15]||(t[15]=[h(" View ",-1)])),_:2,__:[15]},1032,["to"]),y(x,{to:`/contacts/${o.id}/edit`,class:"text-indigo-600 hover:text-indigo-900",onClick:t[4]||(t[4]=b(()=>{},["stop"]))},{default:m(()=>t[16]||(t[16]=[h(" Edit ",-1)])),_:2,__:[16]},1032,["to"])])])],8,ue))),128))])])])])),i.value.length>0?(r(),a("div",je,[e("div",Be," Showing "+n(i.value.length)+" contacts ",1)])):f("",!0)])])]),_:1})}}});export{Ae as default};
//# sourceMappingURL=ContactsListView-CX889bkf.js.map
