{"version":3,"file":"PrincipalAnalyticsView-Cvy5vXbf.js","sources":["../../src/views/principals/PrincipalAnalyticsView.vue"],"sourcesContent":["<!--\n  Principal Analytics View - Comprehensive analytics dashboard for individual principals\n  Features: Multi-chart dashboard, time range filtering, export capabilities, iPad optimized\n-->\n<template>\n  <DashboardLayout>\n    <div class=\"principal-analytics-view\">\n      <!-- Page Header -->\n      <div class=\"mb-6\">\n        <div class=\"flex flex-col sm:flex-row sm:items-center sm:justify-between\">\n          <div class=\"mb-4 sm:mb-0\">\n            <h1 class=\"text-2xl font-bold text-gray-900\">Principal Analytics</h1>\n            <p class=\"mt-1 text-sm text-gray-500\">\n              Comprehensive performance insights and trends\n            </p>\n          </div>\n          <div class=\"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3\">\n            <!-- Export Button -->\n            <button\n              @click=\"exportAnalytics\"\n              :disabled=\"loading || !selectedPrincipal\"\n              class=\"inline-flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px]\"\n            >\n              <ArrowDownTrayIcon class=\"h-4 w-4 mr-2\" />\n              Export\n            </button>\n            <!-- Time Range Selector -->\n            <select\n              v-model=\"selectedTimeRange\"\n              class=\"block w-full sm:w-auto px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[44px]\"\n            >\n              <option value=\"7d\">Last 7 days</option>\n              <option value=\"30d\">Last 30 days</option>\n              <option value=\"90d\">Last 90 days</option>\n              <option value=\"1y\">Last year</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      <!-- Principal Selector -->\n      <div class=\"mb-6\">\n        <PrincipalSelector\n          v-model=\"selectedPrincipal\"\n          :loading=\"principalsLoading\"\n          :error=\"principalsError\"\n          placeholder=\"Select a principal to view analytics...\"\n          class=\"w-full\"\n        />\n      </div>\n\n      <!-- Loading State -->\n      <div v-if=\"loading && selectedPrincipal\" class=\"flex items-center justify-center py-12\">\n        <div class=\"text-center\">\n          <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p class=\"mt-4 text-sm text-gray-500\">Loading analytics data...</p>\n        </div>\n      </div>\n\n      <!-- Empty State -->\n      <div v-else-if=\"!selectedPrincipal\" class=\"text-center py-12\">\n        <ChartBarIcon class=\"mx-auto h-16 w-16 text-gray-400\" />\n        <h3 class=\"mt-4 text-lg font-medium text-gray-900\">Principal Analytics</h3>\n        <p class=\"mt-2 text-sm text-gray-500\">\n          Select a principal above to view comprehensive analytics and performance insights.\n        </p>\n      </div>\n\n      <!-- Analytics Dashboard -->\n      <div v-else-if=\"selectedPrincipal\" class=\"space-y-6\">\n        <!-- Summary KPI Cards -->\n        <div class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n          <div class=\"bg-white rounded-lg border border-gray-200 p-4\">\n            <div class=\"flex items-center\">\n              <div class=\"flex-shrink-0\">\n                <ArrowTrendingUpIcon class=\"h-6 w-6 text-blue-500\" />\n              </div>\n              <div class=\"ml-3\">\n                <p class=\"text-sm font-medium text-gray-500\">Current Score</p>\n                <p class=\"text-2xl font-bold text-gray-900\">\n                  {{ analyticsData?.currentEngagementScore || 0 }}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"bg-white rounded-lg border border-gray-200 p-4\">\n            <div class=\"flex items-center\">\n              <div class=\"flex-shrink-0\">\n                <CalendarDaysIcon class=\"h-6 w-6 text-green-500\" />\n              </div>\n              <div class=\"ml-3\">\n                <p class=\"text-sm font-medium text-gray-500\">Total Activities</p>\n                <p class=\"text-2xl font-bold text-gray-900\">\n                  {{ analyticsData?.totalActivities || 0 }}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"bg-white rounded-lg border border-gray-200 p-4\">\n            <div class=\"flex items-center\">\n              <div class=\"flex-shrink-0\">\n                <CurrencyDollarIcon class=\"h-6 w-6 text-purple-500\" />\n              </div>\n              <div class=\"ml-3\">\n                <p class=\"text-sm font-medium text-gray-500\">Pipeline Value</p>\n                <p class=\"text-2xl font-bold text-gray-900\">\n                  {{ formatCurrency(analyticsData?.totalPipelineValue || 0) }}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"bg-white rounded-lg border border-gray-200 p-4\">\n            <div class=\"flex items-center\">\n              <div class=\"flex-shrink-0\">\n                <TrophyIcon class=\"h-6 w-6 text-yellow-500\" />\n              </div>\n              <div class=\"ml-3\">\n                <p class=\"text-sm font-medium text-gray-500\">Win Rate</p>\n                <p class=\"text-2xl font-bold text-gray-900\">\n                  {{ Math.round(analyticsData?.winRate || 0) }}%\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Charts Grid - Responsive Layout -->\n        <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          <!-- Engagement Trend Chart -->\n          <div class=\"bg-white rounded-lg border border-gray-200 p-6\">\n            <div class=\"h-64\">\n              <EngagementTrendChart\n                :data=\"analyticsData?.engagementTrend || []\"\n                :time-range=\"selectedTimeRange\"\n                :principal-name=\"selectedPrincipal?.name\"\n                :show-trend-line=\"true\"\n              />\n            </div>\n          </div>\n\n          <!-- Activity Volume Chart -->\n          <div class=\"bg-white rounded-lg border border-gray-200 p-6\">\n            <div class=\"h-64\">\n              <ActivityVolumeChart\n                :data=\"analyticsData?.activityVolume || []\"\n                :time-range=\"selectedTimeRange\"\n                :principal-name=\"selectedPrincipal?.name\"\n              />\n            </div>\n          </div>\n\n          <!-- Product Performance Chart -->\n          <div class=\"bg-white rounded-lg border border-gray-200 p-6\">\n            <div class=\"h-64\">\n              <ProductPerformanceChart\n                :data=\"analyticsData?.productPerformance || []\"\n                :principal-name=\"selectedPrincipal?.name\"\n              />\n            </div>\n          </div>\n\n          <!-- Opportunity Pipeline Chart -->\n          <div class=\"bg-white rounded-lg border border-gray-200 p-6\">\n            <div class=\"h-64\">\n              <OpportunityPipelineChart\n                :data=\"analyticsData?.opportunityPipeline || []\"\n                :principal-name=\"selectedPrincipal?.name\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <!-- Detailed Insights Section -->\n        <div class=\"bg-white rounded-lg border border-gray-200 p-6\">\n          <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Key Insights</h3>\n          \n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <!-- Top Performing Products -->\n            <div>\n              <h4 class=\"text-sm font-medium text-gray-700 mb-3\">Top Performing Products</h4>\n              <div class=\"space-y-2\">\n                <div\n                  v-for=\"product in topProducts\"\n                  :key=\"product.product_id\"\n                  class=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\"\n                >\n                  <div class=\"flex-1 min-w-0\">\n                    <p class=\"text-sm font-medium text-gray-900 truncate\">\n                      {{ product.product_name }}\n                    </p>\n                    <p class=\"text-xs text-gray-500\">\n                      {{ product.total_opportunities }} opportunities\n                    </p>\n                  </div>\n                  <div class=\"flex-shrink-0 ml-4\">\n                    <ProductPerformanceIndicator\n                      :score=\"product.product_performance_score || 0\"\n                      size=\"sm\"\n                      :show-label=\"false\"\n                    />\n                  </div>\n                </div>\n                \n                <div v-if=\"topProducts.length === 0\" class=\"text-center py-4\">\n                  <p class=\"text-sm text-gray-500\">No product data available</p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Recent Activity Trends -->\n            <div>\n              <h4 class=\"text-sm font-medium text-gray-700 mb-3\">Activity Distribution</h4>\n              <div class=\"space-y-2\">\n                <div\n                  v-for=\"activity in activityBreakdown\"\n                  :key=\"activity.type\"\n                  class=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\"\n                >\n                  <div class=\"flex items-center\">\n                    <div\n                      class=\"w-3 h-3 rounded-full mr-3\"\n                      :style=\"{ backgroundColor: getActivityTypeColor(activity.type) }\"\n                    ></div>\n                    <div>\n                      <p class=\"text-sm font-medium text-gray-900\">\n                        {{ formatActivityType(activity.type) }}\n                      </p>\n                      <p class=\"text-xs text-gray-500\">\n                        {{ Math.round((activity.count / totalActivities) * 100) }}% of total\n                      </p>\n                    </div>\n                  </div>\n                  <span class=\"text-sm font-semibold text-gray-900\">\n                    {{ activity.count }}\n                  </span>\n                </div>\n                \n                <div v-if=\"activityBreakdown.length === 0\" class=\"text-center py-4\">\n                  <p class=\"text-sm text-gray-500\">No activity data available</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Data Export Summary -->\n        <div v-if=\"exportData\" class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n          <div class=\"flex items-start\">\n            <InformationCircleIcon class=\"h-5 w-5 text-blue-400 mt-0.5 mr-3 flex-shrink-0\" />\n            <div class=\"flex-1\">\n              <h4 class=\"text-sm font-medium text-blue-900\">Export Ready</h4>\n              <p class=\"text-sm text-blue-700 mt-1\">\n                Analytics data for {{ selectedPrincipal?.name }} ({{ selectedTimeRange }}) is ready for export.\n                Includes {{ exportData.totalDataPoints }} data points across all metrics.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Error State -->\n      <div v-if=\"error\" class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n        <div class=\"flex\">\n          <ExclamationTriangleIcon class=\"h-5 w-5 text-red-400 mr-3 flex-shrink-0\" />\n          <div>\n            <h3 class=\"text-sm font-medium text-red-800\">Error Loading Analytics</h3>\n            <p class=\"text-sm text-red-700 mt-1\">{{ error }}</p>\n            <button\n              @click=\"loadAnalyticsData\"\n              class=\"mt-2 text-sm font-medium text-red-800 hover:text-red-900\"\n            >\n              Try again\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </DashboardLayout>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted } from 'vue'\nimport { useRoute } from 'vue-router'\nimport {\n  ChartBarIcon,\n  ArrowTrendingUpIcon,\n  CalendarDaysIcon,\n  CurrencyDollarIcon,\n  TrophyIcon,\n  ArrowDownTrayIcon,\n  InformationCircleIcon,\n  ExclamationTriangleIcon\n} from '@heroicons/vue/24/outline'\n\n// Components\nimport DashboardLayout from '@/components/layout/DashboardLayout.vue'\nimport PrincipalSelector from '@/components/principal/PrincipalSelector.vue'\nimport ProductPerformanceIndicator from '@/components/principal/ProductPerformanceIndicator.vue'\nimport {\n  EngagementTrendChart,\n  ActivityVolumeChart,\n  ProductPerformanceChart,\n  OpportunityPipelineChart\n} from '@/components/principal'\n\n// Services and Types\nimport { usePrincipalStore } from '@/stores/principalStore'\nimport type {\n  PrincipalProductPerformance\n} from '@/types/principal'\n\n// ===============================\n// REACTIVE STATE\n// ===============================\n\nconst route = useRoute()\nconst principalStore = usePrincipalStore()\n\nconst selectedPrincipal = ref<any>(null)\nconst selectedTimeRange = ref('30d')\nconst loading = ref(false)\nconst error = ref<string | null>(null)\n\n// Analytics data structure\ninterface AnalyticsData {\n  currentEngagementScore: number\n  totalActivities: number\n  totalPipelineValue: number\n  winRate: number\n  engagementTrend: any[]\n  activityVolume: any[]\n  productPerformance: PrincipalProductPerformance[]\n  opportunityPipeline: any[]\n  activityBreakdown: { type: string; count: number }[]\n}\n\nconst analyticsData = ref<AnalyticsData | null>(null)\nconst exportData = ref<any>(null)\n\n// ===============================\n// COMPUTED PROPERTIES\n// ===============================\n\nconst principalsLoading = computed(() => principalStore.loading)\nconst principalsError = computed(() => principalStore.error)\n\nconst topProducts = computed(() => {\n  if (!analyticsData.value?.productPerformance) return []\n  \n  return analyticsData.value.productPerformance\n    .slice(0, 5)\n    .sort((a, b) => (b.product_performance_score || 0) - (a.product_performance_score || 0))\n})\n\nconst activityBreakdown = computed(() => {\n  return analyticsData.value?.activityBreakdown || []\n})\n\nconst totalActivities = computed(() => {\n  return activityBreakdown.value.reduce((sum, activity) => sum + activity.count, 0)\n})\n\n// ===============================\n// METHODS\n// ===============================\n\nconst loadAnalyticsData = async () => {\n  if (!selectedPrincipal.value) return\n\n  loading.value = true\n  error.value = null\n\n  try {\n    // Simulate comprehensive analytics data loading\n    // In real implementation, this would call multiple API endpoints\n    \n    await new Promise(resolve => setTimeout(resolve, 1500)) // Simulate API call\n\n    // Mock comprehensive analytics data\n    analyticsData.value = {\n      currentEngagementScore: Math.floor(Math.random() * 40) + 60, // 60-100\n      totalActivities: Math.floor(Math.random() * 200) + 50, // 50-250\n      totalPipelineValue: Math.floor(Math.random() * 500000) + 100000, // $100k-$600k\n      winRate: Math.floor(Math.random() * 30) + 40, // 40-70%\n      \n      // Engagement trend data (last 30 days)\n      engagementTrend: generateEngagementTrendData(),\n      \n      // Activity volume data\n      activityVolume: generateActivityVolumeData(),\n      \n      // Product performance data\n      productPerformance: generateProductPerformanceData(),\n      \n      // Opportunity pipeline data\n      opportunityPipeline: generateOpportunityPipelineData(),\n      \n      // Activity breakdown\n      activityBreakdown: [\n        { type: 'PHONE_CALL', count: Math.floor(Math.random() * 20) + 10 },\n        { type: 'EMAIL', count: Math.floor(Math.random() * 30) + 15 },\n        { type: 'IN_PERSON', count: Math.floor(Math.random() * 15) + 5 },\n        { type: 'VIDEO_CALL', count: Math.floor(Math.random() * 10) + 3 },\n        { type: 'SAMPLE_VISIT', count: Math.floor(Math.random() * 8) + 2 },\n      ]\n    }\n\n    // Prepare export data\n    exportData.value = {\n      principalName: selectedPrincipal.value.name,\n      timeRange: selectedTimeRange.value,\n      totalDataPoints: analyticsData.value.engagementTrend.length + \n                      analyticsData.value.activityVolume.length +\n                      analyticsData.value.productPerformance.length +\n                      analyticsData.value.opportunityPipeline.length,\n      generatedAt: new Date().toISOString()\n    }\n\n  } catch (err) {\n    error.value = err instanceof Error ? err.message : 'Failed to load analytics data'\n    console.error('Error loading analytics data:', err)\n  } finally {\n    loading.value = false\n  }\n}\n\nconst generateEngagementTrendData = () => {\n  const data = []\n  const days = selectedTimeRange.value === '7d' ? 7 : \n               selectedTimeRange.value === '30d' ? 30 :\n               selectedTimeRange.value === '90d' ? 90 : 365\n\n  for (let i = days - 1; i >= 0; i--) {\n    const date = new Date()\n    date.setDate(date.getDate() - i)\n    \n    data.push({\n      date: date.toISOString().split('T')[0],\n      engagement_score: Math.floor(Math.random() * 30) + 55, // 55-85\n      activity_type: ['PHONE_CALL', 'EMAIL', 'IN_PERSON', 'VIDEO_CALL'][Math.floor(Math.random() * 4)],\n      principal_name: selectedPrincipal.value?.name || 'Principal'\n    })\n  }\n  \n  return data\n}\n\nconst generateActivityVolumeData = () => {\n  const data = []\n  const days = selectedTimeRange.value === '7d' ? 7 : \n               selectedTimeRange.value === '30d' ? 30 :\n               selectedTimeRange.value === '90d' ? 90 : 365\n\n  for (let i = days - 1; i >= 0; i--) {\n    const date = new Date()\n    date.setDate(date.getDate() - i)\n    \n    const activityCount = Math.floor(Math.random() * 8)\n    const types: string[] = []\n    \n    if (activityCount > 0) {\n      const possibleTypes = ['PHONE_CALL', 'EMAIL', 'IN_PERSON', 'VIDEO_CALL', 'SAMPLE_VISIT']\n      const numTypes = Math.min(activityCount, Math.floor(Math.random() * 3) + 1)\n      \n      for (let j = 0; j < numTypes; j++) {\n        const typeIndex = Math.floor(Math.random() * possibleTypes.length)\n        if (!types.includes(possibleTypes[typeIndex])) {\n          types.push(possibleTypes[typeIndex])\n        }\n      }\n    }\n    \n    data.push({\n      date: date.toISOString().split('T')[0],\n      count: activityCount,\n      types\n    })\n  }\n  \n  return data\n}\n\nconst generateProductPerformanceData = (): PrincipalProductPerformance[] => {\n  const products = [\n    'Premium Widget', 'Standard Package', 'Enterprise Solution', \n    'Basic Service', 'Advanced Analytics', 'Custom Integration',\n    'Mobile App', 'Cloud Platform', 'Security Suite'\n  ]\n  \n  return products.map((name, index) => ({\n    principal_id: 'mock_principal',\n    principal_name: 'Mock Principal',\n    product_id: `prod_${index + 1}`,\n    product_name: name,\n    product_category: null,\n    product_sku: `SKU-${index + 1}`,\n    is_primary_principal: true,\n    exclusive_rights: false,\n    wholesale_price: Math.floor(Math.random() * 1000) + 100,\n    minimum_order_quantity: Math.floor(Math.random() * 100) + 10,\n    lead_time_days: Math.floor(Math.random() * 30) + 7,\n    contract_start_date: new Date(Date.now() - Math.random() * 365 * 24 * 60 * 60 * 1000).toISOString(),\n    contract_end_date: new Date(Date.now() + Math.random() * 365 * 24 * 60 * 60 * 1000).toISOString(),\n    territory_restrictions: null,\n    // Database interface properties\n    opportunities_for_product: Math.floor(Math.random() * 15) + 3,\n    won_opportunities_for_product: Math.floor(Math.random() * 8) + 1,\n    active_opportunities_for_product: Math.floor(Math.random() * 10) + 2,\n    latest_opportunity_date: new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000).toISOString(),\n    avg_opportunity_probability: Math.floor(Math.random() * 50) + 25,\n    \n    // Component-expected properties (aliases/computed)\n    total_opportunities: Math.floor(Math.random() * 15) + 3, // 3-18\n    win_rate: Math.floor(Math.random() * 50) + 25, // 25-75%\n    total_value: Math.floor(Math.random() * 100000) + 50000, // $50k-$150k\n    \n    // Interaction metrics\n    interactions_for_product: Math.floor(Math.random() * 20) + 5,\n    recent_interactions_for_product: Math.floor(Math.random() * 5) + 1,\n    last_interaction_date: new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000).toISOString(),\n    \n    // Product status\n    product_is_active: true,\n    launch_date: new Date(Date.now() - Math.random() * 365 * 24 * 60 * 60 * 1000).toISOString(),\n    discontinue_date: null,\n    unit_cost: Math.floor(Math.random() * 500) + 50,\n    suggested_retail_price: Math.floor(Math.random() * 1500) + 200,\n    \n    // Calculated metrics\n    contract_status: 'ACTIVE' as const,\n    product_performance_score: Math.floor(Math.random() * 40) + 40, // 40-80\n    \n    // Metadata\n    relationship_created_at: new Date(Date.now() - Math.random() * 365 * 24 * 60 * 60 * 1000).toISOString(),\n    relationship_updated_at: new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000).toISOString()\n  })).slice(0, 6) // Show top 6 products\n}\n\nconst generateOpportunityPipelineData = () => {\n  const stages = [\n    'NEW_LEAD', 'INITIAL_OUTREACH', 'SAMPLE_VISIT_OFFERED', \n    'AWAITING_RESPONSE', 'FEEDBACK_LOGGED', 'DEMO_SCHEDULED', 'CLOSED_WON'\n  ]\n  \n  let baseCount = Math.floor(Math.random() * 20) + 15 // Start with 15-35\n  \n  return stages.map(stage => {\n    const count = Math.max(1, Math.floor(baseCount * (0.6 + Math.random() * 0.3))) // 60-90% conversion\n    const value = count * (Math.floor(Math.random() * 25000) + 15000) // $15k-$40k per opp\n    \n    baseCount = Math.floor(count * 0.8) // Reduce for next stage\n    \n    return {\n      stage,\n      count,\n      value\n    }\n  })\n}\n\nconst formatCurrency = (value: number): string => {\n  if (value >= 1000000) {\n    return `$${(value / 1000000).toFixed(1)}M`\n  } else if (value >= 1000) {\n    return `$${(value / 1000).toFixed(0)}K`\n  }\n  return `$${value.toFixed(0)}`\n}\n\nconst getActivityTypeColor = (type: string): string => {\n  const colors: Record<string, string> = {\n    'PHONE_CALL': '#3b82f6',\n    'EMAIL': '#10b981',\n    'IN_PERSON': '#f59e0b',\n    'VIDEO_CALL': '#8b5cf6',\n    'SAMPLE_VISIT': '#ef4444',\n    'FOLLOW_UP': '#6b7280',\n    'OTHER': '#9ca3af'\n  }\n  return colors[type] || '#9ca3af'\n}\n\nconst formatActivityType = (type: string): string => {\n  return type.toLowerCase().replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase())\n}\n\nconst exportAnalytics = async () => {\n  if (!selectedPrincipal.value || !analyticsData.value) return\n\n  try {\n    // Simulate export process\n    const exportPayload = {\n      principal: selectedPrincipal.value,\n      timeRange: selectedTimeRange.value,\n      analytics: analyticsData.value,\n      exportedAt: new Date().toISOString()\n    }\n\n    // In real implementation, this would trigger a download or send to API\n    console.log('Exporting analytics data:', exportPayload)\n    \n    // Simulate download\n    const dataStr = JSON.stringify(exportPayload, null, 2)\n    const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr)\n    \n    const exportFileDefaultName = `principal-analytics-${selectedPrincipal.value.name.replace(/\\s+/g, '-')}-${selectedTimeRange.value}.json`\n    \n    const linkElement = document.createElement('a')\n    linkElement.setAttribute('href', dataUri)\n    linkElement.setAttribute('download', exportFileDefaultName)\n    linkElement.click()\n    \n  } catch (err) {\n    console.error('Export failed:', err)\n    error.value = 'Failed to export analytics data'\n  }\n}\n\n// ===============================\n// WATCHERS\n// ===============================\n\nwatch([selectedPrincipal, selectedTimeRange], () => {\n  if (selectedPrincipal.value) {\n    loadAnalyticsData()\n  }\n}, { immediate: false })\n\n// ===============================\n// LIFECYCLE HOOKS\n// ===============================\n\nonMounted(async () => {\n  // Load principals if not already loaded\n  if (principalStore.principals.length === 0) {\n    await principalStore.fetchPrincipals()\n  }\n\n  // Auto-select principal from route params\n  const principalId = route.params.principalId as string\n  if (principalId) {\n    const principal = principalStore.principals.find(p => p.id === principalId)\n    if (principal) {\n      selectedPrincipal.value = principal\n    }\n  }\n})\n</script>\n\n<style scoped>\n.principal-analytics-view {\n  /* Custom styles for analytics view */\n}\n\n/* Ensure proper grid layout on all screen sizes */\n@media (max-width: 640px) {\n  .grid {\n    gap: 1rem;\n  }\n  \n  /* Stack charts vertically on mobile */\n  .lg\\:grid-cols-2 {\n    grid-template-columns: repeat(1, minmax(0, 1fr));\n  }\n}\n\n/* Touch targets for mobile */\n.principal-analytics-view button,\n.principal-analytics-view select {\n  min-height: 44px;\n}\n\n/* Performance indicator sizing */\n.principal-analytics-view .performance-indicator {\n  flex-shrink: 0;\n}\n\n/* Responsive text scaling */\n@media (max-width: 640px) {\n  .text-2xl {\n    font-size: 1.5rem;\n  }\n  \n  .text-lg {\n    font-size: 1rem;\n  }\n}\n</style>"],"names":["route","useRoute","principalStore","usePrincipalStore","selectedPrincipal","ref","selectedTimeRange","loading","error","analyticsData","exportData","principalsLoading","computed","principalsError","topProducts","_a","a","b","activityBreakdown","totalActivities","sum","activity","loadAnalyticsData","resolve","generateEngagementTrendData","generateActivityVolumeData","generateProductPerformanceData","generateOpportunityPipelineData","err","data","days","i","date","activityCount","types","possibleTypes","numTypes","j","typeIndex","name","index","stages","baseCount","stage","count","value","formatCurrency","getActivityTypeColor","type","formatActivityType","l","exportAnalytics","exportPayload","dataStr","dataUri","exportFileDefaultName","linkElement","watch","onMounted","principalId","principal","p","_createBlock","DashboardLayout","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_unref","ArrowDownTrayIcon","$event","_hoisted_6","PrincipalSelector","_openBlock","_createElementBlock","_hoisted_7","_cache","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","ArrowTrendingUpIcon","_hoisted_14","_hoisted_15","_toDisplayString","_hoisted_16","_hoisted_17","_hoisted_18","CalendarDaysIcon","_hoisted_19","_hoisted_20","_b","_hoisted_21","_hoisted_22","_hoisted_23","CurrencyDollarIcon","_hoisted_24","_hoisted_25","_c","_hoisted_26","_hoisted_27","_hoisted_28","TrophyIcon","_hoisted_29","_hoisted_30","_d","_hoisted_31","_hoisted_32","_hoisted_33","EngagementTrendChart","_e","_f","_hoisted_34","_hoisted_35","ActivityVolumeChart","_g","_h","_hoisted_36","_hoisted_37","ProductPerformanceChart","_i","_j","_hoisted_38","_hoisted_39","OpportunityPipelineChart","_k","_l","_hoisted_40","_hoisted_41","_hoisted_42","_Fragment","_renderList","product","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","ProductPerformanceIndicator","_hoisted_47","_hoisted_48","_hoisted_49","_normalizeStyle","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","InformationCircleIcon","_hoisted_56","_hoisted_57","_m","_hoisted_8","ChartBarIcon","_hoisted_58","_hoisted_59","ExclamationTriangleIcon","_hoisted_60"],"mappings":"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"}