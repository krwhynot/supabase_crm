{"version":3,"file":"ProductsListView-CTTzpmPR.js","sources":["../../src/components/products/ProductKPICards.vue","../../src/types/products.ts","../../src/components/products/ProductTable.vue","../../src/views/products/ProductsListView.vue"],"sourcesContent":["<template>\n  <div \n    class=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 lg:gap-6\"\n    role=\"region\"\n    aria-label=\"Product Key Performance Indicators\"\n  >\n    <!-- Total Products Card -->\n    <div class=\"kpi-card\" @click=\"$emit('cardClick', 'total')\" tabindex=\"0\" role=\"button\" aria-label=\"View all products\">\n      <div class=\"kpi-card-content\">\n        <div class=\"kpi-icon kpi-icon-blue\">\n          <svg class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\" />\n          </svg>\n        </div>\n        <div class=\"kpi-details\">\n          <div class=\"kpi-label\">Total Products</div>\n          <div class=\"kpi-value\" :class=\"{ 'kpi-loading': isLoading }\">\n            <span v-if=\"isLoading\" class=\"loading-placeholder\">--</span>\n            <span v-else>{{ formatNumber(stats?.total_products || 0) }}</span>\n          </div>\n          <div class=\"kpi-subtitle\">In catalog</div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Active Products Card -->\n    <div class=\"kpi-card\" @click=\"$emit('cardClick', 'active')\" tabindex=\"0\" role=\"button\" aria-label=\"View active products\">\n      <div class=\"kpi-card-content\">\n        <div class=\"kpi-icon kpi-icon-green\">\n          <svg class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n        </div>\n        <div class=\"kpi-details\">\n          <div class=\"kpi-label\">Active Products</div>\n          <div class=\"kpi-value\" :class=\"{ 'kpi-loading': isLoading }\">\n            <span v-if=\"isLoading\" class=\"loading-placeholder\">--</span>\n            <span v-else>{{ formatNumber(stats?.active_products || 0) }}</span>\n          </div>\n          <div class=\"kpi-subtitle\">Available for sale</div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Categories Card -->\n    <div class=\"kpi-card\" @click=\"$emit('cardClick', 'categories')\" tabindex=\"0\" role=\"button\" aria-label=\"View categories breakdown\">\n      <div class=\"kpi-card-content\">\n        <div class=\"kpi-icon kpi-icon-purple\">\n          <svg class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\n          </svg>\n        </div>\n        <div class=\"kpi-details\">\n          <div class=\"kpi-label\">Categories</div>\n          <div class=\"kpi-value\" :class=\"{ 'kpi-loading': isLoading }\">\n            <span v-if=\"isLoading\" class=\"loading-placeholder\">--</span>\n            <span v-else>{{ getCategoriesCount() }}</span>\n          </div>\n          <div class=\"kpi-subtitle\">{{ getMostCommonCategory() }}</div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Principal Assignments Card -->\n    <div class=\"kpi-card\" @click=\"$emit('cardClick', 'principals')\" tabindex=\"0\" role=\"button\" aria-label=\"View principal assignments\">\n      <div class=\"kpi-card-content\">\n        <div class=\"kpi-icon kpi-icon-emerald\">\n          <svg class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n          </svg>\n        </div>\n        <div class=\"kpi-details\">\n          <div class=\"kpi-label\">Principal Coverage</div>\n          <div class=\"kpi-value\" :class=\"{ 'kpi-loading': isLoading }\">\n            <span v-if=\"isLoading\" class=\"loading-placeholder\">--%</span>\n            <span v-else>{{ formatPercentage(getPrincipalCoverage()) }}</span>\n          </div>\n          <div class=\"kpi-subtitle\">With assignments</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { useProductStore } from '@/stores/productStore'\nimport type { ProductStats } from '@/types/products'\n\n/**\n * Props interface for ProductKPICards component\n */\ninterface Props {\n  /** Whether to show loading state */\n  loading?: boolean\n  /** Override KPI data (for testing or custom data) */\n  customStats?: ProductStats | null\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  loading: false,\n  customStats: null\n})\n\n/**\n * Component emits\n */\ndefineEmits<{\n  /** Emitted when a KPI card is clicked for drill-down */\n  cardClick: [kpiType: string]\n}>()\n\n// ===============================\n// STORE INTEGRATION\n// ===============================\n\nconst productStore = useProductStore()\n\nconst stats = computed(() => props.customStats || productStore.stats)\nconst isLoading = computed(() => props.loading || productStore.isLoading)\n\n// ===============================\n// UTILITY FUNCTIONS\n// ===============================\n\n/**\n * Format numbers with appropriate suffixes (K, M, B)\n */\nconst formatNumber = (value: number): string => {\n  if (value >= 1000000000) {\n    return (value / 1000000000).toFixed(1) + 'B'\n  }\n  if (value >= 1000000) {\n    return (value / 1000000).toFixed(1) + 'M'\n  }\n  if (value >= 1000) {\n    return (value / 1000).toFixed(1) + 'K'\n  }\n  return value.toString()\n}\n\n/**\n * Format percentage values\n */\nconst formatPercentage = (value: number): string => {\n  return Math.round(value) + '%'\n}\n\n/**\n * Get the count of categories in use\n */\nconst getCategoriesCount = (): number => {\n  if (!stats.value?.products_by_category) return 0\n  \n  return Object.values(stats.value.products_by_category).filter(count => count > 0).length\n}\n\n/**\n * Get the most common category name for subtitle\n */\nconst getMostCommonCategory = (): string => {\n  if (!stats.value?.most_common_category) return 'No category'\n  \n  return `Most: ${stats.value.most_common_category}`\n}\n\n/**\n * Calculate principal coverage percentage\n * (Products with principal assignments / Total active products)\n */\nconst getPrincipalCoverage = (): number => {\n  const totalActive = stats.value?.active_products || 0\n  if (totalActive === 0) return 0\n  \n  // This would need to be calculated based on product-principal relationships\n  // For now, using a placeholder calculation\n  // TODO: Add actual principal coverage calculation to ProductStats\n  const productsWithPrincipals = Math.floor(totalActive * 0.85) // Placeholder: 85% coverage\n  \n  return (productsWithPrincipals / totalActive) * 100\n}\n</script>\n\n<style scoped>\n/* ===============================\n   KPI CARD COMPONENT STYLES\n   =============================== */\n\n.kpi-card {\n  @apply bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200;\n  @apply cursor-pointer;\n  min-height: 120px;\n}\n\n.kpi-card:hover {\n  @apply border-gray-300;\n}\n\n.kpi-card:focus {\n  @apply outline-none ring-2 ring-blue-500 ring-offset-2;\n}\n\n.kpi-card-content {\n  @apply p-4 lg:p-6 flex items-start space-x-4;\n  min-height: 120px;\n}\n\n/* ===============================\n   KPI ICON STYLES\n   =============================== */\n\n.kpi-icon {\n  @apply flex-shrink-0 rounded-lg p-3 flex items-center justify-center;\n  @apply min-w-[48px] min-h-[48px];\n  @apply lg:min-w-[52px] lg:min-h-[52px];\n}\n\n.kpi-icon-blue {\n  @apply bg-blue-100 text-blue-600;\n}\n\n.kpi-icon-green {\n  @apply bg-green-100 text-green-600;\n}\n\n.kpi-icon-purple {\n  @apply bg-purple-100 text-purple-600;\n}\n\n.kpi-icon-emerald {\n  @apply bg-emerald-100 text-emerald-600;\n}\n\n/* ===============================\n   KPI DETAILS STYLES\n   =============================== */\n\n.kpi-details {\n  @apply flex-1 min-w-0;\n}\n\n.kpi-label {\n  @apply text-sm font-medium text-gray-600 mb-1;\n  @apply truncate;\n}\n\n.kpi-value {\n  @apply text-2xl lg:text-3xl font-bold text-gray-900 mb-1;\n  @apply min-h-[32px] lg:min-h-[36px];\n  @apply flex items-center;\n}\n\n.kpi-subtitle {\n  @apply text-xs text-gray-500;\n  @apply truncate;\n}\n\n/* ===============================\n   LOADING STATES\n   =============================== */\n\n.kpi-loading {\n  @apply animate-pulse;\n}\n\n.loading-placeholder {\n  @apply bg-gray-200 rounded;\n  @apply inline-block min-w-[40px] h-[32px] lg:h-[36px];\n}\n\n/* ===============================\n   RESPONSIVE DESIGN\n   =============================== */\n\n/* iPad Portrait Optimization */\n@media (min-width: 768px) and (max-width: 1024px) {\n  .kpi-card {\n    min-height: 140px;\n  }\n  \n  .kpi-card-content {\n    @apply p-5;\n    min-height: 140px;\n  }\n  \n  .kpi-icon {\n    @apply min-w-[56px] min-h-[56px];\n  }\n  \n  .kpi-value {\n    @apply text-3xl;\n    @apply min-h-[40px];\n  }\n}\n\n/* Mobile Optimization */\n@media (max-width: 767px) {\n  .kpi-card {\n    min-height: 100px;\n  }\n  \n  .kpi-card-content {\n    @apply p-3 space-x-3;\n    min-height: 100px;\n  }\n  \n  .kpi-icon {\n    @apply min-w-[40px] min-h-[40px] p-2;\n  }\n  \n  .kpi-value {\n    @apply text-xl;\n    @apply min-h-[28px];\n  }\n  \n  .kpi-label {\n    @apply text-xs;\n  }\n  \n  .kpi-subtitle {\n    @apply text-xs;\n  }\n}\n\n/* ===============================\n   ACCESSIBILITY ENHANCEMENTS\n   =============================== */\n\n.kpi-card:focus-visible {\n  @apply outline-none ring-2 ring-blue-500 ring-offset-2;\n}\n\n/* High contrast mode support */\n@media (prefers-contrast: high) {\n  .kpi-card {\n    @apply border-2 border-gray-400;\n  }\n  \n  .kpi-icon-blue {\n    @apply bg-blue-200 text-blue-800;\n  }\n  \n  .kpi-icon-green {\n    @apply bg-green-200 text-green-800;\n  }\n  \n  .kpi-icon-purple {\n    @apply bg-purple-200 text-purple-800;\n  }\n  \n  .kpi-icon-emerald {\n    @apply bg-emerald-200 text-emerald-800;\n  }\n}\n\n/* Reduced motion support */\n@media (prefers-reduced-motion: reduce) {\n  .kpi-card {\n    transition: none;\n  }\n  \n  .kpi-loading {\n    animation: none;\n  }\n}\n\n/* Keyboard navigation enhancement */\n.kpi-card:focus {\n  @apply transform scale-[1.02];\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .kpi-card:focus {\n    transform: none;\n  }\n}\n</style>","import * as yup from 'yup'\n\n/**\n * Product Category Enum - Matching database schema\n */\nexport enum ProductCategory {\n  PROTEIN = 'Protein',\n  SAUCE = 'Sauce',\n  SEASONING = 'Seasoning',\n  BEVERAGE = 'Beverage',\n  SNACK = 'Snack',\n  FROZEN = 'Frozen',\n  DAIRY = 'Dairy',\n  BAKERY = 'Bakery',\n  OTHER = 'Other'\n}\n\n/**\n * Base Product interface matching database schema\n */\nexport interface Product {\n  id: string\n  name: string\n  description: string | null\n  category: ProductCategory | null\n  unit_price?: number | null  // Made optional to match database variations\n  sku: string | null\n  is_active: boolean\n  created_at: string | null\n  updated_at: string | null\n  created_by?: string | null  // Made optional to match database\n  deleted_at: string | null\n}\n\n/**\n * Product insert interface for creating new products\n */\nexport interface ProductInsert {\n  name: string\n  description?: string | null\n  category: ProductCategory | null\n  unit_price?: number | null\n  sku?: string | null\n  is_active?: boolean\n  created_by?: string | null\n}\n\n/**\n * Product update interface for editing products\n */\nexport interface ProductUpdate {\n  name?: string\n  description?: string | null\n  category?: ProductCategory | null\n  unit_price?: number | null\n  sku?: string | null\n  is_active?: boolean\n}\n\n/**\n * Product with principal relationship data for filtering\n */\nexport interface ProductWithPrincipals {\n  id: string\n  name: string\n  description: string | null\n  category: ProductCategory | null\n  unit_price?: number | null\n  sku: string | null\n  is_active: boolean\n  created_at: string | null\n  updated_at: string | null\n  \n  // Principal relationships\n  principal_ids: string[]\n  principal_names: string[]\n  principal_count: number\n}\n\n/**\n * Principal-Product relationship interface\n */\nexport interface ProductPrincipal {\n  id: string\n  product_id: string\n  principal_id: string\n  created_at: string | null\n  \n  // Related data\n  product_name: string\n  product_category: ProductCategory | null\n  principal_name: string\n  principal_type: string\n}\n\n/**\n * Product selection interface for forms\n */\nexport interface ProductOption {\n  id: string\n  name: string\n  category: ProductCategory | null\n  description: string | null\n  unit_price?: number | null\n  is_active: boolean\n  available_principals: string[]  // Principal IDs that can access this product\n}\n\n/**\n * Product filtering parameters\n */\nexport interface ProductFilters {\n  search?: string\n  category?: ProductCategory[]\n  principal_id?: string\n  principal_ids?: string[]  // Filter products available to specific principals\n  is_active?: boolean\n  price_min?: number\n  price_max?: number\n  created_after?: string\n  created_before?: string\n}\n\n/**\n * Product pagination parameters\n */\nexport interface ProductPagination {\n  page: number\n  limit: number\n  sort_by: string\n  sort_order: 'asc' | 'desc'\n}\n\n/**\n * Product API response interface\n */\nexport interface ProductListResponse {\n  products: ProductWithPrincipals[]\n  total_count: number\n  page: number\n  limit: number\n  has_next: boolean\n  has_previous: boolean\n}\n\n/**\n * Product-Principal availability view\n */\nexport interface ProductPrincipalAvailability {\n  product_id: string\n  product_name: string\n  product_category: ProductCategory\n  principal_id: string\n  principal_name: string\n  principal_type: string\n  is_available: boolean\n  created_at: string\n}\n\n/**\n * Product form data interface\n */\nexport interface ProductFormData {\n  name: string\n  description: string | null\n  category: ProductCategory\n  unit_price: number | null\n  sku: string | null\n  is_active: boolean\n  principal_ids: string[]  // Principals that can access this product\n}\n\n/**\n * Product statistics interface\n */\nexport interface ProductStats {\n  total_products: number\n  active_products: number\n  inactive_products: number\n  products_by_category: {\n    [K in ProductCategory]: number\n  }\n  average_price: number\n  price_range: {\n    min: number\n    max: number\n  }\n  most_common_category: ProductCategory\n  recently_added: number  // Added in last 30 days\n}\n\n/**\n * Yup validation schema for product forms\n */\nexport const productValidationSchema = yup.object({\n  name: yup\n    .string()\n    .required('Product name is required')\n    .min(2, 'Name must be at least 2 characters')\n    .max(200, 'Name must be less than 200 characters'),\n    \n  description: yup\n    .string()\n    .max(1000, 'Description must be less than 1000 characters')\n    .nullable(),\n    \n  category: yup\n    .string()\n    .required('Category is required')\n    .oneOf(Object.values(ProductCategory), 'Invalid category selected')\n    .nullable(),\n    \n  unit_price: yup\n    .number()\n    .min(0, 'Price cannot be negative')\n    .nullable(),\n    \n  sku: yup\n    .string()\n    .max(50, 'SKU must be less than 50 characters')\n    .nullable(),\n    \n  is_active: yup\n    .boolean()\n    .default(true),\n    \n  principal_ids: yup\n    .array(yup.string().uuid('Invalid principal ID'))\n    .min(1, 'At least one principal must be assigned')\n    .required('Principal assignment is required')\n})\n\n/**\n * Type inference from validation schema\n */\nexport type ProductFormValidation = yup.InferType<typeof productValidationSchema>\n\n/**\n * Product-Principal relationship validation schema\n */\nexport const productPrincipalValidationSchema = yup.object({\n  product_id: yup\n    .string()\n    .required('Product ID is required')\n    .uuid('Invalid product ID'),\n    \n  principal_id: yup\n    .string()\n    .required('Principal ID is required')\n    .uuid('Invalid principal ID')\n})\n\n/**\n * Category color coding for UI components\n */\nexport const CATEGORY_COLORS: { [K in ProductCategory]: string } = {\n  [ProductCategory.PROTEIN]: 'red',\n  [ProductCategory.SAUCE]: 'orange',\n  [ProductCategory.SEASONING]: 'green',\n  [ProductCategory.BEVERAGE]: 'blue',\n  [ProductCategory.SNACK]: 'yellow',\n  [ProductCategory.FROZEN]: 'cyan',\n  [ProductCategory.DAIRY]: 'purple',\n  [ProductCategory.BAKERY]: 'pink',\n  [ProductCategory.OTHER]: 'gray'\n}\n\n/**\n * Category icons for UI components\n */\nexport const CATEGORY_ICONS: { [K in ProductCategory]: string } = {\n  [ProductCategory.PROTEIN]: '🥩',\n  [ProductCategory.SAUCE]: '🥫',\n  [ProductCategory.SEASONING]: '🧂',\n  [ProductCategory.BEVERAGE]: '🥤',\n  [ProductCategory.SNACK]: '🍿',\n  [ProductCategory.FROZEN]: '🧊',\n  [ProductCategory.DAIRY]: '🥛',\n  [ProductCategory.BAKERY]: '🍞',\n  [ProductCategory.OTHER]: '📦'\n}\n\n/**\n * Product search result interface\n */\nexport interface ProductSearchResult {\n  id: string\n  name: string\n  category: ProductCategory | null\n  description: string | null\n  unit_price?: number | null\n  match_score: number  // Search relevance score\n  available_for_principals: string[]  // Principal IDs\n  highlight_fields: string[]  // Fields that matched the search\n}\n\n/**\n * Bulk product operations interface\n */\nexport interface BulkProductOperation {\n  operation: 'activate' | 'deactivate' | 'delete' | 'update_category' | 'assign_principals'\n  product_ids: string[]\n  parameters?: {\n    category?: ProductCategory\n    principal_ids?: string[]\n    is_active?: boolean\n  }\n}\n\n/**\n * Bulk operation result interface\n */\nexport interface BulkProductResult {\n  success: boolean\n  processed_count: number\n  failed_count: number\n  errors: {\n    product_id: string\n    product_name: string\n    error_message: string\n  }[]\n  updated_products: Product[]\n}","<template>\n  <div class=\"product-table-container\">\n    <!-- Table Header with Bulk Actions -->\n    <div v-if=\"selectedProducts.length > 0\" class=\"bg-blue-50 border border-blue-200 rounded-t-lg p-4\">\n      <div class=\"flex items-center justify-between\">\n        <div class=\"flex items-center space-x-3\">\n          <span class=\"text-sm font-medium text-blue-900\">\n            {{ selectedProducts.length }} product{{ selectedProducts.length === 1 ? '' : 's' }} selected\n          </span>\n          <button\n            @click=\"clearSelection\"\n            class=\"text-blue-600 hover:text-blue-800 text-sm font-medium\"\n          >\n            Clear selection\n          </button>\n        </div>\n        <div class=\"flex items-center space-x-2\">\n          <button\n            @click=\"bulkActivate\"\n            class=\"px-3 py-1 text-sm font-medium text-green-700 bg-green-100 border border-green-200 rounded-md hover:bg-green-200\"\n          >\n            Activate\n          </button>\n          <button\n            @click=\"bulkDeactivate\"\n            class=\"px-3 py-1 text-sm font-medium text-yellow-700 bg-yellow-100 border border-yellow-200 rounded-md hover:bg-yellow-200\"\n          >\n            Deactivate\n          </button>\n          <button\n            @click=\"bulkDelete\"\n            class=\"px-3 py-1 text-sm font-medium text-red-700 bg-red-100 border border-red-200 rounded-md hover:bg-red-200\"\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Products Table -->\n    <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\">\n      <div class=\"overflow-x-auto\">\n        <table class=\"min-w-full divide-y divide-gray-200\">\n          <thead class=\"bg-gray-50\">\n            <tr>\n              <th scope=\"col\" class=\"px-4 py-3 text-left\">\n                <input\n                  type=\"checkbox\"\n                  :checked=\"allSelected\"\n                  :indeterminate.prop=\"someSelected\"\n                  @change=\"toggleSelectAll\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                  aria-label=\"Select all products\"\n                />\n              </th>\n              \n              <th \n                scope=\"col\" \n                class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                @click=\"sortBy('name')\"\n              >\n                <div class=\"flex items-center space-x-1\">\n                  <span>Product</span>\n                  <svg v-if=\"currentSort === 'name'\" class=\"h-4 w-4\" :class=\"sortDirection === 'asc' ? 'transform rotate-180' : ''\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </div>\n              </th>\n              \n              <th \n                scope=\"col\" \n                class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                @click=\"sortBy('category')\"\n              >\n                <div class=\"flex items-center space-x-1\">\n                  <span>Category</span>\n                  <svg v-if=\"currentSort === 'category'\" class=\"h-4 w-4\" :class=\"sortDirection === 'asc' ? 'transform rotate-180' : ''\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </div>\n              </th>\n              \n              <th \n                scope=\"col\" \n                class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                @click=\"sortBy('unit_price')\"\n              >\n                <div class=\"flex items-center space-x-1\">\n                  <span>Price</span>\n                  <svg v-if=\"currentSort === 'unit_price'\" class=\"h-4 w-4\" :class=\"sortDirection === 'asc' ? 'transform rotate-180' : ''\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </div>\n              </th>\n              \n              <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Status\n              </th>\n              \n              <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Principals\n              </th>\n              \n              <th \n                scope=\"col\" \n                class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                @click=\"sortBy('created_at')\"\n              >\n                <div class=\"flex items-center space-x-1\">\n                  <span>Created</span>\n                  <svg v-if=\"currentSort === 'created_at'\" class=\"h-4 w-4\" :class=\"sortDirection === 'asc' ? 'transform rotate-180' : ''\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </div>\n              </th>\n              \n              <th scope=\"col\" class=\"relative px-6 py-3\">\n                <span class=\"sr-only\">Actions</span>\n              </th>\n            </tr>\n          </thead>\n          \n          <tbody class=\"bg-white divide-y divide-gray-200\">\n            <!-- Loading Row -->\n            <tr v-if=\"loading && products.length === 0\">\n              <td colspan=\"8\" class=\"px-6 py-12 text-center\">\n                <div class=\"flex justify-center\">\n                  <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n                </div>\n                <p class=\"text-gray-500 mt-4\">Loading products...</p>\n              </td>\n            </tr>\n            \n            <!-- Product Rows -->\n            <tr\n              v-for=\"product in products\"\n              :key=\"product.id\"\n              class=\"hover:bg-gray-50 cursor-pointer transition-colors duration-150\"\n              @click=\"handleRowClick(product)\"\n            >\n              <td class=\"px-4 py-4\" @click.stop>\n                <input\n                  type=\"checkbox\"\n                  :value=\"product.id\"\n                  v-model=\"selectedProducts\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                  :aria-label=\"`Select ${product.name}`\"\n                />\n              </td>\n              \n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <div class=\"flex items-center\">\n                  <div class=\"flex-shrink-0 h-10 w-10\">\n                    <div class=\"h-10 w-10 rounded-lg bg-gray-100 flex items-center justify-center\">\n                      <span class=\"text-lg\">{{ getCategoryIcon(product.category) }}</span>\n                    </div>\n                  </div>\n                  <div class=\"ml-4\">\n                    <div class=\"text-sm font-medium text-gray-900\">\n                      {{ product.name }}\n                    </div>\n                    <div v-if=\"product.sku\" class=\"text-sm text-gray-500\">\n                      SKU: {{ product.sku }}\n                    </div>\n                  </div>\n                </div>\n              </td>\n              \n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <span\n                  v-if=\"product.category\"\n                  class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\"\n                  :class=\"getCategoryBadgeClass(product.category)\"\n                >\n                  {{ product.category }}\n                </span>\n                <span v-else class=\"text-gray-400 text-sm\">No category</span>\n              </td>\n              \n              <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                <span v-if=\"product.unit_price\">\n                  ${{ formatPrice(product.unit_price) }}\n                </span>\n                <span v-else class=\"text-gray-400\">Not set</span>\n              </td>\n              \n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <span\n                  class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\"\n                  :class=\"product.is_active \n                    ? 'bg-green-100 text-green-800' \n                    : 'bg-red-100 text-red-800'\n                  \"\n                >\n                  {{ product.is_active ? 'Active' : 'Inactive' }}\n                </span>\n              </td>\n              \n              <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                <div class=\"flex items-center\">\n                  <svg class=\"h-4 w-4 text-gray-400 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n                  </svg>\n                  <span>{{ product.principal_count || 0 }}</span>\n                </div>\n              </td>\n              \n              <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                {{ formatDate(product.created_at) }}\n              </td>\n              \n              <td class=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                <div class=\"flex items-center space-x-2\">\n                  <button\n                    @click.stop=\"handleEdit(product)\"\n                    class=\"text-blue-600 hover:text-blue-900 p-1 rounded-md hover:bg-blue-50\"\n                    :aria-label=\"`Edit ${product.name}`\"\n                  >\n                    <svg class=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                    </svg>\n                  </button>\n                  \n                  <button\n                    @click.stop=\"handleDuplicate(product)\"\n                    class=\"text-gray-600 hover:text-gray-900 p-1 rounded-md hover:bg-gray-50\"\n                    :aria-label=\"`Duplicate ${product.name}`\"\n                  >\n                    <svg class=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n                    </svg>\n                  </button>\n                  \n                  <button\n                    @click.stop=\"handleDelete(product)\"\n                    class=\"text-red-600 hover:text-red-900 p-1 rounded-md hover:bg-red-50\"\n                    :aria-label=\"`Delete ${product.name}`\"\n                  >\n                    <svg class=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                    </svg>\n                  </button>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n\n    <!-- Pagination -->\n    <div v-if=\"products.length > 0\" class=\"bg-white px-4 py-3 border-t border-gray-200 sm:px-6\">\n      <div class=\"flex items-center justify-between\">\n        <div class=\"text-sm text-gray-700\">\n          Showing {{ products.length }} products\n        </div>\n        <!-- Pagination controls would go here if needed -->\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue'\nimport { useProductStore } from '@/stores/productStore'\nimport type { ProductWithPrincipals, ProductCategory } from '@/types/products'\nimport { CATEGORY_ICONS } from '@/types/products'\n\n/**\n * Props interface for ProductTable component\n */\ninterface Props {\n  /** Whether to show loading state */\n  loading?: boolean\n}\n\nwithDefaults(defineProps<Props>(), {\n  loading: false\n})\n\n/**\n * Component emits\n */\nconst emit = defineEmits<{\n  /** Emitted when a product row is clicked */\n  rowClick: [product: ProductWithPrincipals]\n  /** Emitted when edit action is triggered */\n  edit: [product: ProductWithPrincipals]\n  /** Emitted when delete action is triggered */\n  delete: [product: ProductWithPrincipals]\n  /** Emitted when duplicate action is triggered */\n  duplicate: [product: ProductWithPrincipals]\n  /** Emitted when bulk delete is triggered */\n  bulkDelete: [productIds: string[]]\n  /** Emitted when create new is triggered */\n  createNew: []\n  /** Emitted when sort changes */\n  sortChange: [column: string, direction: 'asc' | 'desc']\n}>()\n\n// ===============================\n// STORE INTEGRATION\n// ===============================\n\nconst productStore = useProductStore()\nconst products = computed(() => productStore.products)\n\n// ===============================\n// REACTIVE STATE\n// ===============================\n\nconst selectedProducts = ref<string[]>([])\nconst currentSort = ref<string>('created_at')\nconst sortDirection = ref<'asc' | 'desc'>('desc')\n\n// ===============================\n// COMPUTED PROPERTIES\n// ===============================\n\nconst allSelected = computed(() => {\n  return products.value.length > 0 && selectedProducts.value.length === products.value.length\n})\n\nconst someSelected = computed(() => {\n  return selectedProducts.value.length > 0 && selectedProducts.value.length < products.value.length\n})\n\n// ===============================\n// SELECTION HANDLERS\n// ===============================\n\nconst toggleSelectAll = () => {\n  if (allSelected.value) {\n    selectedProducts.value = []\n  } else {\n    selectedProducts.value = products.value.map(p => p.id)\n  }\n}\n\nconst clearSelection = () => {\n  selectedProducts.value = []\n}\n\n// ===============================\n// BULK OPERATIONS\n// ===============================\n\nconst bulkActivate = async () => {\n  if (selectedProducts.value.length === 0) return\n  \n  const operation = {\n    operation: 'activate' as const,\n    product_ids: selectedProducts.value,\n    parameters: { is_active: true }\n  }\n  \n  const success = await productStore.performBulkOperation(operation)\n  if (success) {\n    clearSelection()\n  }\n}\n\nconst bulkDeactivate = async () => {\n  if (selectedProducts.value.length === 0) return\n  \n  const operation = {\n    operation: 'deactivate' as const,\n    product_ids: selectedProducts.value,\n    parameters: { is_active: false }\n  }\n  \n  const success = await productStore.performBulkOperation(operation)\n  if (success) {\n    clearSelection()\n  }\n}\n\nconst bulkDelete = () => {\n  if (selectedProducts.value.length === 0) return\n  \n  emit('bulkDelete', [...selectedProducts.value])\n  clearSelection()\n}\n\n// ===============================\n// SORTING\n// ===============================\n\nconst sortBy = (column: string) => {\n  if (currentSort.value === column) {\n    sortDirection.value = sortDirection.value === 'asc' ? 'desc' : 'asc'\n  } else {\n    currentSort.value = column\n    sortDirection.value = 'asc'\n  }\n  \n  emit('sortChange', column, sortDirection.value)\n}\n\n// ===============================\n// EVENT HANDLERS\n// ===============================\n\nconst handleRowClick = (product: ProductWithPrincipals) => {\n  emit('rowClick', product)\n}\n\nconst handleEdit = (product: ProductWithPrincipals) => {\n  emit('edit', product)\n}\n\nconst handleDelete = (product: ProductWithPrincipals) => {\n  emit('delete', product)\n}\n\nconst handleDuplicate = (product: ProductWithPrincipals) => {\n  emit('duplicate', product)\n}\n\n// ===============================\n// UTILITY FUNCTIONS\n// ===============================\n\nconst getCategoryIcon = (category: ProductCategory | null): string => {\n  if (!category) return '📦'\n  return CATEGORY_ICONS[category] || '📦'\n}\n\nconst getCategoryBadgeClass = (category: ProductCategory): string => {\n  const colorMap = {\n    'Protein': 'bg-red-100 text-red-800',\n    'Sauce': 'bg-orange-100 text-orange-800',\n    'Seasoning': 'bg-green-100 text-green-800',\n    'Beverage': 'bg-blue-100 text-blue-800',\n    'Snack': 'bg-yellow-100 text-yellow-800',\n    'Frozen': 'bg-cyan-100 text-cyan-800',\n    'Dairy': 'bg-purple-100 text-purple-800',\n    'Bakery': 'bg-pink-100 text-pink-800',\n    'Other': 'bg-gray-100 text-gray-800'\n  }\n  \n  return colorMap[category] || 'bg-gray-100 text-gray-800'\n}\n\nconst formatPrice = (price: number): string => {\n  return new Intl.NumberFormat('en-US', {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  }).format(price)\n}\n\nconst formatDate = (dateString: string | null): string => {\n  if (!dateString) return 'Unknown'\n  \n  const date = new Date(dateString)\n  return date.toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  })\n}\n</script>\n\n<style scoped>\n.product-table-container {\n  @apply space-y-0;\n}\n\n/* Enhance row hover effects */\ntbody tr:hover {\n  @apply bg-gray-50;\n}\n\n/* Improve checkbox styling */\ninput[type=\"checkbox\"]:indeterminate {\n  @apply bg-blue-600 border-blue-600;\n  background-image: url(\"data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M5.707 7.293a1 1 0 0 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L7 8.586 5.707 7.293z'/%3e%3c/svg%3e\");\n}\n\n/* Action button hover effects */\nbutton:hover svg {\n  @apply transform scale-110 transition-transform duration-150;\n}\n\n/* Responsive table */\n@media (max-width: 768px) {\n  .product-table-container {\n    @apply text-sm;\n  }\n  \n  th, td {\n    @apply px-3 py-2;\n  }\n}\n\n/* Accessibility improvements */\nbutton:focus-visible {\n  @apply ring-2 ring-blue-500 ring-offset-1 outline-none;\n}\n\ntr:focus-within {\n  @apply bg-blue-50;\n}\n\n/* Print styles */\n@media print {\n  .product-table-container button {\n    @apply hidden;\n  }\n  \n  input[type=\"checkbox\"] {\n    @apply hidden;\n  }\n  \n  th:first-child,\n  td:first-child,\n  th:last-child,\n  td:last-child {\n    @apply hidden;\n  }\n}\n</style>","<template>\n  <div class=\"products-list-view\" data-testid=\"products-list-view\">\n    <!-- Page Header -->\n    <div class=\"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8\" data-testid=\"products-header\">\n      <div class=\"mb-4 lg:mb-0\">\n        <h1 class=\"text-3xl font-bold text-gray-900\" data-testid=\"page-title\">Products</h1>\n        <p class=\"mt-2 text-gray-600\">\n          Manage your product catalog and principal assignments\n        </p>\n      </div>\n      \n      <div class=\"flex items-center space-x-3\">\n        <!-- Refresh Button -->\n        <button\n          @click=\"refreshData\"\n          :disabled=\"isLoading\"\n          class=\"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n          :aria-label=\"isLoading ? 'Refreshing...' : 'Refresh data'\"\n        >\n          <svg \n            :class=\"['h-4 w-4', { 'animate-spin': isLoading }]\" \n            fill=\"none\" \n            stroke=\"currentColor\" \n            viewBox=\"0 0 24 24\"\n          >\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n          </svg>\n          <span class=\"ml-2 hidden sm:inline\">Refresh</span>\n        </button>\n        \n        <!-- New Product Button -->\n        <router-link\n          to=\"/products/new\"\n          class=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n        >\n          <svg class=\"-ml-1 mr-2 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n          </svg>\n          New Product\n        </router-link>\n      </div>\n    </div>\n\n    <!-- KPI Cards Section -->\n    <div class=\"mb-8\" data-testid=\"kpi-cards-section\">\n      <ProductKPICards \n        :loading=\"isLoadingKPIs\"\n        @card-click=\"handleKPICardClick\"\n        data-testid=\"kpi-cards\"\n      />\n    </div>\n\n    <!-- Search and Filters -->\n    <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6\">\n      <div class=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\">\n        <!-- Search Input -->\n        <div class=\"flex-1 max-w-md\">\n          <label for=\"search\" class=\"sr-only\">Search products</label>\n          <div class=\"relative\">\n            <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n              <svg class=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n              </svg>\n            </div>\n            <input\n              id=\"search\"\n              v-model=\"searchQuery\"\n              type=\"text\"\n              placeholder=\"Search products...\"\n              class=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500\"\n              @input=\"handleSearch\"\n            />\n          </div>\n        </div>\n        \n        <!-- Filter Controls -->\n        <div class=\"flex items-center space-x-3\">\n          <!-- Category Filter -->\n          <select\n            v-model=\"filters.category\"\n            class=\"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500\"\n            @change=\"applyFilters\"\n          >\n            <option value=\"\">All Categories</option>\n            <option value=\"Protein\">Protein</option>\n            <option value=\"Sauce\">Sauce</option>\n            <option value=\"Seasoning\">Seasoning</option>\n            <option value=\"Beverage\">Beverage</option>\n            <option value=\"Snack\">Snack</option>\n            <option value=\"Frozen\">Frozen</option>\n            <option value=\"Dairy\">Dairy</option>\n            <option value=\"Bakery\">Bakery</option>\n            <option value=\"Other\">Other</option>\n          </select>\n          \n          <!-- Status Filter -->\n          <select\n            v-model=\"filters.is_active\"\n            class=\"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500\"\n            @change=\"applyFilters\"\n          >\n            <option value=\"\">All Products</option>\n            <option :value=\"true\">Active Only</option>\n            <option :value=\"false\">Inactive Only</option>\n          </select>\n          \n          <!-- Sort Controls -->\n          <select\n            v-model=\"sortBy\"\n            class=\"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500\"\n            @change=\"handleSort\"\n          >\n            <option value=\"created_at\">Sort by Created Date</option>\n            <option value=\"name\">Sort by Name</option>\n            <option value=\"category\">Sort by Category</option>\n            <option value=\"unit_price\">Sort by Price</option>\n            <option value=\"updated_at\">Sort by Updated Date</option>\n          </select>\n          \n          <button\n            @click=\"toggleSortOrder\"\n            class=\"p-2 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n            :class=\"{ 'bg-gray-50': sortOrder === 'desc' }\"\n            :aria-label=\"`Sort ${sortOrder === 'asc' ? 'descending' : 'ascending'}`\"\n          >\n            <svg class=\"h-5 w-5 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path \n                stroke-linecap=\"round\" \n                stroke-linejoin=\"round\" \n                stroke-width=\"2\" \n                :d=\"sortOrder === 'asc' ? 'M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12' : 'M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4'\" \n              />\n            </svg>\n          </button>\n          \n          <!-- Clear Filters -->\n          <button\n            v-if=\"hasActiveFilters\"\n            @click=\"clearFilters\"\n            class=\"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 focus:outline-none focus:ring-1 focus:ring-blue-500 rounded-md\"\n          >\n            Clear Filters\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Main Content Area -->\n    <div class=\"space-y-6\">\n      <!-- Loading State -->\n      <div v-if=\"isLoading && products.length === 0\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\" data-testid=\"loading-spinner\">\n        <div class=\"flex justify-center\">\n          <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n        </div>\n        <p class=\"text-center text-gray-500 mt-4\">Loading products...</p>\n      </div>\n\n      <!-- Error State -->\n      <div v-else-if=\"error\" class=\"bg-white rounded-lg shadow-sm border border-red-200 p-6\" data-testid=\"error-message\">\n        <div class=\"flex items-center\">\n          <svg class=\"h-5 w-5 text-red-400 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <span class=\"text-red-700\">{{ error }}</span>\n        </div>\n        <div class=\"mt-4 flex space-x-3\">\n          <button\n            @click=\"refreshData\"\n            class=\"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\"\n            data-testid=\"retry-button\"\n          >\n            Try Again\n          </button>\n          <button\n            @click=\"clearFilters\"\n            class=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\n          >\n            Clear Filters\n          </button>\n        </div>\n      </div>\n\n      <!-- Empty State -->\n      <div v-else-if=\"products.length === 0 && !isLoading\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center\">\n        <svg class=\"mx-auto h-12 w-12 text-gray-400 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\" />\n        </svg>\n        <h3 class=\"text-lg font-medium text-gray-900 mb-2\">\n          {{ hasActiveFilters ? 'No products match your search' : 'No products found' }}\n        </h3>\n        <p class=\"text-gray-500 mb-6\">\n          {{ hasActiveFilters \n            ? 'Try adjusting your search terms or filters.' \n            : 'Get started by adding your first product to the catalog.' \n          }}\n        </p>\n        \n        <div class=\"flex justify-center space-x-3\">\n          <router-link\n            v-if=\"!hasActiveFilters\"\n            to=\"/products/new\"\n            class=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\"\n          >\n            <svg class=\"-ml-1 mr-2 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n            </svg>\n            Add Your First Product\n          </router-link>\n          \n          <button\n            v-if=\"hasActiveFilters\"\n            @click=\"clearFilters\"\n            class=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\n          >\n            Clear All Filters\n          </button>\n        </div>\n      </div>\n\n      <!-- Products Table -->\n      <div v-else data-testid=\"product-table-section\">\n        <ProductTable\n          :loading=\"isLoading\"\n          @row-click=\"handleRowClick\"\n          @edit=\"handleEdit\"\n          @delete=\"handleDelete\"\n          @duplicate=\"handleDuplicate\"\n          @bulk-delete=\"handleBulkDelete\"\n          @create-new=\"handleCreateNew\"\n          @sort-change=\"handleTableSort\"\n          data-testid=\"product-table\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted, watch } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useProductStore } from '@/stores/productStore'\nimport ProductKPICards from '@/components/products/ProductKPICards.vue'\nimport ProductTable from '@/components/products/ProductTable.vue'\nimport type { \n  ProductWithPrincipals, \n  ProductFilters,\n  ProductPagination\n} from '@/types/products'\n\n/**\n * ProductsListView - Main products list page with KPI dashboard and comprehensive filtering\n * \n * Features:\n * - KPI cards showing total products, active products, categories, and principal assignments\n * - Advanced search and filtering capabilities (name, description, category, status, price)\n * - Sortable table with pagination\n * - Bulk operations support (activate, deactivate, soft delete, category update)\n * - Responsive design optimized for iPad and mobile\n * - Accessibility compliant with WCAG 2.1 AA standards\n * - Real-time data updates with loading states\n * \n * Navigation:\n * - Create new products via \"New Product\" button\n * - Click rows to view product details\n * - Quick edit via table actions\n * - Contextual empty states with clear next actions\n * \n * @component\n * @example\n * <ProductsListView />\n */\n\n// Dependencies\nconst router = useRouter()\nconst productStore = useProductStore()\n\n// ===============================\n// REACTIVE STATE\n// ===============================\n\nconst searchQuery = ref('')\nconst sortBy = ref<string>('created_at')\nconst sortOrder = ref<'asc' | 'desc'>('desc')\nconst isLoadingKPIs = ref(false)\n\n// Filters\nconst filters = ref<ProductFilters>({\n  search: '',\n  category: [],\n  is_active: undefined,\n  price_min: undefined,\n  price_max: undefined\n})\n\n// ===============================\n// COMPUTED PROPERTIES\n// ===============================\n\nconst products = computed(() => productStore.products)\nconst isLoading = computed(() => productStore.isLoading)\nconst error = computed(() => productStore.error)\n\nconst hasActiveFilters = computed(() => {\n  return !!(\n    searchQuery.value ||\n    filters.value.category?.length ||\n    filters.value.is_active !== undefined ||\n    filters.value.price_min !== undefined ||\n    filters.value.price_max !== undefined ||\n    filters.value.principal_id ||\n    filters.value.created_after ||\n    filters.value.created_before\n  )\n})\n\n// ===============================\n// SEARCH & FILTERING\n// ===============================\n\nlet searchTimeout: ReturnType<typeof setTimeout>\n\nconst handleSearch = () => {\n  clearTimeout(searchTimeout)\n  searchTimeout = setTimeout(() => {\n    applyFilters()\n  }, 300)\n}\n\nconst applyFilters = async () => {\n  const appliedFilters: ProductFilters = {\n    ...filters.value\n  }\n  \n  // Add search query to filters\n  if (searchQuery.value.trim()) {\n    appliedFilters.search = searchQuery.value.trim()\n  }\n  \n  const pagination: ProductPagination = {\n    page: 1,\n    limit: 20,\n    sort_by: sortBy.value,\n    sort_order: sortOrder.value\n  }\n  \n  await productStore.fetchProducts({ \n    ...appliedFilters,\n    ...pagination \n  })\n}\n\nconst clearFilters = () => {\n  searchQuery.value = ''\n  filters.value = {\n    search: '',\n    category: [],\n    is_active: undefined,\n    price_min: undefined,\n    price_max: undefined\n  }\n  sortBy.value = 'created_at'\n  sortOrder.value = 'desc'\n  \n  applyFilters()\n}\n\n// ===============================\n// SORTING\n// ===============================\n\nconst handleSort = () => {\n  applyFilters()\n}\n\nconst toggleSortOrder = () => {\n  sortOrder.value = sortOrder.value === 'asc' ? 'desc' : 'asc'\n  applyFilters()\n}\n\nconst handleTableSort = (column: string, order: 'asc' | 'desc') => {\n  sortBy.value = column\n  sortOrder.value = order\n  applyFilters()\n}\n\n// ===============================\n// DATA LOADING\n// ===============================\n\nconst refreshData = async () => {\n  await Promise.all([\n    loadProducts(),\n    loadKPIs()\n  ])\n}\n\nconst loadProducts = async () => {\n  const appliedFilters: ProductFilters = {\n    ...filters.value\n  }\n  \n  if (searchQuery.value.trim()) {\n    appliedFilters.search = searchQuery.value.trim()\n  }\n  \n  const pagination: ProductPagination = {\n    page: 1,\n    limit: 20,\n    sort_by: sortBy.value,\n    sort_order: sortOrder.value\n  }\n  \n  await productStore.fetchProducts({\n    ...appliedFilters,\n    ...pagination\n  })\n}\n\nconst loadKPIs = async () => {\n  isLoadingKPIs.value = true\n  try {\n    await productStore.fetchStats()\n  } finally {\n    isLoadingKPIs.value = false\n  }\n}\n\n// ===============================\n// EVENT HANDLERS\n// ===============================\n\n/**\n * Handle KPI card clicks for drill-down functionality\n * @param kpiType - The type of KPI card clicked\n */\nconst handleKPICardClick = (kpiType: string) => {\n  // Handle KPI card drill-down\n  console.log('KPI card clicked:', kpiType)\n  \n  // Filter products based on KPI type\n  switch (kpiType) {\n    case 'total':\n      clearFilters()\n      break\n    case 'active':\n      filters.value.is_active = true\n      applyFilters()\n      break\n    case 'inactive':\n      filters.value.is_active = false\n      applyFilters()\n      break\n    case 'category':\n      // Could show category breakdown modal\n      break\n  }\n}\n\n/**\n * Navigate to product detail view\n * @param product - The product to view\n */\nconst handleRowClick = (product: ProductWithPrincipals) => {\n  router.push(`/products/${product.id}`)\n}\n\n/**\n * Navigate to product edit form\n * @param product - The product to edit\n */\nconst handleEdit = (product: ProductWithPrincipals) => {\n  router.push(`/products/${product.id}/edit`)\n}\n\n/**\n * Delete a product with confirmation\n * @param product - The product to delete\n */\nconst handleDelete = async (product: ProductWithPrincipals) => {\n  if (confirm(`Are you sure you want to delete \"${product.name}\"? This will deactivate the product but preserve the data.`)) {\n    const success = await productStore.deleteProduct(product.id)\n    if (success) {\n      // Product was updated in store automatically (soft delete)\n      // Show success message if needed\n    }\n  }\n}\n\n/**\n * Create a duplicate of an existing product\n * @param product - The product to duplicate\n */\nconst handleDuplicate = (product: ProductWithPrincipals) => {\n  // TODO: Implement product duplication\n  console.log('Duplicate product:', product.id)\n}\n\n/**\n * Delete multiple products in batch\n * @param productIds - Array of product IDs to delete\n */\nconst handleBulkDelete = async (productIds: string[]) => {\n  if (confirm(`Are you sure you want to deactivate ${productIds.length} products? This action can be reversed later.`)) {\n    const operation = {\n      operation: 'deactivate' as const,\n      product_ids: productIds\n    }\n    \n    const success = await productStore.performBulkOperation(operation)\n    if (success) {\n      // Products were updated in store automatically\n    }\n  }\n}\n\n/**\n * Navigate to new product creation form\n */\nconst handleCreateNew = () => {\n  router.push('/products/new')\n}\n\n// ===============================\n// LIFECYCLE\n// ===============================\n\nonMounted(async () => {\n  await refreshData()\n})\n\n// Watch for route changes to refresh data\nwatch(() => router.currentRoute.value.fullPath, (newPath) => {\n  if (newPath === '/products') {\n    refreshData()\n  }\n})\n</script>\n\n<style scoped>\n.products-list-view {\n  @apply max-w-7xl mx-auto;\n}\n\n/* Loading states */\n.loading-overlay {\n  @apply absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center;\n}\n\n/* Search input enhancements */\n.search-input:focus {\n  @apply ring-2 ring-blue-500 border-blue-500;\n}\n\n/* Filter controls */\n.filter-controls select:focus {\n  @apply ring-2 ring-blue-500 border-blue-500;\n}\n\n/* Responsive design */\n@media (max-width: 1024px) {\n  .products-list-view {\n    @apply px-4;\n  }\n}\n\n@media (max-width: 768px) {\n  .products-list-view {\n    @apply px-2;\n  }\n  \n  /* Stack filters vertically on mobile */\n  .filter-controls {\n    @apply flex-col space-y-3;\n  }\n  \n  .filter-controls > div {\n    @apply space-x-0 space-y-2 flex-col;\n  }\n}\n\n/* Accessibility enhancements */\n@media (prefers-reduced-motion: reduce) {\n  .animate-spin {\n    animation: none;\n  }\n  \n  * {\n    transition: none !important;\n  }\n}\n\n/* High contrast mode */\n@media (prefers-contrast: high) {\n  .bg-white {\n    @apply border-2 border-gray-800;\n  }\n  \n  .text-gray-400 {\n    @apply text-gray-800;\n  }\n  \n  .text-gray-500 {\n    @apply text-gray-900;\n  }\n}\n\n/* Print styles */\n@media print {\n  .products-list-view {\n    @apply shadow-none;\n  }\n  \n  .bg-blue-600,\n  .bg-blue-700 {\n    @apply bg-gray-800 !important;\n  }\n  \n  button {\n    @apply hidden;\n  }\n}\n</style>"],"names":["props","__props","productStore","useProductStore","stats","computed","isLoading","formatNumber","value","formatPercentage","getCategoriesCount","_a","count","getMostCommonCategory","getPrincipalCoverage","totalActive","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","$emit","_hoisted_2","_hoisted_3","_cache","_normalizeClass","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_b","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","ProductCategory","yup.object","yup.string","yup.number","yup.boolean","yup.array","CATEGORY_ICONS","emit","__emit","products","selectedProducts","ref","currentSort","sortDirection","allSelected","someSelected","toggleSelectAll","p","clearSelection","bulkActivate","operation","bulkDeactivate","bulkDelete","sortBy","column","handleRowClick","product","handleEdit","handleDelete","handleDuplicate","getCategoryIcon","category","getCategoryBadgeClass","formatPrice","price","formatDate","dateString","_hoisted_13","loading","_Fragment","_renderList","$event","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_withModifiers","_hoisted_42","_hoisted_43","_hoisted_44","router","useRouter","searchQuery","sortOrder","isLoadingKPIs","filters","error","hasActiveFilters","searchTimeout","handleSearch","applyFilters","appliedFilters","pagination","clearFilters","handleSort","toggleSortOrder","handleTableSort","order","refreshData","loadProducts","loadKPIs","handleKPICardClick","kpiType","handleBulkDelete","productIds","handleCreateNew","onMounted","watch","newPath","_createVNode","_component_router_link","ProductKPICards","_vModelSelect","_hoisted_19","_createBlock","ProductTable"],"mappings":"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"}