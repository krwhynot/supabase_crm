import{a as l,j as n,b as e,d as te,c as b,r as S,o as oe,E as ie,h as x,t as g,f as d,e as $,u as w,n as I,p as J,F as de,i as ce,s as ue,y as pe,w as Z,g as ve,l as j,v as me,m as Y,q as ge,k as be}from"./index-Br7bM97V.js";import{u as se}from"./opportunityStore-MF-7Z0oO.js";import{O as he}from"./OpportunityKPICards-D14Clyfq.js";import{S as fe}from"./StageTag-D7sxksDU.js";import{P as _e}from"./ProbabilityBar-Bu_0yKcY.js";import{r as ee}from"./TrashIcon-C97BRO8M.js";import{r as ye}from"./ArrowPathIcon-D9Yw9nnG.js";import{r as ke}from"./DocumentTextIcon-De97hKgx.js";import{r as we}from"./ChevronLeftIcon-CzDNyMc4.js";import{r as xe}from"./ChevronRightIcon-DBAMD-2N.js";import{r as Ce}from"./CheckCircleIcon-Ct_Yhl-Z.js";import{r as $e}from"./EllipsisVerticalIcon-CjSagHtt.js";import{r as Se}from"./PencilIcon-DNym4K5n.js";/* empty css                                                                         */import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./supabaseClient-CwaY5m9F.js";import"./index.esm-DHR-h0Sg.js";/* empty css                                                                            *//* empty css                                                                       */function Pe(F,D){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})])}const Oe={class:"opportunity-table-container"},De={class:"table-header"},Ne={class:"header-left"},Me={key:0,class:"table-count"},ze={class:"header-right"},Be={key:0,class:"bulk-actions"},Ae={class:"selected-count"},Ee=["disabled"],Ie={class:"table-actions"},Le=["disabled","aria-label"],Te={class:"table-wrapper"},Ve={key:0,class:"loading-state"},je={key:1,class:"empty-state"},Fe={class:"empty-icon"},Re={key:2,class:"table-scroll-container"},He={class:"opportunity-table",role:"table"},Ue={class:"table-head"},Ke={class:"select-column"},Ge=["checked","indeterminate"],We={class:"column-header"},qe={class:"column-header"},Qe={class:"column-header"},Ye={class:"column-header"},Je={class:"column-header"},Xe={class:"column-header"},Ze={class:"table-body"},et={class:"select-cell"},tt=["checked","onChange","aria-label"],ot={class:"name-cell"},st=["onClick"],at={class:"name-text"},nt={key:0,class:"won-indicator"},lt={class:"organization-cell"},rt={class:"organization-info"},it={class:"organization-name"},dt={key:0,class:"organization-type"},ct={class:"stage-cell"},ut={class:"probability-cell"},pt={class:"date-cell"},vt={key:0,class:"date-info"},mt={class:"date-text"},gt={key:1,class:"no-date"},bt={class:"owner-cell"},ht={key:0,class:"owner-name"},ft={key:1,class:"no-owner"},_t={class:"actions-cell"},yt={class:"actions-dropdown"},kt=["onClick","aria-label","aria-expanded"],wt=["onClick"],xt=["onClick"],Ct=["onClick"],$t={key:0,class:"pagination-container"},St={class:"pagination-info"},Pt={class:"pagination-text"},Ot={class:"pagination-controls"},Dt=["disabled"],Nt={class:"page-indicator"},Mt=["disabled"],B={props:{column:String,currentSort:String,currentOrder:String},template:`
    <div class="sort-icon">
      <svg v-if="column === currentSort" class="h-4 w-4" :class="currentOrder === 'asc' ? 'rotate-180' : ''" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
      </svg>
      <svg v-else class="h-4 w-4 opacity-30" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l4-4 4 4m0 6l-4 4-4-4" />
      </svg>
    </div>
  `},zt=te({__name:"OpportunityTable",props:{customOpportunities:{},showPagination:{type:Boolean,default:!0},itemsPerPage:{default:20},compact:{type:Boolean,default:!1}},emits:["rowClick","edit","delete","duplicate","bulkDelete","createNew","sortChange"],setup(F,{emit:D}){const y=F,m=D,i=se(),c=b(()=>y.customOpportunities||i.opportunities),f=b(()=>i.isLoading),p=b(()=>i.deleting),N=b(()=>i.totalCount),_=b(()=>i.currentPage),A=b(()=>i.hasNextPage),P=b(()=>i.hasPreviousPage),u=S([]),k=S(null),v=S("created_at"),h=S("desc"),L=b(()=>c.value.length>0&&u.value.length===c.value.length),R=b(()=>u.value.length>0&&u.value.length<c.value.length),H=b(()=>c.value.length===0?0:(_.value-1)*y.itemsPerPage+1),M=b(()=>{const s=_.value*y.itemsPerPage;return Math.min(s,N.value)}),U=()=>{L.value?u.value=[]:u.value=c.value.map(s=>s.id)},K=s=>{const t=u.value.indexOf(s);t>-1?u.value.splice(t,1):u.value.push(s)},T=s=>u.value.includes(s),G=()=>{u.value=[]},O=s=>{v.value===s?h.value=h.value==="asc"?"desc":"asc":(v.value=s,h.value="asc"),i.activePagination.sort_by=s,i.activePagination.sort_order=h.value,z()},W=s=>{k.value=k.value===s?null:s},q=async()=>{P.value&&(i.activePagination.page=_.value-1,await z())},Q=async()=>{A.value&&(i.activePagination.page=_.value+1,await z())},z=async()=>{await i.fetchOpportunities(i.activeFilters,i.activePagination)},r=s=>{k.value=null,m("edit",s)},o=s=>{k.value=null,m("delete",s)},V=s=>{k.value=null,m("duplicate",s)},C=()=>{u.value.length>0&&(m("bulkDelete",u.value),u.value=[])},ne=s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),le=s=>s<0?`${Math.abs(s)} days overdue`:s===0?"Due today":`${s} days left`,re=s=>s<0?"days-overdue":s<=7?"days-urgent":s<=30?"days-soon":"days-normal",X=s=>{s.target.closest(".actions-dropdown")||(k.value=null)};return oe(()=>{document.addEventListener("click",X)}),ie(()=>{document.removeEventListener("click",X)}),(s,t)=>(n(),l("div",Oe,[e("div",De,[e("div",Ne,[t[8]||(t[8]=e("h3",{class:"table-title"},"Opportunities",-1)),f.value?x("",!0):(n(),l("span",Me,g(N.value)+" total ",1))]),e("div",ze,[u.value.length>0?(n(),l("div",Be,[e("span",Ae,g(u.value.length)+" selected ",1),e("button",{type:"button",class:"bulk-action-btn bulk-action-btn-danger",onClick:C,disabled:p.value},[d(w(ee),{class:"h-4 w-4"}),t[9]||(t[9]=$(" Delete ",-1))],8,Ee),e("button",{type:"button",class:"bulk-action-btn bulk-action-btn-secondary",onClick:G}," Clear ")])):x("",!0),e("div",Ie,[e("button",{type:"button",class:"action-btn action-btn-secondary",onClick:z,disabled:f.value,"aria-label":f.value?"Refreshing...":"Refresh table"},[d(w(ye),{class:I(["h-4 w-4",{"animate-spin":f.value}])},null,8,["class"]),t[10]||(t[10]=$(" Refresh ",-1))],8,Le)])])]),e("div",Te,[f.value&&c.value.length===0?(n(),l("div",Ve,t[11]||(t[11]=[J('<div class="loading-spinner" data-v-406f41e7><svg class="animate-spin h-8 w-8 text-blue-500" fill="none" viewBox="0 0 24 24" data-v-406f41e7><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" data-v-406f41e7></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" data-v-406f41e7></path></svg></div><p class="loading-text" data-v-406f41e7>Loading opportunities...</p>',2)]))):c.value.length===0&&!f.value?(n(),l("div",je,[e("div",Fe,[d(w(ke),{class:"h-12 w-12 text-gray-400"})]),t[12]||(t[12]=e("h3",{class:"empty-title"},"No opportunities found",-1)),t[13]||(t[13]=e("p",{class:"empty-description"}," Get started by creating your first opportunity. ",-1)),e("button",{type:"button",class:"empty-action-btn",onClick:t[0]||(t[0]=a=>m("createNew"))}," Create Opportunity ")])):(n(),l("div",Re,[e("table",He,[e("thead",Ue,[e("tr",null,[e("th",Ke,[e("input",{type:"checkbox",class:"bulk-checkbox",checked:L.value,indeterminate:R.value,onChange:U,"aria-label":"Select all opportunities"},null,40,Ge)]),e("th",{class:"sortable-column",onClick:t[1]||(t[1]=a=>O("name"))},[e("div",We,[t[14]||(t[14]=e("span",null,"Name",-1)),d(B,{column:"name","current-sort":v.value,"current-order":h.value},null,8,["current-sort","current-order"])])]),e("th",{class:"sortable-column",onClick:t[2]||(t[2]=a=>O("organization_name"))},[e("div",qe,[t[15]||(t[15]=e("span",null,"Organization",-1)),d(B,{column:"organization_name","current-sort":v.value,"current-order":h.value},null,8,["current-sort","current-order"])])]),e("th",{class:"sortable-column",onClick:t[3]||(t[3]=a=>O("stage"))},[e("div",Qe,[t[16]||(t[16]=e("span",null,"Stage",-1)),d(B,{column:"stage","current-sort":v.value,"current-order":h.value},null,8,["current-sort","current-order"])])]),e("th",{class:"sortable-column",onClick:t[4]||(t[4]=a=>O("probability_percent"))},[e("div",Ye,[t[17]||(t[17]=e("span",null,"Probability",-1)),d(B,{column:"probability_percent","current-sort":v.value,"current-order":h.value},null,8,["current-sort","current-order"])])]),e("th",{class:"sortable-column",onClick:t[5]||(t[5]=a=>O("expected_close_date"))},[e("div",Je,[t[18]||(t[18]=e("span",null,"Close Date",-1)),d(B,{column:"expected_close_date","current-sort":v.value,"current-order":h.value},null,8,["current-sort","current-order"])])]),e("th",{class:"sortable-column",onClick:t[6]||(t[6]=a=>O("deal_owner"))},[e("div",Xe,[t[19]||(t[19]=e("span",null,"Owner",-1)),d(B,{column:"deal_owner","current-sort":v.value,"current-order":h.value},null,8,["current-sort","current-order"])])]),t[20]||(t[20]=e("th",{class:"actions-column"},[e("span",null,"Actions")],-1))])]),e("tbody",Ze,[(n(!0),l(de,null,ce(c.value,a=>(n(),l("tr",{key:a.id,class:I(["table-row",{"row-selected":T(a.id)}])},[e("td",et,[e("input",{type:"checkbox",class:"row-checkbox",checked:T(a.id),onChange:E=>K(a.id),"aria-label":`Select ${a.name}`},null,40,tt)]),e("td",ot,[e("button",{type:"button",class:"name-button",onClick:E=>m("rowClick",a)},[e("span",at,g(a.name),1),a.is_won?(n(),l("span",nt,[d(w(Ce),{class:"h-4 w-4 text-green-500"})])):x("",!0)],8,st)]),e("td",lt,[e("div",rt,[e("span",it,g(a.organization_name),1),a.organization_type?(n(),l("span",dt,g(a.organization_type),1)):x("",!0)])]),e("td",ct,[d(fe,{stage:a.stage,size:"sm",compact:""},null,8,["stage"])]),e("td",ut,[d(_e,{probability:a.probability_percent||0,size:"sm","show-label":!1,"show-percentage-inline":"",compact:""},null,8,["probability"])]),e("td",pt,[a.expected_close_date?(n(),l("div",vt,[e("span",mt,g(ne(a.expected_close_date)),1),a.days_to_close!==null?(n(),l("span",{key:0,class:I(["days-indicator",re(a.days_to_close)])},g(le(a.days_to_close)),3)):x("",!0)])):(n(),l("span",gt,"No date set"))]),e("td",bt,[a.deal_owner?(n(),l("span",ht,g(a.deal_owner),1)):(n(),l("span",ft,"Unassigned"))]),e("td",_t,[e("div",yt,[e("button",{type:"button",class:"actions-trigger",onClick:E=>W(a.id),"aria-label":`Actions for ${a.name}`,"aria-expanded":k.value===a.id},[d(w($e),{class:"h-5 w-5"})],8,kt),k.value===a.id?(n(),l("div",{key:0,class:"actions-menu",onClick:t[7]||(t[7]=ue(()=>{},["stop"]))},[e("button",{type:"button",class:"action-item",onClick:E=>r(a)},[d(w(Se),{class:"h-4 w-4"}),t[21]||(t[21]=$(" Edit ",-1))],8,wt),e("button",{type:"button",class:"action-item",onClick:E=>V(a)},[d(w(Pe),{class:"h-4 w-4"}),t[22]||(t[22]=$(" Duplicate ",-1))],8,xt),t[24]||(t[24]=e("div",{class:"action-divider"},null,-1)),e("button",{type:"button",class:"action-item action-item-danger",onClick:E=>o(a)},[d(w(ee),{class:"h-4 w-4"}),t[23]||(t[23]=$(" Delete ",-1))],8,Ct)])):x("",!0)])])],2))),128))])])]))]),c.value.length>0?(n(),l("div",$t,[e("div",St,[e("span",Pt," Showing "+g(H.value)+" to "+g(M.value)+" of "+g(N.value)+" results ",1)]),e("div",Ot,[e("button",{type:"button",class:"pagination-btn",disabled:!P.value||f.value,onClick:q,"aria-label":"Previous page"},[d(w(we),{class:"h-4 w-4"}),t[25]||(t[25]=$(" Previous ",-1))],8,Dt),e("span",Nt," Page "+g(_.value),1),e("button",{type:"button",class:"pagination-btn",disabled:!A.value||f.value,onClick:Q,"aria-label":"Next page"},[t[26]||(t[26]=$(" Next ",-1)),d(w(xe),{class:"h-4 w-4"})],8,Mt)])])):x("",!0)]))}}),Bt=ae(zt,[["__scopeId","data-v-406f41e7"]]),At={class:"opportunities-list-view","data-testid":"opportunities-list-view"},Et={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8","data-testid":"opportunities-header"},It={class:"flex items-center space-x-3"},Lt=["disabled","aria-label"],Tt={class:"mb-8","data-testid":"kpi-cards-section"},Vt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6"},jt={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},Ft={class:"flex-1 max-w-md"},Rt={class:"relative"},Ht={class:"flex items-center space-x-3"},Ut=["aria-label"],Kt={class:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Gt=["d"],Wt={class:"space-y-6"},qt={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-8","data-testid":"loading-spinner"},Qt={key:1,class:"bg-white rounded-lg shadow-sm border border-red-200 p-6","data-testid":"error-message"},Yt={class:"flex items-center"},Jt={class:"text-red-700"},Xt={key:2,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center"},Zt={class:"text-lg font-medium text-gray-900 mb-2"},eo={class:"text-gray-500 mb-6"},to={class:"flex justify-center space-x-3"},oo={key:3,"data-testid":"opportunity-table-section"},so=te({__name:"OpportunitiesListView",setup(F){const D=be(),y=se(),m=S(""),i=S("created_at"),c=S("desc"),f=S(!1),p=S({stage:[],organization_id:"",product_id:"",deal_owner:"",expected_close_after:"",expected_close_before:""}),N=b(()=>y.opportunities),_=b(()=>y.isLoading),A=b(()=>y.error),P=b(()=>!!(m.value||p.value.stage||p.value.organization_id||p.value.product_id||p.value.deal_owner||p.value.probability_min||p.value.probability_max||p.value.expected_close_after||p.value.expected_close_before));let u;const k=()=>{clearTimeout(u),u=setTimeout(()=>{v()},300)},v=async()=>{const r={...p.value};m.value.trim()&&(r.search=m.value.trim());const o={page:1,limit:20,sort_by:i.value,sort_order:c.value};await y.fetchOpportunities(r,o)},h=()=>{m.value="",p.value={stage:[],organization_id:"",product_id:"",deal_owner:"",probability_min:void 0,probability_max:void 0,expected_close_after:"",expected_close_before:""},i.value="created_at",c.value="desc",v()},L=()=>{v()},R=()=>{c.value=c.value==="asc"?"desc":"asc",v()},H=(r,o)=>{i.value=r,c.value=o,v()},M=async()=>{await Promise.all([U(),K()])},U=async()=>{const r={...p.value};m.value.trim()&&(r.search=m.value.trim());const o={page:1,limit:20,sort_by:i.value,sort_order:c.value};await y.fetchOpportunities(r,o)},K=async()=>{f.value=!0;try{await y.fetchKPIs()}finally{f.value=!1}},T=r=>{console.log("KPI card clicked:",r)},G=r=>{D.push(`/opportunities/${r.id}`)},O=r=>{D.push(`/opportunities/${r.id}/edit`)},W=async r=>{confirm(`Are you sure you want to delete "${r.name}"? This action cannot be undone.`)&&await y.deleteOpportunity(r.id)},q=r=>{console.log("Duplicate opportunity:",r.id)},Q=async r=>{confirm(`Are you sure you want to delete ${r.length} opportunities? This action cannot be undone.`)&&console.log("Bulk delete opportunities:",r)},z=()=>{D.push("/opportunities/new")};return oe(async()=>{await M()}),pe(()=>D.currentRoute.value.fullPath,r=>{r==="/opportunities"&&M()}),(r,o)=>{const V=ve("router-link");return n(),l("div",At,[e("div",Et,[o[7]||(o[7]=e("div",{class:"mb-4 lg:mb-0"},[e("h1",{class:"text-3xl font-bold text-gray-900","data-testid":"page-title"},"Opportunities"),e("p",{class:"mt-2 text-gray-600"}," Manage your sales pipeline and track opportunity progress ")],-1)),e("div",It,[e("button",{onClick:M,disabled:_.value,class:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50","aria-label":_.value?"Refreshing...":"Refresh data"},[(n(),l("svg",{class:I(["h-4 w-4",{"animate-spin":_.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},o[4]||(o[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]),2)),o[5]||(o[5]=e("span",{class:"ml-2 hidden sm:inline"},"Refresh",-1))],8,Lt),d(V,{to:"/opportunities/new",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:Z(()=>o[6]||(o[6]=[e("svg",{class:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),$(" New Opportunity ",-1)])),_:1,__:[6]})])]),e("div",Tt,[d(he,{loading:f.value,onCardClick:T,"data-testid":"kpi-cards"},null,8,["loading"])]),e("div",Vt,[e("div",jt,[e("div",Ft,[o[9]||(o[9]=e("label",{for:"search",class:"sr-only"},"Search opportunities",-1)),e("div",Rt,[o[8]||(o[8]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),j(e("input",{id:"search","onUpdate:modelValue":o[0]||(o[0]=C=>m.value=C),type:"text",placeholder:"Search opportunities...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500",onInput:k},null,544),[[me,m.value]])])]),e("div",Ht,[j(e("select",{"onUpdate:modelValue":o[1]||(o[1]=C=>p.value.stage=C),class:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",onChange:v},o[10]||(o[10]=[J('<option value="" data-v-43ba1899>All Stages</option><option value="NEW_LEAD" data-v-43ba1899>New Lead</option><option value="INITIAL_OUTREACH" data-v-43ba1899>Initial Outreach</option><option value="SAMPLE_VISIT_OFFERED" data-v-43ba1899>Sample/Visit Offered</option><option value="AWAITING_RESPONSE" data-v-43ba1899>Awaiting Response</option><option value="FEEDBACK_LOGGED" data-v-43ba1899>Feedback Logged</option><option value="DEMO_SCHEDULED" data-v-43ba1899>Demo Scheduled</option><option value="CLOSED_WON" data-v-43ba1899>Closed - Won</option>',8)]),544),[[Y,p.value.stage]]),j(e("select",{"onUpdate:modelValue":o[2]||(o[2]=C=>p.value.organization_id=C),class:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",onChange:v},o[11]||(o[11]=[e("option",{value:""},"All Organizations",-1)]),544),[[Y,p.value.organization_id]]),j(e("select",{"onUpdate:modelValue":o[3]||(o[3]=C=>i.value=C),class:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",onChange:L},o[12]||(o[12]=[J('<option value="created_at" data-v-43ba1899>Sort by Created Date</option><option value="name" data-v-43ba1899>Sort by Name</option><option value="stage" data-v-43ba1899>Sort by Stage</option><option value="probability_percent" data-v-43ba1899>Sort by Probability</option><option value="expected_close_date" data-v-43ba1899>Sort by Close Date</option>',5)]),544),[[Y,i.value]]),e("button",{onClick:R,class:I(["p-2 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-primary-500",{"bg-gray-50":c.value==="desc"}]),"aria-label":`Sort ${c.value==="asc"?"descending":"ascending"}`},[(n(),l("svg",Kt,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:c.value==="asc"?"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12":"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"},null,8,Gt)]))],10,Ut),P.value?(n(),l("button",{key:0,onClick:h,class:"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 focus:outline-none focus:ring-1 focus:ring-primary-500 rounded-md"}," Clear Filters ")):x("",!0)])])]),e("div",Wt,[_.value&&N.value.length===0?(n(),l("div",qt,o[13]||(o[13]=[e("div",{class:"flex justify-center"},[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})],-1),e("p",{class:"text-center text-gray-500 mt-4"},"Loading opportunities...",-1)]))):A.value?(n(),l("div",Qt,[e("div",Yt,[o[14]||(o[14]=e("svg",{class:"h-5 w-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",Jt,g(A.value),1)]),e("div",{class:"mt-4 flex space-x-3"},[e("button",{onClick:M,class:"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700","data-testid":"retry-button"}," Try Again "),e("button",{onClick:h,class:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"}," Clear Filters ")])])):N.value.length===0&&!_.value?(n(),l("div",Xt,[o[16]||(o[16]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e("h3",Zt,g(P.value?"No opportunities match your search":"No opportunities found"),1),e("p",eo,g(P.value?"Try adjusting your search terms or filters.":"Get started by creating your first opportunity."),1),e("div",to,[P.value?x("",!0):(n(),ge(V,{key:0,to:"/opportunities/new",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700"},{default:Z(()=>o[15]||(o[15]=[e("svg",{class:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),$(" Create Your First Opportunity ",-1)])),_:1,__:[15]})),P.value?(n(),l("button",{key:1,onClick:h,class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"}," Clear All Filters ")):x("",!0)])])):(n(),l("div",oo,[d(Bt,{loading:_.value,onRowClick:G,onEdit:O,onDelete:W,onDuplicate:q,onBulkDelete:Q,onCreateNew:z,onSortChange:H,"data-testid":"opportunity-table"},null,8,["loading"])]))])])}}}),Co=ae(so,[["__scopeId","data-v-43ba1899"]]);export{Co as default};
//# sourceMappingURL=OpportunitiesListView-Avw2cGEM.js.map
