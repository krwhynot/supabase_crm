import{c as y,i as g,b as e,d as B,r as C,y as O,j as S,f as v,z as D,t as w,A as Q,o as H,s as P,e as E,w as M,k as q,h as ue,n as R,F as me,l as ce,B as pe,C as G,x as X,D as j,g as ve}from"./index-CZE_83Gg.js";import{u as ge}from"./contactStore-Bbi8IzD-.js";import{P as fe,a as ye,b as be,C as U}from"./contacts-BXtYPUqD.js";import{_ as K}from"./Button.vue_vue_type_script_setup_true_lang-dC1jHRjR.js";import{u as Y}from"./organizationStore-DB-t6OJb.js";import{_ as x,a as L}from"./SelectField.vue_vue_type_script_setup_true_lang-BfkDy_ER.js";import{r as he}from"./XMarkIcon-EMc26EpR.js";import{r as we}from"./PlusIcon-pdqeJm20.js";import{r as xe}from"./ExclamationTriangleIcon-Bsrqrsxr.js";import"./contactsApi-BleNdeh6.js";import"./supabaseClient-DsF16uzq.js";import"./index.esm-co_T1QE2.js";function Ve(k,V){return g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})])}const _e={class:"relative top-20 mx-auto p-5 border w-11/12 max-w-md shadow-lg rounded-md bg-white"},ke={class:"flex items-center justify-between pb-3"},Ce={class:"mt-4 space-y-4"},Se={class:"flex items-center justify-end pt-6 space-x-3"},$e=["disabled"],ze=B({__name:"OrganizationCreateModal",emits:["close","success"],setup(k,{emit:V}){const r=V,b=Y(),p=C(!1),m=O({name:"",industry:""}),l=O({}),n=[{value:"Food & Beverage - Manufacturing",label:"Food & Beverage - Manufacturing",description:"Food and beverage production"},{value:"Food & Beverage - Distribution",label:"Food & Beverage - Distribution",description:"Food and beverage distribution"},{value:"Food & Beverage - Restaurant",label:"Food & Beverage - Restaurant",description:"Restaurants and food service"},{value:"Technology",label:"Technology",description:"Software and tech services"},{value:"Healthcare",label:"Healthcare",description:"Medical and health services"},{value:"Finance",label:"Finance",description:"Banking and financial services"},{value:"Manufacturing",label:"Manufacturing",description:"Production and industrial"},{value:"Retail",label:"Retail",description:"Consumer goods and services"}],t=S(()=>m.name.trim().length>0&&m.industry.trim().length>0),s=(o,a)=>{m[o]=a,l[o]&&delete l[o]},c=o=>{o.target===o.currentTarget&&r("close")},$=async()=>{try{if(p.value=!0,Object.keys(l).forEach(i=>delete l[i]),!m.name.trim()){l.name="Organization name is required";return}if(!m.industry.trim()){l.industry="Industry is required";return}const o={name:m.name.trim(),industry:m.industry,lead_score:50,status:"Prospect"},a=await b.createOrganization(o);a?r("success",a.id):l.name=b.errors.creating||"Failed to create organization"}catch(o){console.error("Error creating organization:",o),l.name=o.message||"An unexpected error occurred"}finally{p.value=!1}};return(o,a)=>(g(),y("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:c},[e("div",_e,[e("div",ke,[a[4]||(a[4]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Create New Organization",-1)),e("button",{onClick:a[0]||(a[0]=i=>o.$emit("close")),type:"button",class:"text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600","aria-label":"Close modal"},[v(D(he),{class:"h-5 w-5"})])]),e("div",Ce,[v(x,{name:"organization_name",label:"Organization Name",type:"text","model-value":m.name,error:l.name,placeholder:"Enter organization name",required:"","onUpdate:modelValue":a[1]||(a[1]=i=>s("name",String(i)))},null,8,["model-value","error"]),v(L,{name:"industry",label:"Industry","model-value":m.industry,options:n,error:l.industry,placeholder:"Select industry",required:"","onUpdate:modelValue":a[2]||(a[2]=i=>s("industry",String(Array.isArray(i)?i[0]||"":i)))},null,8,["model-value","error"])]),e("div",Se,[e("button",{onClick:a[3]||(a[3]=i=>o.$emit("close")),type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),e("button",{onClick:$,type:"button",disabled:!t.value||p.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},w(p.value?"Creating...":"Create Organization"),9,$e)])])]))}}),Fe={class:"space-y-4 md:space-y-6"},Oe={class:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6"},Ee={class:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6"},De={class:"space-y-2"},Be={class:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6"},Ie=B({__name:"ContactStepOne",props:{modelValue:{},errors:{},loading:{type:Boolean,default:!1}},emits:["update:modelValue","validate"],setup(k,{emit:V}){const r=k,b=V,p=Y(),m=C(!1),l=fe.map(o=>({value:o,label:o,description:`${o} role`})),n=S(()=>p.organizations.map(o=>({value:o.id,label:o.name,description:o.industry||"No industry specified"}))),t=(o,a)=>{const i={...r.modelValue,[o]:a};b("update:modelValue",i)},s=async(o,a)=>{await c()},c=async()=>{const o={};let a=!0;try{const i={first_name:r.modelValue.first_name,last_name:r.modelValue.last_name,organization_id:r.modelValue.organization_id,position:r.modelValue.position,email:r.modelValue.email,phone:r.modelValue.phone};await ye.validate(i,{abortEarly:!1})}catch(i){a=!1,i.inner&&i.inner.forEach(_=>{_.path&&(o[_.path]=_.message)})}b("validate",1,a,o)},$=o=>{t("organization_id",o),m.value=!1,p.fetchOrganizations({resetList:!0})};return Q(()=>[r.modelValue.first_name,r.modelValue.last_name,r.modelValue.organization_id,r.modelValue.position,r.modelValue.email,r.modelValue.phone],async()=>{await c()},{immediate:!0}),H(async()=>{p.organizations.length===0&&await p.fetchOrganizations({resetList:!0}),await c()}),(o,a)=>(g(),y("div",Fe,[e("div",Oe,[v(x,{name:"first_name",label:"First Name",type:"text","model-value":o.modelValue.first_name||"",error:o.errors.first_name,placeholder:"Enter first name",required:"",autocomplete:"given-name","onUpdate:modelValue":a[0]||(a[0]=i=>t("first_name",i)),onValidate:a[1]||(a[1]=i=>s())},null,8,["model-value","error"]),v(x,{name:"last_name",label:"Last Name",type:"text","model-value":o.modelValue.last_name||"",error:o.errors.last_name,placeholder:"Enter last name",required:"",autocomplete:"family-name","onUpdate:modelValue":a[2]||(a[2]=i=>t("last_name",i)),onValidate:a[3]||(a[3]=i=>s())},null,8,["model-value","error"])]),e("div",Ee,[e("div",De,[v(L,{name:"organization_id",label:"Organization","model-value":o.modelValue.organization_id||"",options:n.value,error:o.errors.organization_id,placeholder:"Select an organization",searchable:"",required:"","onUpdate:modelValue":a[4]||(a[4]=i=>t("organization_id",i)),onValidate:a[5]||(a[5]=i=>s())},null,8,["model-value","options","error"]),v(K,{variant:"secondary",size:"sm",class:"w-full",onClick:a[6]||(a[6]=i=>m.value=!0)},{default:M(()=>[v(D(we),{class:"h-4 w-4 mr-2"}),a[14]||(a[14]=q(" Create New Organization ",-1))]),_:1,__:[14]})]),v(L,{name:"position",label:"Position","model-value":o.modelValue.position||"",options:D(l),error:o.errors.position,placeholder:"Select or enter position","allow-custom":"",required:"","onUpdate:modelValue":a[7]||(a[7]=i=>t("position",i)),onValidate:a[8]||(a[8]=i=>s())},null,8,["model-value","options","error"])]),e("div",Be,[v(x,{name:"email",label:"Email Address",type:"email","model-value":o.modelValue.email||"",error:o.errors.email,placeholder:"contact@company.com",autocomplete:"email","onUpdate:modelValue":a[9]||(a[9]=i=>t("email",i)),onValidate:a[10]||(a[10]=i=>s())},null,8,["model-value","error"]),v(x,{name:"phone",label:"Phone Number",type:"tel","model-value":o.modelValue.phone||"",error:o.errors.phone,placeholder:"(555) 123-4567",autocomplete:"tel","onUpdate:modelValue":a[11]||(a[11]=i=>t("phone",i)),onValidate:a[12]||(a[12]=i=>s())},null,8,["model-value","error"])]),m.value?(g(),P(ze,{key:0,onClose:a[13]||(a[13]=i=>m.value=!1),onSuccess:$})):E("",!0)]))}}),Me={class:"space-y-4 md:space-y-6"},Ne={class:"space-y-4"},Ae={class:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6"},Te={class:"space-y-4"},je={class:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6"},Ue={class:"flex items-center space-x-3"},Pe=["checked"],qe={class:"space-y-2"},Re=["value","aria-describedby","aria-invalid"],Ke={class:"flex justify-between items-center"},Le={key:0,id:"notes-error",class:"text-sm text-red-600",role:"alert"},He={key:1,class:"text-xs text-gray-500"},Je={class:"text-xs text-gray-400"},We=B({__name:"ContactStepThree",props:{modelValue:{},errors:{},loading:{type:Boolean,default:!1}},emits:["update:modelValue","validate"],setup(k,{emit:V}){const r=k,b=V,p=(n,t)=>{const s={...r.modelValue,[n]:t};b("update:modelValue",s)},m=async(n,t)=>{await l()},l=async()=>{const n={};let t=!0;try{const s={address:r.modelValue.address,city:r.modelValue.city,state:r.modelValue.state,zip_code:r.modelValue.zip_code,website:r.modelValue.website,account_manager:r.modelValue.account_manager,notes:r.modelValue.notes,is_primary:r.modelValue.is_primary};await be.validate(s,{abortEarly:!1})}catch(s){t=!1,s.inner&&s.inner.forEach(c=>{c.path&&(n[c.path]=c.message)})}b("validate",3,t,n)};return Q(()=>[r.modelValue.address,r.modelValue.city,r.modelValue.state,r.modelValue.zip_code,r.modelValue.website,r.modelValue.account_manager,r.modelValue.notes,r.modelValue.is_primary],async()=>{await l()},{immediate:!0}),H(async()=>{await l()}),(n,t)=>(g(),y("div",Me,[e("div",Ne,[t[15]||(t[15]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Address Information",-1)),v(x,{name:"address",label:"Street Address",type:"text","model-value":n.modelValue.address||"",error:n.errors.address,placeholder:"Enter street address",autocomplete:"street-address","onUpdate:modelValue":t[0]||(t[0]=s=>p("address",s)),onValidate:t[1]||(t[1]=s=>m())},null,8,["model-value","error"]),e("div",Ae,[v(x,{name:"city",label:"City",type:"text","model-value":n.modelValue.city||"",error:n.errors.city,placeholder:"Enter city","onUpdate:modelValue":t[2]||(t[2]=s=>p("city",s)),onValidate:t[3]||(t[3]=s=>m())},null,8,["model-value","error"]),v(x,{name:"state",label:"State",type:"text","model-value":n.modelValue.state||"",error:n.errors.state,placeholder:"Enter state","onUpdate:modelValue":t[4]||(t[4]=s=>p("state",s)),onValidate:t[5]||(t[5]=s=>m())},null,8,["model-value","error"]),v(x,{name:"zip_code",label:"ZIP Code",type:"text","model-value":n.modelValue.zip_code||"",error:n.errors.zip_code,placeholder:"Enter ZIP code",autocomplete:"postal-code","onUpdate:modelValue":t[6]||(t[6]=s=>p("zip_code",s)),onValidate:t[7]||(t[7]=s=>m())},null,8,["model-value","error"])])]),e("div",Te,[t[16]||(t[16]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Additional Information",-1)),e("div",je,[v(x,{name:"website",label:"Website",type:"url","model-value":n.modelValue.website||"",error:n.errors.website,placeholder:"https://example.com",autocomplete:"url","onUpdate:modelValue":t[8]||(t[8]=s=>p("website",s)),onValidate:t[9]||(t[9]=s=>m())},null,8,["model-value","error"]),v(x,{name:"account_manager",label:"Account Manager",type:"text","model-value":n.modelValue.account_manager||"",error:n.errors.account_manager,placeholder:"Enter account manager name","onUpdate:modelValue":t[10]||(t[10]=s=>p("account_manager",s)),onValidate:t[11]||(t[11]=s=>m())},null,8,["model-value","error"])])]),e("div",Ue,[e("input",{id:"is_primary",name:"is_primary",type:"checkbox",checked:n.modelValue.is_primary||!1,onChange:t[12]||(t[12]=s=>p("is_primary",s.target.checked)),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,40,Pe),t[17]||(t[17]=e("label",{for:"is_primary",class:"flex-1"},[e("span",{class:"text-base font-semibold text-gray-900"},"Primary Contact"),e("p",{class:"text-sm font-medium text-gray-600 mt-0.5"}," Mark this as the primary contact for the organization ")],-1))]),e("div",qe,[t[18]||(t[18]=e("label",{for:"notes",class:"block text-sm font-medium text-gray-700"}," Notes ",-1)),e("textarea",{id:"notes",name:"notes",rows:"4",value:n.modelValue.notes||"",onInput:t[13]||(t[13]=s=>p("notes",s.target.value)),onBlur:t[14]||(t[14]=s=>m("notes",s.target.value)),class:R(["w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 transition-colors duration-200 resize-none",n.errors.notes?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"]),placeholder:"Add any additional notes about this contact...","aria-describedby":n.errors.notes?"notes-error":void 0,"aria-invalid":!!n.errors.notes,maxlength:"5000"},null,42,Re),e("div",Ke,[n.errors.notes?(g(),y("div",Le,w(n.errors.notes),1)):(g(),y("div",He," Optional notes and comments ")),e("div",Je,w((n.modelValue.notes||"").length)+"/5000 ",1)])]),t[19]||(t[19]=ue('<div class="bg-green-50 border border-green-200 rounded-md p-4"><div class="flex items-start"><svg class="h-5 w-5 text-green-400 mr-3 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div><h3 class="text-sm font-medium text-green-800">Contact Details</h3><p class="mt-1 text-sm text-green-700"> All fields in this step are optional. Add any additional information that will help you and your team better understand and communicate with this contact. </p></div></div></div>',1))]))}}),Ze={class:"max-w-4xl mx-auto"},Ge=["aria-valuenow"],Qe={class:"flex items-center justify-center space-x-2 mb-2"},Xe=["aria-label"],Ye={class:"text-center"},et=["id"],tt=["id"],at={key:0,class:"mb-3 flex items-center justify-center text-xs"},ot={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},rt={key:1,class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},st={key:2,class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},lt={key:1,class:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",role:"alert"},nt={class:"flex items-start"},it={class:"mt-1 text-sm font-medium text-red-700"},dt={class:"bg-white shadow-lg rounded-lg border-2 border-gray-300 ring-1 ring-gray-100"},ut={class:"p-4 md:p-6"},mt={class:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-300 shadow-xl md:relative md:bg-gray-50 md:border-2 md:border-gray-300 md:shadow-lg md:mt-4 md:rounded-lg"},ct={class:"max-w-4xl mx-auto px-4 py-3 md:px-6 md:py-4"},pt={class:"flex items-center justify-between"},vt={key:1},gt={class:"flex items-center space-x-3"},ft={class:"text-sm font-medium text-gray-600"},yt={key:0,class:"h-4 w-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},F=2,bt=B({__name:"ContactFormWrapper",props:{initialData:{},isEditing:{type:Boolean,default:!1},contactId:{}},emits:["success","cancel","draft-saved"],setup(k,{emit:V}){const r=k,b=V,p=X(),m=ge(),l=C(1),n=C(!1),t=C(!1),s=C(""),c=C(null),$=O({1:!1,2:!0}),o=O({first_name:"",last_name:"",organization_id:"",position:"",email:null,phone:null,address:null,city:null,state:null,zip_code:null,website:null,account_manager:null,notes:null,is_primary:!1,...r.initialData}),a=O({1:{},2:{}}),i=[{id:1,title:"Basic Info",description:"Enter contact name, organization, position, and contact details",component:"ContactStepOne",requiredFields:["first_name","last_name","organization_id","position"],optionalFields:["email","phone"]},{id:2,title:"Contact Details",description:"Add address, website, and additional information",component:"ContactStepThree",requiredFields:[],optionalFields:["address","city","state","zip_code","website","account_manager","notes","is_primary"]}],_=S(()=>i[l.value-1]),ee=S(()=>({ContactStepOne:Ie,ContactStepThree:We})[_.value.component]),z=S(()=>l.value===F),te=S(()=>a[l.value]||{}),ae=S(()=>$[l.value]),oe=d=>{Object.assign(o,d),le()},I=async(d,u,f={})=>{$[d]=u,a[d]=f,u&&s.value&&(s.value="")},N=async()=>{t.value=!0;try{const d=[..._.value.requiredFields,..._.value.optionalFields],u={};d.forEach(h=>{u[h]=o[h]});let f;switch(l.value){case 1:f=await U.validateStepOne(u);break;case 2:f=await U.validateStepThree(u);break;default:throw new Error("Invalid step number")}if(f.isValid)return await I(l.value,!0,{}),!0;{const h={};return f.errors.forEach(Z=>{h[Z.field]=Z.message}),await I(l.value,!1,h),!1}}catch(d){const u={general:d.message||"Validation failed"};return await I(l.value,!1,u),!1}finally{t.value=!1}},re=async()=>{l.value<F&&await N()&&(l.value++,await j(),T())},J=()=>{l.value>1&&(l.value--,j(()=>{T()}))},W=async()=>{z.value?await se():await re()},se=async()=>{try{n.value=!0,s.value="";for(let f=1;f<=F;f++)if(l.value=f,!await N()){s.value=`Please fix errors in Step ${f}`;return}const d=await U.validateCreate(o);if(!d.isValid){s.value="Please fix all validation errors";return}let u;r.isEditing&&r.contactId?u=await m.updateContact(r.contactId,d.data):u=await m.createContact(d.data),u?(de(),b("success",u.id),p.push(`/contacts/${u.id}`)):s.value="Failed to save contact. Please try again."}catch(d){s.value=d.message||"An unexpected error occurred",console.error("Contact form submission error:",d)}finally{n.value=!1}};let A=null;const le=()=>{A&&clearTimeout(A),A=setTimeout(async()=>{await ne()},2e3)},ne=async()=>{try{c.value="saving";const d=r.isEditing?`contact-edit-draft-${r.contactId}`:"contact-create-draft";localStorage.setItem(d,JSON.stringify({formData:{...o},currentStep:l.value,timestamp:Date.now()})),c.value="saved",setTimeout(()=>{c.value==="saved"&&(c.value=null)},3e3),b("draft-saved",{...o})}catch(d){c.value="error",console.error("Failed to save draft:",d),setTimeout(()=>{c.value==="error"&&(c.value=null)},5e3)}},ie=async()=>{try{const d=r.isEditing?`contact-edit-draft-${r.contactId}`:"contact-create-draft",u=localStorage.getItem(d);if(u){const f=JSON.parse(u);Date.now()-f.timestamp<36e5?(Object.assign(o,f.formData),l.value=f.currentStep||1):localStorage.removeItem(d)}}catch(d){console.error("Failed to load auto-saved draft:",d)}},de=()=>{try{const d=r.isEditing?`contact-edit-draft-${r.contactId}`:"contact-create-draft";localStorage.removeItem(d)}catch(d){console.error("Failed to clear auto-saved draft:",d)}},T=()=>{j(()=>{const d=document.querySelector("input, select, textarea");d&&d.focus()})};return H(async()=>{r.isEditing||await ie(),T(),await N()}),(d,u)=>(g(),y("div",Ze,[e("div",{class:"mb-3",role:"progressbar","aria-valuenow":l.value,"aria-valuemax":F,"aria-label":"Form progress"},[e("div",Qe,[(g(),y(me,null,ce(i,(f,h)=>e("div",{key:f.id,class:R(["h-1.5 w-6 rounded-full transition-colors duration-200",h+1<=l.value?"bg-primary-600":"bg-gray-200"]),"aria-label":`Step ${h+1}: ${f.title} ${h+1<=l.value?"completed":"not completed"}`,role:"presentation"},null,10,Xe)),64))]),e("div",Ye,[e("h2",{class:"text-lg font-semibold text-gray-900",id:`step-${l.value}-title`},w(_.value.title),9,et),e("p",{class:"text-sm font-medium text-gray-700 mt-0.5",id:`step-${l.value}-description`},w(_.value.description),9,tt)])],8,Ge),c.value?(g(),y("div",at,[e("div",{class:R(["flex items-center space-x-2 px-3 py-1 rounded-full",c.value==="saving"?"bg-blue-50 text-blue-700":c.value==="saved"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"])},[c.value==="saving"?(g(),y("svg",ot,u[0]||(u[0]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):c.value==="saved"?(g(),y("svg",rt,u[1]||(u[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))):(g(),y("svg",st,u[2]||(u[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))),e("span",null,w(c.value==="saving"?"Saving draft...":c.value==="saved"?"Draft saved":"Failed to save draft"),1)],2)])):E("",!0),s.value?(g(),y("div",lt,[e("div",nt,[u[4]||(u[4]=e("svg",{class:"h-5 w-5 text-red-400 mr-3 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",null,[u[3]||(u[3]=e("h3",{class:"text-base font-semibold text-red-800"},"Error",-1)),e("p",it,w(s.value),1)])])])):E("",!0),e("div",dt,[e("div",ut,[(g(),P(pe(ee.value),{"model-value":o,errors:te.value,loading:t.value,"aria-labelledby":`step-${l.value}-title`,"aria-describedby":`step-${l.value}-description`,role:"group",onValidate:I,"onUpdate:modelValue":oe},null,40,["model-value","errors","loading","aria-labelledby","aria-describedby"]))])]),e("div",mt,[e("div",ct,[e("div",pt,[l.value>1?(g(),P(K,{key:0,variant:"secondary",size:"sm",disabled:n.value,"aria-label":`Go back to step ${l.value-1}`,onClick:J,onKeydown:G(J,["enter"])},{default:M(()=>u[5]||(u[5]=[e("svg",{class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),q(" Back ",-1)])),_:1,__:[5]},8,["disabled","aria-label"])):(g(),y("div",vt)),e("div",gt,[e("div",ft," Step "+w(l.value)+" of "+w(F),1),v(K,{variant:z.value?"success":"primary",size:"sm",loading:n.value||t.value,disabled:!ae.value||n.value,"aria-label":z.value?"Create contact and submit form":`Continue to step ${l.value+1}`,onClick:W,onKeydown:G(W,["enter"])},{default:M(()=>[q(w(z.value?"Create Contact":"Next")+" ",1),z.value?E("",!0):(g(),y("svg",yt,u[6]||(u[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])))]),_:1},8,["variant","loading","disabled","aria-label"])])])])])]))}}),ht={class:"max-w-4xl mx-auto"},wt={class:"mb-8"},xt={class:"flex items-center space-x-3 mb-4"},Vt={key:0,class:"mt-6 p-4 border border-red-300 rounded-md bg-red-50"},_t={class:"flex"},kt={class:"mt-1 text-sm text-red-700"},At=B({__name:"ContactCreateView",setup(k){const V=X(),r=C(null),b=l=>{console.log("Contact created successfully with ID:",l),r.value=null},p=l=>{console.log("Contact form draft saved:",l)},m=()=>{V.push("/contacts")};return(l,n)=>{const t=ve("router-link");return g(),y("div",ht,[e("div",wt,[e("div",xt,[v(t,{to:"/contacts",class:"text-gray-500 hover:text-gray-700"},{default:M(()=>[v(D(Ve),{class:"h-5 w-5"})]),_:1}),n[0]||(n[0]=e("h1",{class:"text-3xl font-bold text-gray-900"},"Create New Contact",-1))]),n[1]||(n[1]=e("p",{class:"text-gray-600"}," Add a new contact with their organization, authority level, and contact details in three simple steps. ",-1))]),v(bt,{"is-editing":!1,onSuccess:b,onCancel:m,onDraftSaved:p}),r.value?(g(),y("div",Vt,[e("div",_t,[v(D(xe),{class:"h-5 w-5 text-red-400 mr-2 mt-0.5"}),e("div",null,[n[2]||(n[2]=e("h3",{class:"text-sm font-medium text-red-800"},"Error creating contact",-1)),e("p",kt,w(r.value),1)])])])):E("",!0)])}}});export{At as default};
//# sourceMappingURL=ContactCreateView-BMCYaHZF.js.map
