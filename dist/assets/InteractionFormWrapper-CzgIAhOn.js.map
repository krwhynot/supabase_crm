{"version":3,"file":"InteractionFormWrapper-CzgIAhOn.js","sources":["../../node_modules/@heroicons/vue/24/outline/esm/LightBulbIcon.js","../../src/components/interactions/InteractionStepOne.vue","../../src/components/interactions/InteractionStepTwo.vue","../../src/components/interactions/InteractionStepThree.vue","../../src/components/interactions/InteractionFormWrapper.vue"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    \"stroke-width\": \"1.5\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      d: \"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18\"\n    })\n  ]))\n}","<!--\n  InteractionStepOne.vue\n  First step of interaction form - Basic information\n  Type, subject, opportunity selection, and date\n-->\n<template>\n  <div class=\"interaction-step-one space-y-6\">\n    <div class=\"grid grid-cols-1 gap-6 lg:grid-cols-2\">\n      <!-- Interaction Type -->\n      <div>\n        <label for=\"interaction-type\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Interaction Type <span class=\"text-red-500\">*</span>\n        </label>\n        <select\n          id=\"interaction-type\"\n          v-model=\"localFormData.type\"\n          @change=\"handleTypeChange\"\n          class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n          :class=\"{ 'border-red-300': hasError('type') }\"\n        >\n          <option v-for=\"type in InteractionTypesList\" :key=\"type.value\" :value=\"type.value\">\n            {{ type.label }}\n          </option>\n        </select>\n        <p v-if=\"hasError('type')\" class=\"mt-1 text-sm text-red-600\">\n          {{ getError('type') }}\n        </p>\n        <p class=\"mt-1 text-sm text-gray-500\">\n          {{ getTypeDescription(localFormData.type) }}\n        </p>\n      </div>\n\n      <!-- Interaction Date -->\n      <div>\n        <label for=\"interaction-date\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Date & Time <span class=\"text-red-500\">*</span>\n        </label>\n        <input\n          id=\"interaction-date\"\n          type=\"datetime-local\"\n          v-model=\"localFormData.interaction_date\"\n          @input=\"handleDateChange\"\n          class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n          :class=\"{ 'border-red-300': hasError('interaction_date') }\"\n        />\n        <p v-if=\"hasError('interaction_date')\" class=\"mt-1 text-sm text-red-600\">\n          {{ getError('interaction_date') }}\n        </p>\n      </div>\n    </div>\n\n    <!-- Subject -->\n    <div>\n      <label for=\"subject\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n        Subject <span class=\"text-red-500\">*</span>\n      </label>\n      <input\n        id=\"subject\"\n        type=\"text\"\n        v-model=\"localFormData.subject\"\n        @input=\"handleSubjectChange\"\n        placeholder=\"Brief description of the interaction\"\n        class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n        :class=\"{ 'border-red-300': hasError('subject') }\"\n        maxlength=\"255\"\n      />\n      <p v-if=\"hasError('subject')\" class=\"mt-1 text-sm text-red-600\">\n        {{ getError('subject') }}\n      </p>\n      <p class=\"mt-1 text-sm text-gray-500\">\n        {{ localFormData.subject.length }}/255 characters\n      </p>\n    </div>\n\n    <!-- Opportunity Selection -->\n    <div>\n      <label for=\"opportunity\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n        Related Opportunity <span class=\"text-red-500\">*</span>\n      </label>\n      \n      <!-- Opportunity Search/Select -->\n      <div class=\"relative\">\n        <select\n          id=\"opportunity\"\n          v-model=\"localFormData.opportunity_id\"\n          @change=\"handleOpportunityChange\"\n          class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n          :class=\"{ 'border-red-300': hasError('opportunity_id') }\"\n          :disabled=\"loading\"\n        >\n          <option value=\"\">Select an opportunity...</option>\n          <option v-for=\"opportunity in opportunities\" :key=\"opportunity.id\" :value=\"opportunity.id\">\n            {{ opportunity.name }} - {{ opportunity.organization_name }}\n          </option>\n        </select>\n        \n        <!-- Loading indicator -->\n        <div v-if=\"loading\" class=\"absolute inset-y-0 right-0 flex items-center pr-3\">\n          <svg class=\"animate-spin h-4 w-4 text-gray-400\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n            <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n          </svg>\n        </div>\n      </div>\n      \n      <p v-if=\"hasError('opportunity_id')\" class=\"mt-1 text-sm text-red-600\">\n        {{ getError('opportunity_id') }}\n      </p>\n      \n      <!-- Selected Opportunity Info -->\n      <div v-if=\"selectedOpportunity\" class=\"mt-3 p-3 bg-blue-50 rounded-md\">\n        <div class=\"flex items-center\">\n          <BuildingOfficeIcon class=\"h-5 w-5 text-blue-400 mr-2\" />\n          <div>\n            <p class=\"text-sm font-medium text-blue-900\">{{ selectedOpportunity.name }}</p>\n            <p class=\"text-sm text-blue-700\">\n              {{ selectedOpportunity.organization_name }} • Stage: {{ selectedOpportunity.stage }}\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Quick Templates (for mobile optimization) -->\n    <div v-if=\"showQuickTemplates\" class=\"border-t pt-6\">\n      <h4 class=\"text-sm font-medium text-gray-700 mb-3\">Quick Templates</h4>\n      <div class=\"grid grid-cols-2 gap-3 sm:grid-cols-4\">\n        <button\n          v-for=\"template in availableTemplates\"\n          :key=\"template.id\"\n          type=\"button\"\n          @click=\"applyTemplate(template)\"\n          class=\"flex flex-col items-center p-3 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          <span class=\"text-lg mb-1\">{{ template.icon }}</span>\n          <span class=\"text-xs text-center\">{{ template.label }}</span>\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, defineEmits } from 'vue'\nimport type {\n  InteractionFormStep1,\n  InteractionFormValidation,\n  InteractionType,\n  InteractionQuickTemplate\n} from '@/types/interactions'\nimport {\n  INTERACTION_TYPES as InteractionTypesList,\n  QUICK_TEMPLATES as QuickTemplatesList\n} from '@/types/interactions'\nimport type { OpportunityListView } from '@/types/opportunities'\nimport { BuildingOfficeIcon } from '@heroicons/vue/24/outline'\n\n// Props\ninterface Props {\n  formData: InteractionFormStep1\n  validation: InteractionFormValidation\n  opportunities: OpportunityListView[]\n  loading?: boolean\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  loading: false\n})\n\n// Emits\nconst emit = defineEmits<{\n  'update:formData': [data: Partial<InteractionFormStep1>]\n  'opportunitySelected': [opportunityId: string]\n}>()\n\n// Local form data\nconst localFormData = ref<InteractionFormStep1>({ ...props.formData })\n\n// Update local data when props change\nwatch(() => props.formData, (newData) => {\n  localFormData.value = { ...newData }\n}, { deep: true })\n\n// Use imported constants\n\n// Computed properties\nconst selectedOpportunity = computed(() => {\n  return props.opportunities.find(opp => opp.id === localFormData.value.opportunity_id)\n})\n\nconst showQuickTemplates = computed(() => {\n  // Show templates on mobile or when no subject is entered\n  return !localFormData.value.subject || window.innerWidth < 768\n})\n\nconst availableTemplates = computed(() => {\n  return QuickTemplatesList.filter(template => template.type === localFormData.value.type)\n})\n\n// Validation helpers\nconst hasError = (field: string) => {\n  return props.validation.errors.step1?.includes(`${field} is required`) || \n         props.validation.errors[field]?.length > 0\n}\n\nconst getError = (field: string) => {\n  return props.validation.errors[field]?.[0] || \n         props.validation.errors.step1?.find(err => err.includes(field))\n}\n\n// Type descriptions\nconst getTypeDescription = (type: InteractionType) => {\n  const descriptions = {\n    Email: 'Email communication or email campaign',\n    Phone: 'Phone call or voice conversation',\n    Meeting: 'Face-to-face meeting or site visit',\n    Demo: 'Product demonstration or presentation',\n    Proposal: 'Business proposal or quote',\n    Contract: 'Contract discussion or signing',\n    Note: 'Internal note or documentation',\n    Task: 'Task or follow-up action',\n    Event: 'Sample drop-off or delivery',\n    Social: 'Social media interaction',\n    Website: 'Website or online interaction',\n    Other: 'Follow-up contact or check-in'\n  }\n  return descriptions[type] || ''\n}\n\n// Event handlers\nconst handleTypeChange = () => {\n  emit('update:formData', { type: localFormData.value.type })\n}\n\nconst handleSubjectChange = () => {\n  emit('update:formData', { subject: localFormData.value.subject })\n}\n\nconst handleDateChange = () => {\n  emit('update:formData', { interaction_date: localFormData.value.interaction_date })\n}\n\nconst handleOpportunityChange = () => {\n  emit('update:formData', { opportunity_id: localFormData.value.opportunity_id })\n  emit('opportunitySelected', localFormData.value.opportunity_id)\n}\n\n// Template application\nconst applyTemplate = (template: InteractionQuickTemplate) => {\n  localFormData.value.type = template.type\n  localFormData.value.subject = template.subject_template\n  \n  emit('update:formData', {\n    type: template.type,\n    subject: template.subject_template\n  })\n}\n</script>\n\n<style scoped>\n/* Component-specific styles */\n</style>","<!--\n  InteractionStepTwo.vue\n  Second step of interaction form - Details and logistics\n  Status, duration, location, contact method, participants\n-->\n<template>\n  <div class=\"interaction-step-two space-y-6\">\n    <div class=\"grid grid-cols-1 gap-6 lg:grid-cols-2\">\n      <!-- Status -->\n      <div>\n        <label for=\"status\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Status <span class=\"text-red-500\">*</span>\n        </label>\n        <select\n          id=\"status\"\n          v-model=\"localFormData.status\"\n          @change=\"handleStatusChange\"\n          class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n          :class=\"{ 'border-red-300': hasError('status') }\"\n        >\n          <option v-for=\"status in INTERACTION_STATUSES\" :key=\"status.value\" :value=\"status.value\">\n            {{ status.label }}\n          </option>\n        </select>\n        <p v-if=\"hasError('status')\" class=\"mt-1 text-sm text-red-600\">\n          {{ getError('status') }}\n        </p>\n      </div>\n\n      <!-- Duration -->\n      <div>\n        <label for=\"duration\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Duration (minutes)\n        </label>\n        <input\n          id=\"duration\"\n          type=\"number\"\n          v-model.number=\"localFormData.duration_minutes\"\n          @input=\"handleDurationChange\"\n          placeholder=\"e.g., 30\"\n          min=\"1\"\n          max=\"480\"\n          class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n          :class=\"{ 'border-red-300': hasError('duration_minutes') }\"\n        />\n        <p v-if=\"hasError('duration_minutes')\" class=\"mt-1 text-sm text-red-600\">\n          {{ getError('duration_minutes') }}\n        </p>\n        <p class=\"mt-1 text-sm text-gray-500\">\n          Leave blank if duration is not applicable\n        </p>\n      </div>\n    </div>\n\n    <!-- Location (conditional) -->\n    <div v-if=\"requiresLocation\">\n      <label for=\"location\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n        Location <span v-if=\"interactionType === 'Meeting'\" class=\"text-red-500\">*</span>\n      </label>\n      <input\n        id=\"location\"\n        type=\"text\"\n        v-model=\"localFormData.location\"\n        @input=\"handleLocationChange\"\n        placeholder=\"Meeting location, address, or venue\"\n        class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n        :class=\"{ 'border-red-300': hasError('location') }\"\n        maxlength=\"255\"\n      />\n      <p v-if=\"hasError('location')\" class=\"mt-1 text-sm text-red-600\">\n        {{ getError('location') }}\n      </p>\n    </div>\n\n    <!-- Contact Method -->\n    <div class=\"grid grid-cols-1 gap-6 lg:grid-cols-2\">\n      <div>\n        <label for=\"contact-method\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Contact Method\n        </label>\n        <select\n          id=\"contact-method\"\n          v-model=\"localFormData.contact_method\"\n          @change=\"handleContactMethodChange\"\n          class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n        >\n          <option value=\"\">Select method...</option>\n          <option v-for=\"method in contactMethods\" :key=\"method\" :value=\"method\">\n            {{ method }}\n          </option>\n        </select>\n        <p class=\"mt-1 text-sm text-gray-500\">\n          How was this interaction conducted?\n        </p>\n      </div>\n\n      <!-- Participants Count (simplified) -->\n      <div>\n        <label for=\"participant-count\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Number of Participants\n        </label>\n        <input\n          id=\"participant-count\"\n          type=\"number\"\n          v-model.number=\"participantCount\"\n          @input=\"handleParticipantCountChange\"\n          placeholder=\"1\"\n          min=\"1\"\n          max=\"20\"\n          class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n        />\n        <p class=\"mt-1 text-sm text-gray-500\">\n          Total people involved in this interaction\n        </p>\n      </div>\n    </div>\n\n    <!-- Smart Suggestions -->\n    <div v-if=\"showSuggestions\" class=\"bg-blue-50 rounded-lg p-4\">\n      <div class=\"flex\">\n        <LightBulbIcon class=\"h-5 w-5 text-blue-400 mt-0.5 mr-3\" />\n        <div>\n          <h4 class=\"text-sm font-medium text-blue-900 mb-2\">Smart Suggestions</h4>\n          <div class=\"space-y-2\">\n            <div v-for=\"suggestion in suggestions\" :key=\"suggestion.field\" class=\"flex items-center justify-between\">\n              <span class=\"text-sm text-blue-800\">{{ suggestion.label }}</span>\n              <button\n                type=\"button\"\n                @click=\"applySuggestion(suggestion)\"\n                class=\"text-sm text-blue-600 hover:text-blue-800 font-medium\"\n              >\n                Apply\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Interaction Type Specific Fields -->\n    <div v-if=\"interactionType === 'Email'\" class=\"border-t pt-6\">\n      <h4 class=\"text-sm font-medium text-gray-700 mb-3\">Email Details</h4>\n      <div class=\"text-sm text-gray-500\">\n        <p>• Duration is typically not applicable for emails</p>\n        <p>• Consider follow-up requirements for important emails</p>\n      </div>\n    </div>\n\n    <div v-else-if=\"interactionType === 'Demo'\" class=\"border-t pt-6\">\n      <h4 class=\"text-sm font-medium text-gray-700 mb-3\">Demo Details</h4>\n      <div class=\"text-sm text-gray-500\">\n        <p>• Consider setting duration to 45-60 minutes for product demos</p>\n        <p>• Location helps track whether it's on-site or virtual</p>\n        <p>• Multiple participants are common for demos</p>\n      </div>\n    </div>\n\n    <div v-else-if=\"interactionType === 'Event'\" class=\"border-t pt-6\">\n      <h4 class=\"text-sm font-medium text-gray-700 mb-3\">Sample Delivery Details</h4>\n      <div class=\"text-sm text-gray-500\">\n        <p>• Duration is typically short (10-15 minutes)</p>\n        <p>• Location is important for delivery tracking</p>\n        <p>• Consider scheduling follow-up for feedback</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch } from 'vue'\nimport type {\n  InteractionFormStep2,\n  InteractionFormValidation,\n  InteractionType\n} from '@/types/interactions'\nimport { LightBulbIcon } from '@heroicons/vue/24/outline'\n\n// Props\ninterface Props {\n  formData: InteractionFormStep2\n  validation: InteractionFormValidation\n  interactionType: InteractionType\n}\n\nconst props = defineProps<Props>()\n\n// Emits\nconst emit = defineEmits<{\n  'update:formData': [data: Partial<InteractionFormStep2>]\n}>()\n\n// Local form data\nconst localFormData = ref<InteractionFormStep2>({ ...props.formData })\nconst participantCount = ref(1)\n\n// Update local data when props change\nwatch(() => props.formData, (newData) => {\n  localFormData.value = { ...newData }\n  participantCount.value = newData.participants?.length || 1\n}, { deep: true })\n\n// Status options\nconst INTERACTION_STATUSES = [\n  { value: 'SCHEDULED' as const, label: 'Scheduled' },\n  { value: 'COMPLETED' as const, label: 'Completed' },\n  { value: 'CANCELLED' as const, label: 'Cancelled' },\n  { value: 'NO_SHOW' as const, label: 'No Show' }\n]\n\n// Contact methods\nconst contactMethods = [\n  'Phone',\n  'Email', \n  'Video Call',\n  'In Person',\n  'Text',\n  'Social Media',\n  'Other'\n]\n\n// Computed properties\nconst requiresLocation = computed(() => {\n  return ['Meeting', 'Demo', 'Event'].includes(props.interactionType)\n})\n\nconst showSuggestions = computed(() => {\n  return suggestions.value.length > 0\n})\n\nconst suggestions = computed(() => {\n  const sug = []\n  \n  // Duration suggestions based on type\n  if (!localFormData.value.duration_minutes) {\n    const durationSuggestions = {\n      Email: null,\n      Phone: 15,\n      Meeting: 60,\n      Demo: 45,\n      Proposal: 30,\n      Contract: 45,\n      Note: null,\n      Task: 15,\n      Event: 15,\n      Social: null,\n      Website: null,\n      Other: 20\n    }\n    \n    const suggestedDuration = durationSuggestions[props.interactionType]\n    if (suggestedDuration) {\n      sug.push({\n        field: 'duration_minutes',\n        label: `Set duration to ${suggestedDuration} minutes`,\n        value: suggestedDuration\n      })\n    }\n  }\n  \n  // Contact method suggestions\n  if (!localFormData.value.contact_method) {\n    const methodSuggestions = {\n      Email: 'Email',\n      Phone: 'Phone',\n      Meeting: 'In Person',\n      Demo: 'In Person',\n      Proposal: 'Email',\n      Contract: 'In Person',\n      Note: 'Other',\n      Task: 'Phone',\n      Event: 'In Person',\n      Social: 'Social Media',\n      Website: 'Other',\n      Other: 'Phone'\n    }\n    \n    const suggestedMethod = methodSuggestions[props.interactionType]\n    if (suggestedMethod) {\n      sug.push({\n        field: 'contact_method',\n        label: `Set contact method to ${suggestedMethod}`,\n        value: suggestedMethod\n      })\n    }\n  }\n  \n  return sug\n})\n\n// Validation helpers\nconst hasError = (field: string) => {\n  return props.validation.errors.step2?.some(err => err.includes(field)) || \n         props.validation.errors[field]?.length > 0\n}\n\nconst getError = (field: string) => {\n  return props.validation.errors[field]?.[0] || \n         props.validation.errors.step2?.find(err => err.includes(field))\n}\n\n// Event handlers\nconst handleStatusChange = () => {\n  emit('update:formData', { status: localFormData.value.status })\n}\n\nconst handleDurationChange = () => {\n  emit('update:formData', { duration_minutes: localFormData.value.duration_minutes })\n}\n\nconst handleLocationChange = () => {\n  emit('update:formData', { location: localFormData.value.location })\n}\n\nconst handleContactMethodChange = () => {\n  emit('update:formData', { contact_method: localFormData.value.contact_method })\n}\n\nconst handleParticipantCountChange = () => {\n  // Generate simple participant array based on count\n  const participants = Array.from({ length: participantCount.value }, (_, i) => `Participant ${i + 1}`)\n  localFormData.value.participants = participants\n  emit('update:formData', { participants })\n}\n\n// Suggestion application\nconst applySuggestion = (suggestion: any) => {\n  if (suggestion.field === 'duration_minutes') {\n    localFormData.value.duration_minutes = suggestion.value\n    emit('update:formData', { duration_minutes: suggestion.value })\n  } else if (suggestion.field === 'contact_method') {\n    localFormData.value.contact_method = suggestion.value\n    emit('update:formData', { contact_method: suggestion.value })\n  }\n}\n</script>\n\n<style scoped>\n/* Component-specific styles */\n</style>","<!--\n  InteractionStepThree.vue\n  Third step of interaction form - Outcome and follow-up\n  Outcome, rating, notes, follow-up planning\n-->\n<template>\n  <div class=\"interaction-step-three space-y-6\">\n    <!-- Outcome and Rating (for completed interactions) -->\n    <div v-if=\"status === 'COMPLETED'\" class=\"grid grid-cols-1 gap-6 lg:grid-cols-2\">\n      <!-- Outcome -->\n      <div>\n        <label for=\"outcome\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Outcome <span class=\"text-red-500\">*</span>\n        </label>\n        <select\n          id=\"outcome\"\n          v-model=\"localFormData.outcome\"\n          @change=\"handleOutcomeChange\"\n          class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n          :class=\"{ 'border-red-300': hasError('outcome') }\"\n        >\n          <option value=\"\">Select outcome...</option>\n          <option v-for=\"outcome in INTERACTION_OUTCOMES\" :key=\"outcome.value\" :value=\"outcome.value\">\n            {{ outcome.label }}\n          </option>\n        </select>\n        <p v-if=\"hasError('outcome')\" class=\"mt-1 text-sm text-red-600\">\n          {{ getError('outcome') }}\n        </p>\n      </div>\n\n      <!-- Rating -->\n      <div>\n        <label for=\"rating\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Rating (1-5)\n        </label>\n        <select\n          id=\"rating\"\n          v-model.number=\"localFormData.rating\"\n          @change=\"handleRatingChange\"\n          class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n          :class=\"{ 'border-red-300': hasError('rating') }\"\n        >\n          <option :value=\"null\">Select rating...</option>\n          <option v-for=\"rating in ratingOptions\" :key=\"rating.value\" :value=\"rating.value\">\n            {{ rating.label }}\n          </option>\n        </select>\n        <p v-if=\"hasError('rating')\" class=\"mt-1 text-sm text-red-600\">\n          {{ getError('rating') }}\n        </p>\n        <p class=\"mt-1 text-sm text-gray-500\">\n          Rate the effectiveness of this interaction\n        </p>\n      </div>\n    </div>\n\n    <!-- Notes -->\n    <div>\n      <label for=\"notes\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n        Notes\n      </label>\n      <textarea\n        id=\"notes\"\n        v-model=\"localFormData.notes\"\n        @input=\"handleNotesChange\"\n        rows=\"4\"\n        placeholder=\"Additional notes about this interaction...\"\n        class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n        :class=\"{ 'border-red-300': hasError('notes') }\"\n        maxlength=\"2000\"\n      />\n      <p v-if=\"hasError('notes')\" class=\"mt-1 text-sm text-red-600\">\n        {{ getError('notes') }}\n      </p>\n      <p class=\"mt-1 text-sm text-gray-500\">\n        {{ (localFormData.notes?.length || 0) }}/2000 characters\n      </p>\n    </div>\n\n    <!-- Follow-up Section -->\n    <div class=\"border-t pt-6\">\n      <h4 class=\"text-sm font-medium text-gray-700 mb-4\">Follow-up Planning</h4>\n      \n      <!-- Follow-up Required Toggle -->\n      <div class=\"flex items-center mb-4\">\n        <input\n          id=\"follow-up-required\"\n          v-model=\"localFormData.follow_up_required\"\n          @change=\"handleFollowUpRequiredChange\"\n          type=\"checkbox\"\n          class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n        />\n        <label for=\"follow-up-required\" class=\"ml-2 block text-sm text-gray-700\">\n          This interaction requires follow-up\n        </label>\n      </div>\n\n      <!-- Follow-up Details (conditional) -->\n      <div v-if=\"localFormData.follow_up_required\" class=\"space-y-4 pl-6\">\n        <!-- Follow-up Date -->\n        <div>\n          <label for=\"follow-up-date\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n            Follow-up Date <span class=\"text-red-500\">*</span>\n          </label>\n          <input\n            id=\"follow-up-date\"\n            type=\"datetime-local\"\n            v-model=\"localFormData.follow_up_date\"\n            @input=\"handleFollowUpDateChange\"\n            :min=\"minFollowUpDate\"\n            class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n            :class=\"{ 'border-red-300': hasError('follow_up_date') }\"\n          />\n          <p v-if=\"hasError('follow_up_date')\" class=\"mt-1 text-sm text-red-600\">\n            {{ getError('follow_up_date') }}\n          </p>\n        </div>\n\n        <!-- Follow-up Notes -->\n        <div>\n          <label for=\"follow-up-notes\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n            Follow-up Notes\n          </label>\n          <textarea\n            id=\"follow-up-notes\"\n            v-model=\"localFormData.follow_up_notes\"\n            @input=\"handleFollowUpNotesChange\"\n            rows=\"3\"\n            placeholder=\"What needs to be done in the follow-up?\"\n            class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n            maxlength=\"500\"\n          />\n          <p class=\"mt-1 text-sm text-gray-500\">\n            {{ (localFormData.follow_up_notes?.length || 0) }}/500 characters\n          </p>\n        </div>\n\n        <!-- Next Action -->\n        <div>\n          <label for=\"next-action\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n            Next Action\n          </label>\n          <select\n            id=\"next-action\"\n            v-model=\"localFormData.next_action\"\n            @change=\"handleNextActionChange\"\n            class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n          >\n            <option value=\"\">Select next action...</option>\n            <option v-for=\"action in nextActionOptions\" :key=\"action\" :value=\"action\">\n              {{ action }}\n            </option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <!-- Tags -->\n    <div>\n      <label for=\"tags\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n        Tags\n      </label>\n      <div class=\"flex flex-wrap gap-2 mb-2\">\n        <span\n          v-for=\"tag in localFormData.tags\"\n          :key=\"tag\"\n          class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\"\n        >\n          {{ tag }}\n          <button\n            type=\"button\"\n            @click=\"removeTag(tag)\"\n            class=\"flex-shrink-0 ml-1.5 h-4 w-4 rounded-full inline-flex items-center justify-center text-blue-400 hover:bg-blue-200 hover:text-blue-500 focus:outline-none focus:bg-blue-500 focus:text-white\"\n          >\n            <XMarkIcon class=\"h-3 w-3\" />\n          </button>\n        </span>\n      </div>\n      <div class=\"flex\">\n        <input\n          v-model=\"newTag\"\n          @keyup.enter=\"addTag\"\n          @keydown=\"handleTagKeydown\"\n          type=\"text\"\n          placeholder=\"Add tag and press Enter\"\n          class=\"flex-1 rounded-l-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n          maxlength=\"50\"\n        />\n        <button\n          type=\"button\"\n          @click=\"addTag\"\n          class=\"inline-flex items-center px-3 py-2 border border-l-0 border-gray-300 rounded-r-md bg-gray-50 text-gray-500 text-sm hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        >\n          Add\n        </button>\n      </div>\n      <p class=\"mt-1 text-sm text-gray-500\">\n        Use tags to categorize and search interactions later\n      </p>\n    </div>\n\n    <!-- Quick Actions Based on Outcome -->\n    <div v-if=\"showOutcomeGuidance\" class=\"bg-gray-50 rounded-lg p-4\">\n      <div class=\"flex\">\n        <InformationCircleIcon class=\"h-5 w-5 text-gray-400 mt-0.5 mr-3\" />\n        <div>\n          <h4 class=\"text-sm font-medium text-gray-900 mb-2\">Recommended Next Steps</h4>\n          <div class=\"space-y-2\">\n            <div v-for=\"suggestion in outcomeSuggestions\" :key=\"suggestion.action || 'default'\" class=\"flex items-center justify-between\">\n              <span class=\"text-sm text-gray-700\">{{ suggestion.description }}</span>\n              <button\n                v-if=\"suggestion.action\"\n                type=\"button\"\n                @click=\"applySuggestion(suggestion)\"\n                class=\"text-sm text-blue-600 hover:text-blue-800 font-medium\"\n              >\n                Apply\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch } from 'vue'\nimport type {\n  InteractionFormStep3,\n  InteractionFormValidation,\n  InteractionStatus\n} from '@/types/interactions'\nimport { INTERACTION_OUTCOMES } from '@/types/interactions'\nimport { XMarkIcon, InformationCircleIcon } from '@heroicons/vue/24/outline'\n\n// Props\ninterface Props {\n  formData: InteractionFormStep3\n  validation: InteractionFormValidation\n  status: InteractionStatus\n}\n\nconst props = defineProps<Props>()\n\n// Emits\nconst emit = defineEmits<{\n  'update:formData': [data: Partial<InteractionFormStep3>]\n}>()\n\n// Local form data\nconst localFormData = ref<InteractionFormStep3>({ ...props.formData })\nconst newTag = ref('')\n\n// Update local data when props change\nwatch(() => props.formData, (newData) => {\n  localFormData.value = { ...newData }\n}, { deep: true })\n\n// Rating options\nconst ratingOptions = [\n  { value: 1, label: '1 - Poor' },\n  { value: 2, label: '2 - Below Average' },\n  { value: 3, label: '3 - Average' },\n  { value: 4, label: '4 - Good' },\n  { value: 5, label: '5 - Excellent' }\n]\n\n// Next action options\nconst nextActionOptions = [\n  'Schedule Follow-up Call',\n  'Send Information',\n  'Prepare Proposal',\n  'Schedule Demo',\n  'Send Samples',\n  'Schedule Site Visit',\n  'Internal Discussion',\n  'Wait for Customer Response',\n  'Update Opportunity Stage',\n  'Close Opportunity'\n]\n\n// Computed properties\nconst minFollowUpDate = computed(() => {\n  return new Date().toISOString().slice(0, 16) // datetime-local format\n})\n\nconst showOutcomeGuidance = computed(() => {\n  return props.status === 'COMPLETED' && localFormData.value.outcome\n})\n\nconst outcomeSuggestions = computed(() => {\n  const outcome = localFormData.value.outcome\n  if (!outcome) return []\n\n  const suggestions = {\n    POSITIVE: [\n      { description: 'Schedule follow-up to maintain momentum', action: 'follow_up' },\n      { description: 'Consider updating opportunity stage', action: null },\n      { description: 'Add positive interaction tag', action: 'tag_positive' }\n    ],\n    NEUTRAL: [\n      { description: 'Schedule follow-up to address concerns', action: 'follow_up' },\n      { description: 'Consider sending additional information', action: null },\n      { description: 'Add neutral interaction tag', action: 'tag_neutral' }\n    ],\n    NEGATIVE: [\n      { description: 'Schedule follow-up to address issues', action: 'follow_up' },\n      { description: 'Consider internal team discussion', action: null },\n      { description: 'Add negative interaction tag', action: 'tag_negative' }\n    ],\n    NEEDS_FOLLOW_UP: [\n      { description: 'Schedule immediate follow-up', action: 'follow_up' },\n      { description: 'Set next action as priority', action: null },\n      { description: 'Add follow-up required tag', action: 'tag_followup' }\n    ]\n  }\n\n  return suggestions[outcome] || []\n})\n\n// Validation helpers\nconst hasError = (field: string) => {\n  return props.validation.errors.step3?.some(err => err.includes(field)) || \n         props.validation.errors[field]?.length > 0\n}\n\nconst getError = (field: string) => {\n  return props.validation.errors[field]?.[0] || \n         props.validation.errors.step3?.find(err => err.includes(field))\n}\n\n// Event handlers\nconst handleOutcomeChange = () => {\n  emit('update:formData', { outcome: localFormData.value.outcome })\n}\n\nconst handleRatingChange = () => {\n  emit('update:formData', { rating: localFormData.value.rating })\n}\n\nconst handleNotesChange = () => {\n  emit('update:formData', { notes: localFormData.value.notes })\n}\n\nconst handleFollowUpRequiredChange = () => {\n  const updates: Partial<InteractionFormStep3> = {\n    follow_up_required: localFormData.value.follow_up_required\n  }\n  \n  // Clear follow-up data if not required\n  if (!localFormData.value.follow_up_required) {\n    updates.follow_up_date = null\n    updates.follow_up_notes = ''\n    updates.next_action = ''\n    localFormData.value.follow_up_date = null\n    localFormData.value.follow_up_notes = ''\n    localFormData.value.next_action = ''\n  }\n  \n  emit('update:formData', updates)\n}\n\nconst handleFollowUpDateChange = () => {\n  emit('update:formData', { follow_up_date: localFormData.value.follow_up_date })\n}\n\nconst handleFollowUpNotesChange = () => {\n  emit('update:formData', { follow_up_notes: localFormData.value.follow_up_notes })\n}\n\nconst handleNextActionChange = () => {\n  emit('update:formData', { next_action: localFormData.value.next_action })\n}\n\n// Tag management\nconst addTag = () => {\n  const tag = newTag.value.trim().replace(',', '')\n  if (tag && !localFormData.value.tags?.includes(tag)) {\n    const tags = [...(localFormData.value.tags || []), tag]\n    localFormData.value.tags = tags\n    emit('update:formData', { tags })\n  }\n  newTag.value = ''\n}\n\nconst handleTagKeydown = (event: KeyboardEvent) => {\n  if (event.key === ',') {\n    event.preventDefault()\n    addTag()\n  }\n}\n\nconst removeTag = (tagToRemove: string) => {\n  const tags = (localFormData.value.tags || []).filter(tag => tag !== tagToRemove)\n  localFormData.value.tags = tags\n  emit('update:formData', { tags })\n}\n\n// Suggestion application\nconst applySuggestion = (suggestion: any) => {\n  if (suggestion.action === 'follow_up') {\n    localFormData.value.follow_up_required = true\n    \n    // Set follow-up date to one week from now\n    const followUpDate = new Date()\n    followUpDate.setDate(followUpDate.getDate() + 7)\n    localFormData.value.follow_up_date = followUpDate.toISOString().slice(0, 16)\n    \n    emit('update:formData', {\n      follow_up_required: true,\n      follow_up_date: localFormData.value.follow_up_date\n    })\n  } else if (suggestion.action?.startsWith('tag_')) {\n    const tagType = suggestion.action.replace('tag_', '')\n    const tag = `${tagType}-interaction`\n    \n    if (!localFormData.value.tags?.includes(tag)) {\n      const tags = [...(localFormData.value.tags || []), tag]\n      localFormData.value.tags = tags\n      emit('update:formData', { tags })\n    }\n  }\n}\n\n// Initialize tags array if not present\nif (!localFormData.value.tags) {\n  localFormData.value.tags = []\n  emit('update:formData', { tags: [] })\n}\n</script>\n\n<style scoped>\n/* Component-specific styles */\n</style>","<!--\n  InteractionFormWrapper.vue\n  Multi-step interaction creation form with validation and smart defaults\n  Follows OpportunityFormWrapper patterns for consistency\n-->\n<template>\n  <div class=\"interaction-form-wrapper\">\n    <!-- Form Header -->\n    <div class=\"mb-8\">\n      <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">\n        {{ isEditing ? 'Edit Interaction' : 'New Interaction' }}\n      </h2>\n      <p class=\"text-gray-600\">\n        {{ isEditing ? 'Update interaction details' : 'Record a new customer interaction' }}\n      </p>\n    </div>\n\n    <!-- Step Progress Indicator -->\n    <div class=\"mb-8\">\n      <nav aria-label=\"Progress\">\n        <ol class=\"flex items-center\">\n          <li v-for=\"(step, index) in steps\" :key=\"step.id\" class=\"relative\">\n            <!-- Step Circle -->\n            <div class=\"flex items-center\">\n              <div\n                :class=\"[\n                  'flex h-8 w-8 items-center justify-center rounded-full text-sm font-medium',\n                  getStepClasses(index + 1)\n                ]\"\n              >\n                <CheckIcon v-if=\"isStepCompleted(index + 1)\" class=\"h-5 w-5\" />\n                <span v-else>{{ index + 1 }}</span>\n              </div>\n              \n              <!-- Step Label -->\n              <span\n                :class=\"[\n                  'ml-3 text-sm font-medium',\n                  currentStep === index + 1 ? 'text-blue-600' : 'text-gray-500'\n                ]\"\n              >\n                {{ step.name }}\n              </span>\n            </div>\n\n            <!-- Step Connector -->\n            <div\n              v-if=\"index < steps.length - 1\"\n              :class=\"[\n                'absolute left-4 top-8 h-6 w-0.5',\n                isStepCompleted(index + 1) ? 'bg-blue-600' : 'bg-gray-300'\n              ]\"\n            />\n          </li>\n        </ol>\n      </nav>\n    </div>\n\n    <!-- Form Content -->\n    <form @submit.prevent=\"handleSubmit\" class=\"space-y-6\">\n      <!-- Step 1: Basic Information -->\n      <div v-show=\"currentStep === 1\" class=\"space-y-6\">\n        <InteractionStepOne\n          v-model:form-data=\"formData.step1\"\n          :validation=\"validation\"\n          :opportunities=\"availableOpportunities\"\n          :loading=\"loadingOpportunities\"\n          @opportunity-selected=\"handleOpportunitySelected\"\n          @update:form-data=\"updateStep1Data\"\n        />\n      </div>\n\n      <!-- Step 2: Details -->\n      <div v-show=\"currentStep === 2\" class=\"space-y-6\">\n        <InteractionStepTwo\n          v-model:form-data=\"formData.step2\"\n          :validation=\"validation\"\n          :interaction-type=\"formData.step1.type\"\n          @update:form-data=\"updateStep2Data\"\n        />\n      </div>\n\n      <!-- Step 3: Outcome & Follow-up -->\n      <div v-show=\"currentStep === 3\" class=\"space-y-6\">\n        <InteractionStepThree\n          v-model:form-data=\"formData.step3\"\n          :validation=\"validation\"\n          :status=\"formData.step2.status\"\n          @update:form-data=\"updateStep3Data\"\n        />\n      </div>\n\n      <!-- Form Actions -->\n      <div class=\"flex justify-between pt-6 border-t border-gray-200\">\n        <!-- Previous Button -->\n        <button\n          v-if=\"currentStep > 1\"\n          type=\"button\"\n          @click=\"previousStep\"\n          class=\"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n        >\n          <ChevronLeftIcon class=\"h-4 w-4 mr-2\" />\n          Previous\n        </button>\n        <div v-else></div>\n\n        <!-- Next/Submit Button -->\n        <div class=\"flex space-x-3\">\n          <!-- Save Draft (if applicable) -->\n          <button\n            v-if=\"!isEditing && currentStep === 3\"\n            type=\"button\"\n            @click=\"saveDraft\"\n            :disabled=\"creating\"\n            class=\"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n          >\n            <DocumentIcon class=\"h-4 w-4 mr-2\" />\n            Save Draft\n          </button>\n\n          <!-- Next/Submit -->\n          <button\n            v-if=\"currentStep < 3\"\n            type=\"button\"\n            @click=\"nextStep\"\n            :disabled=\"!isCurrentStepValid\"\n            class=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n          >\n            Next\n            <ChevronRightIcon class=\"h-4 w-4 ml-2\" />\n          </button>\n\n          <button\n            v-else\n            type=\"submit\"\n            :disabled=\"!canSubmit || creating\"\n            class=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n          >\n            <span v-if=\"creating\" class=\"flex items-center\">\n              <svg class=\"animate-spin -ml-1 mr-3 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              {{ isEditing ? 'Updating...' : 'Creating...' }}\n            </span>\n            <span v-else>\n              {{ isEditing ? 'Update Interaction' : 'Create Interaction' }}\n            </span>\n          </button>\n        </div>\n      </div>\n    </form>\n\n    <!-- Error Display -->\n    <div v-if=\"error\" class=\"mt-6 rounded-md bg-red-50 p-4\">\n      <div class=\"flex\">\n        <ExclamationTriangleIcon class=\"h-5 w-5 text-red-400\" />\n        <div class=\"ml-3\">\n          <h3 class=\"text-sm font-medium text-red-800\">Error</h3>\n          <div class=\"mt-2 text-sm text-red-700\">\n            {{ error }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, reactive, watch, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useInteractionStore } from '@/stores/interactionStore'\nimport { useOpportunityStore } from '@/stores/opportunityStore'\nimport type {\n  InteractionFormStep1,\n  InteractionFormStep2,\n  InteractionFormStep3,\n  InteractionFormValidation,\n  InteractionType\n} from '@/types/interactions'\nimport {\n  INTERACTION_FORM_DEFAULTS\n} from '@/types/interactions'\nimport type { OpportunityListView } from '@/types/opportunities'\nimport InteractionStepOne from './InteractionStepOne.vue'\nimport InteractionStepTwo from './InteractionStepTwo.vue'\nimport InteractionStepThree from './InteractionStepThree.vue'\nimport {\n  CheckIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n  DocumentIcon,\n  ExclamationTriangleIcon\n} from '@heroicons/vue/24/outline'\n\n// Props\ninterface Props {\n  interactionId?: string\n  opportunityId?: string\n  isEditing?: boolean\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  isEditing: false\n})\n\n// Stores\nconst interactionStore = useInteractionStore()\nconst opportunityStore = useOpportunityStore()\nconst router = useRouter()\n\n// Reactive state\nconst currentStep = ref(1)\nconst availableOpportunities = ref<OpportunityListView[]>([])\nconst loadingOpportunities = ref(false)\n\n// Form data structure\nconst formData = reactive({\n  step1: {\n    type: 'Phone' as InteractionType,\n    subject: '',\n    opportunity_id: props.opportunityId || '',\n    interaction_date: new Date().toISOString().slice(0, 16) // datetime-local format\n  } as InteractionFormStep1,\n  step2: {\n    status: 'SCHEDULED' as const,\n    duration_minutes: null,\n    location: null,\n    contact_method: null,\n    participants: []\n  } as InteractionFormStep2,\n  step3: {\n    outcome: null,\n    rating: null,\n    notes: '',\n    follow_up_required: false,\n    follow_up_date: null,\n    follow_up_notes: '',\n    next_action: '',\n    tags: [],\n    attachments: [],\n    custom_fields: null\n  } as InteractionFormStep3\n})\n\n// Validation state\nconst validation = reactive<InteractionFormValidation>({\n  isValid: false,\n  errors: {},\n  warnings: {},\n  touched: {},\n  step1Valid: false,\n  step2Valid: false,\n  step3Valid: false\n})\n\n// Step configuration\nconst steps = [\n  { id: 'basic', name: 'Basic Info' },\n  { id: 'details', name: 'Details' },\n  { id: 'outcome', name: 'Outcome' }\n]\n\n// Computed properties\nconst creating = computed(() => interactionStore.creating)\nconst error = computed(() => interactionStore.error)\n\nconst isCurrentStepValid = computed(() => {\n  switch (currentStep.value) {\n    case 1: return validation.step1Valid\n    case 2: return validation.step2Valid\n    case 3: return validation.step3Valid\n    default: return false\n  }\n})\n\nconst canSubmit = computed(() => {\n  return validation.step1Valid && validation.step2Valid && validation.step3Valid\n})\n\n// Step styling\nconst getStepClasses = (stepNumber: number) => {\n  if (isStepCompleted(stepNumber)) {\n    return 'bg-blue-600 text-white'\n  } else if (currentStep.value === stepNumber) {\n    return 'bg-blue-600 text-white'\n  } else {\n    return 'bg-gray-300 text-gray-500'\n  }\n}\n\nconst isStepCompleted = (stepNumber: number) => {\n  switch (stepNumber) {\n    case 1: return validation.step1Valid && currentStep.value > 1\n    case 2: return validation.step2Valid && currentStep.value > 2\n    case 3: return validation.step3Valid\n    default: return false\n  }\n}\n\n// Form navigation\nconst nextStep = () => {\n  if (currentStep.value < 3 && isCurrentStepValid.value) {\n    currentStep.value++\n  }\n}\n\nconst previousStep = () => {\n  if (currentStep.value > 1) {\n    currentStep.value--\n  }\n}\n\n// Form handlers\nconst updateStep1Data = (data: Partial<InteractionFormStep1>) => {\n  Object.assign(formData.step1, data)\n  validateStep1()\n}\n\nconst updateStep2Data = (data: Partial<InteractionFormStep2>) => {\n  Object.assign(formData.step2, data)\n  validateStep2()\n}\n\nconst updateStep3Data = (data: Partial<InteractionFormStep3>) => {\n  Object.assign(formData.step3, data)\n  validateStep3()\n}\n\nconst handleOpportunitySelected = (opportunityId: string) => {\n  formData.step1.opportunity_id = opportunityId\n  validateStep1()\n}\n\n// Validation functions\nconst validateStep1 = () => {\n  const errors: string[] = []\n  \n  if (!formData.step1.subject || formData.step1.subject.length < 3) {\n    errors.push('Subject must be at least 3 characters')\n  }\n  \n  if (!formData.step1.opportunity_id) {\n    errors.push('Opportunity must be selected')\n  }\n  \n  if (!formData.step1.interaction_date) {\n    errors.push('Interaction date is required')\n  }\n  \n  validation.step1Valid = errors.length === 0\n  validation.errors.step1 = errors\n}\n\nconst validateStep2 = () => {\n  const errors: string[] = []\n  \n  if (!formData.step2.status) {\n    errors.push('Status is required')\n  }\n  \n  // Conditional validation based on interaction type\n  if (formData.step1.type === 'Meeting' && !formData.step2.location) {\n    errors.push('Location is required for in-person meetings')\n  }\n  \n  if (formData.step2.duration_minutes && (formData.step2.duration_minutes < 1 || formData.step2.duration_minutes > 480)) {\n    errors.push('Duration must be between 1 and 480 minutes')\n  }\n  \n  validation.step2Valid = errors.length === 0\n  validation.errors.step2 = errors\n}\n\nconst validateStep3 = () => {\n  const errors: string[] = []\n  \n  // Conditional validation for completed interactions\n  if (formData.step2.status === 'COMPLETED' && !formData.step3.outcome) {\n    errors.push('Outcome is required for completed interactions')\n  }\n  \n  if (formData.step3.follow_up_required && !formData.step3.follow_up_date) {\n    errors.push('Follow-up date is required when follow-up is needed')\n  }\n  \n  if (formData.step3.rating && (formData.step3.rating < 1 || formData.step3.rating > 5)) {\n    errors.push('Rating must be between 1 and 5')\n  }\n  \n  validation.step3Valid = errors.length === 0\n  validation.errors.step3 = errors\n}\n\n// Apply smart defaults when interaction type changes\nwatch(() => formData.step1.type, (newType: InteractionType) => {\n  const defaults = INTERACTION_FORM_DEFAULTS[newType]\n  if (defaults) {\n    Object.assign(formData.step2, defaults)\n    validateStep2()\n  }\n})\n\n// Load opportunities on mount\nonMounted(async () => {\n  loadingOpportunities.value = true\n  try {\n    await opportunityStore.fetchOpportunities({}, { page: 1, limit: 100, sort_by: 'created_at', sort_order: 'desc' })\n    availableOpportunities.value = opportunityStore.opportunities\n  } catch (error) {\n    console.error('Failed to load opportunities:', error)\n  } finally {\n    loadingOpportunities.value = false\n  }\n  \n  // Load existing interaction if editing\n  if (props.isEditing && props.interactionId) {\n    await loadExistingInteraction()\n  }\n  \n  // Initial validation\n  validateStep1()\n  validateStep2()\n  validateStep3()\n})\n\n// Load existing interaction for editing\nconst loadExistingInteraction = async () => {\n  if (!props.interactionId) return\n  \n  try {\n    await interactionStore.fetchInteractionById(props.interactionId)\n    const interaction = interactionStore.selectedInteraction\n    \n    if (interaction) {\n      // Cast to any to avoid infinite type recursion\n      const interactionData = interaction as any\n      \n      // Populate form data from existing interaction\n      formData.step1 = {\n        type: interactionData.type,\n        subject: interactionData.subject || '',\n        opportunity_id: interactionData.opportunity_id,\n        interaction_date: interactionData.interaction_date.slice(0, 16)\n      }\n      \n      const participantsArray: string[] = Array.isArray(interactionData.participants) ? interactionData.participants : []\n      formData.step2 = {\n        status: interactionData.status || 'SCHEDULED',\n        duration_minutes: interactionData.duration_minutes,\n        location: interactionData.location,\n        contact_method: interactionData.contact_method,\n        participants: participantsArray\n      }\n      \n      formData.step3 = {\n        outcome: interactionData.outcome,\n        rating: interactionData.rating,\n        notes: interactionData.notes || '',\n        follow_up_required: interactionData.follow_up_required || false,\n        follow_up_date: interactionData.follow_up_date,\n        follow_up_notes: interactionData.follow_up_notes || '',\n        next_action: interactionData.next_action || '',\n        tags: Array.isArray(interactionData.tags) ? interactionData.tags : [],\n        attachments: Array.isArray(interactionData.attachments) ? interactionData.attachments : [],\n        custom_fields: interactionData.custom_fields\n      }\n    }\n  } catch (error) {\n    console.error('Failed to load interaction:', error)\n  }\n}\n\n// Form submission\nconst handleSubmit = async () => {\n  if (!canSubmit.value) return\n  \n  // Combine all form data and convert to database format\n  const interactionData = {\n    ...formData.step1,\n    ...formData.step2,\n    ...formData.step3\n  }\n\n  // Note: Database schema requires opportunity_id, but business logic allows null\n  // This is a known limitation that should be addressed in database schema\n  \n  try {\n    let success = false\n    \n    if (props.isEditing && props.interactionId) {\n      success = await interactionStore.updateInteraction(props.interactionId, interactionData)\n    } else {\n      success = await interactionStore.createInteraction(interactionData)\n    }\n    \n    if (success) {\n      // Navigate back to interaction list or detail view\n      if (props.opportunityId) {\n        router.push(`/opportunities/${props.opportunityId}`)\n      } else {\n        router.push('/interactions')\n      }\n    }\n  } catch (error) {\n    console.error('Form submission failed:', error)\n  }\n}\n\n// Save draft functionality\nconst saveDraft = async () => {\n  // Implementation for saving draft - could store in localStorage or send to API\n  console.log('Saving draft...', formData)\n}\n</script>\n\n<style scoped>\n.interaction-form-wrapper {\n  @apply max-w-4xl mx-auto;\n}\n</style>"],"names":["render","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","props","__props","emit","__emit","localFormData","ref","watch","newData","selectedOpportunity","computed","opp","showQuickTemplates","availableTemplates","QuickTemplatesList","template","hasError","field","_a","_b","getError","err","getTypeDescription","type","handleTypeChange","handleSubjectChange","handleDateChange","handleOpportunityChange","applyTemplate","_hoisted_1","_hoisted_2","$event","_normalizeClass","_Fragment","_renderList","_unref","InteractionTypesList","_toDisplayString","_hoisted_3","_vModelSelect","_hoisted_4","_hoisted_5","_vModelText","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","loading","opportunities","opportunity","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_createVNode","BuildingOfficeIcon","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_21","_hoisted_22","participantCount","INTERACTION_STATUSES","contactMethods","requiresLocation","showSuggestions","suggestions","sug","suggestedDuration","suggestedMethod","handleStatusChange","handleDurationChange","handleLocationChange","handleContactMethodChange","handleParticipantCountChange","participants","_","i","applySuggestion","suggestion","status","interactionType","_hoisted_10","method","LightBulbIcon","newTag","ratingOptions","nextActionOptions","minFollowUpDate","showOutcomeGuidance","outcomeSuggestions","outcome","handleOutcomeChange","handleRatingChange","handleNotesChange","handleFollowUpRequiredChange","updates","handleFollowUpDateChange","handleFollowUpNotesChange","handleNextActionChange","addTag","tag","tags","handleTagKeydown","event","removeTag","tagToRemove","followUpDate","INTERACTION_OUTCOMES","rating","_vModelCheckbox","action","_createTextVNode","XMarkIcon","_hoisted_20","InformationCircleIcon","_hoisted_23","interactionStore","useInteractionStore","opportunityStore","useOpportunityStore","router","useRouter","currentStep","availableOpportunities","loadingOpportunities","formData","reactive","validation","steps","creating","error","isCurrentStepValid","canSubmit","getStepClasses","stepNumber","isStepCompleted","nextStep","previousStep","updateStep1Data","data","validateStep1","updateStep2Data","validateStep2","updateStep3Data","validateStep3","handleOpportunitySelected","opportunityId","errors","newType","defaults","INTERACTION_FORM_DEFAULTS","onMounted","loadExistingInteraction","interaction","interactionData","participantsArray","handleSubmit","success","saveDraft","isEditing","step","index","_createBlock","CheckIcon","_withDirectives","InteractionStepOne","InteractionStepTwo","InteractionStepThree","ChevronLeftIcon","DocumentIcon","ChevronRightIcon","ExclamationTriangleIcon","_hoisted_24"],"mappings":"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","x_google_ignoreList":[0]}