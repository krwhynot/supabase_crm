import{d as D,z,r as i,o as A,c as a,b as e,e as m,t as r,f as h,w as g,g as H,k as u,x as N,i as l}from"./index-Sa88JIdo.js";import{c as w}from"./contactsApi-BMmahV0E.js";import{c as p}from"./contacts-CEs9qipS.js";const L={class:"min-h-screen bg-gray-50 py-8"},E={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},I={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-8"},F={key:1,class:"bg-white rounded-lg shadow-sm border border-red-200 p-6"},P={class:"flex items-center mb-4"},T={class:"text-red-700"},U={class:"flex space-x-3"},$={key:2,class:"space-y-6"},R={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},S={class:"flex items-center justify-between mb-6"},O={class:"flex items-center space-x-3"},q={class:"flex space-x-3"},G={class:"flex items-center space-x-6"},J={class:"flex-shrink-0"},K={class:"h-20 w-20 rounded-full bg-blue-100 flex items-center justify-center"},Q={class:"text-2xl font-medium text-blue-600"},W={class:"flex-1"},X={class:"text-2xl font-bold text-gray-900"},Y={key:0,class:"text-lg text-gray-600 mt-1"},Z={class:"text-lg text-gray-600 mt-1"},ee={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},te={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},se={class:"flex items-center space-x-3"},oe=["href"],re={class:"flex items-center space-x-3"},ne={class:"text-gray-900"},ae={class:"flex items-center space-x-3"},le={class:"text-gray-900"},de={class:"flex items-center space-x-3"},ie={class:"text-gray-900"},ue={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ce={class:"prose max-w-none"},me={class:"text-gray-700 whitespace-pre-wrap"},xe={key:3,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},ve={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},he={class:"mt-3 text-center"},ge={class:"mt-2 px-7 py-3"},pe={class:"text-sm text-gray-500"},fe={class:"items-center px-4 py-3"},ye={class:"flex space-x-3 justify-center"},we=["disabled"],je=D({__name:"ContactDetailView",setup(be){const b=z(),_=N(),k=b.params.id,o=i(null),x=i(!0),n=i(null),d=i(!1),c=i(!1),f=async()=>{try{x.value=!0,n.value=null;const s=await w.getContact(k);s.success&&s.data?o.value=s.data:n.value=s.error||"Contact not found"}catch(s){n.value="An unexpected error occurred",console.error("Error loading contact:",s)}finally{x.value=!1}},C=()=>{d.value=!0},M=async()=>{if(o.value)try{c.value=!0;const s=await w.deleteContact(o.value.id);s.success?_.push("/contacts"):(n.value=s.error||"Failed to delete contact",d.value=!1)}catch(s){console.error("Error deleting contact:",s),n.value="An unexpected error occurred",d.value=!1}finally{c.value=!1}},y=s=>p.getFullName(s),j=s=>p.getInitials(s),B=s=>p.formatPhone(s),V=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown";return A(()=>{f()}),(s,t)=>{const v=H("router-link");return l(),a("div",L,[e("div",E,[x.value?(l(),a("div",I,t[1]||(t[1]=[e("div",{class:"flex justify-center"},[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})],-1)]))):n.value?(l(),a("div",F,[e("div",P,[t[2]||(t[2]=e("svg",{class:"h-5 w-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",T,r(n.value),1)]),e("div",U,[h(v,{to:"/",class:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},{default:g(()=>t[3]||(t[3]=[u(" Back to Contacts ",-1)])),_:1,__:[3]}),e("button",{onClick:f,class:"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700"}," Try Again ")])])):o.value?(l(),a("div",$,[e("div",R,[e("div",S,[e("div",O,[h(v,{to:"/",class:"text-gray-500 hover:text-gray-700"},{default:g(()=>t[4]||(t[4]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),_:1,__:[4]}),t[5]||(t[5]=e("h1",{class:"text-3xl font-bold text-gray-900"},"Contact Details",-1))]),e("div",q,[h(v,{to:`/contacts/${o.value.id}/edit`,class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},{default:g(()=>t[6]||(t[6]=[e("svg",{class:"-ml-1 mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),u(" Edit Contact ",-1)])),_:1,__:[6]},8,["to"]),e("button",{onClick:C,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700"},t[7]||(t[7]=[e("svg",{class:"-ml-1 mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),u(" Delete ",-1)]))])]),e("div",G,[e("div",J,[e("div",K,[e("span",Q,r(j(o.value)),1)])]),e("div",W,[e("h2",X,r(y(o.value)),1),o.value.title?(l(),a("p",Y,r(o.value.title),1)):m("",!0),e("p",Z,r(o.value.organization),1)])])]),e("div",ee,[t[16]||(t[16]=e("h3",{class:"text-lg font-medium text-gray-900 mb-6"},"Contact Information",-1)),e("div",te,[e("div",se,[t[9]||(t[9]=e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),e("div",null,[t[8]||(t[8]=e("p",{class:"text-sm font-medium text-gray-500"},"Email",-1)),e("a",{href:`mailto:${o.value.email}`,class:"text-blue-600 hover:text-blue-800"},r(o.value.email),9,oe)])]),e("div",re,[t[11]||(t[11]=e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),e("div",null,[t[10]||(t[10]=e("p",{class:"text-sm font-medium text-gray-500"},"Phone",-1)),e("p",ne,r(B(o.value.phone)),1)])]),e("div",ae,[t[13]||(t[13]=e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),e("div",null,[t[12]||(t[12]=e("p",{class:"text-sm font-medium text-gray-500"},"Organization",-1)),e("p",le,r(o.value.organization),1)])]),e("div",de,[t[15]||(t[15]=e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("div",null,[t[14]||(t[14]=e("p",{class:"text-sm font-medium text-gray-500"},"Added",-1)),e("p",ie,r(V(o.value.created_at)),1)])])])]),o.value.notes?(l(),a("div",ue,[t[17]||(t[17]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Notes",-1)),e("div",ce,[e("p",me,r(o.value.notes),1)])])):m("",!0)])):m("",!0),d.value?(l(),a("div",xe,[e("div",ve,[e("div",he,[t[20]||(t[20]=e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100"},[e("svg",{class:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),t[21]||(t[21]=e("h3",{class:"text-lg font-medium text-gray-900 mt-4"},"Delete Contact",-1)),e("div",ge,[e("p",pe,[t[18]||(t[18]=u(" Are you sure you want to delete ",-1)),e("strong",null,r(o.value?y(o.value):"this contact"),1),t[19]||(t[19]=u("? This action cannot be undone. ",-1))])]),e("div",fe,[e("div",ye,[e("button",{onClick:t[0]||(t[0]=_e=>d.value=!1),class:"px-4 py-2 bg-gray-500 text-white text-base font-medium rounded-md shadow-sm hover:bg-gray-600"}," Cancel "),e("button",{onClick:M,disabled:c.value,class:"px-4 py-2 bg-red-500 text-white text-base font-medium rounded-md shadow-sm hover:bg-red-600 disabled:opacity-50"},r(c.value?"Deleting...":"Delete"),9,we)])])])])])):m("",!0)])])}}});export{je as default};
//# sourceMappingURL=ContactDetailView-Bc0aF7oP.js.map
