import{c as o,b as e,i as r,d as V,r as w,j as k,o as D,e as a,f as l,C as d,t as n,k as u,w as g,g as B,n as z,x as P}from"./index-D8k4VyC4.js";import{u as I,r as N}from"./organizationStore-DuCsP3lo.js";import{r as M,a as T}from"./ExclamationTriangleIcon-DqxG2dsX.js";import{r as U,e as W,c as C,b as F,a as $,d as O}from"./TrashIcon-SQegwSK2.js";import"./supabaseClient-BMAhow10.js";function Q(_,x){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})])}const H={key:0,class:"text-center py-12"},R={key:1,class:"text-center py-12"},q={class:"text-red-600 mb-4"},G={class:"text-gray-600 mb-6"},J={class:"space-x-4"},K={key:2,class:"space-y-6"},X={class:"flex items-start justify-between"},Y={class:"min-w-0 flex-1"},Z={class:"flex items-center space-x-2 text-sm text-gray-500 mb-2"},ee={class:"text-gray-900 truncate"},te={class:"flex items-center space-x-4"},se={class:"w-16 h-16 bg-blue-100 rounded-lg flex items-center justify-center"},oe={class:"min-w-0 flex-1"},re={class:"text-2xl font-bold text-gray-900 truncate"},ae={class:"flex items-center space-x-4 mt-1"},ne={key:0,class:"text-sm text-gray-500"},ie={class:"flex items-center space-x-3 ml-4"},le={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},de={class:"lg:col-span-2 space-y-6"},ue={class:"bg-white shadow-sm rounded-lg border border-gray-200"},ce={class:"px-6 py-6 space-y-6"},me={key:0,class:"prose max-w-none"},ge={class:"text-gray-700"},xe={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},ye={key:0},ve={class:"mt-1 text-sm text-gray-900"},_e={key:1},pe={class:"mt-1 text-sm text-gray-900"},fe={key:2},be={class:"mt-1 text-sm text-gray-900"},he={class:"bg-white shadow-sm rounded-lg border border-gray-200"},we={class:"px-6 py-6"},ke={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},ze={key:0},Ce={class:"text-sm font-medium text-gray-500 flex items-center"},$e={class:"mt-1"},Oe=["href"],Se={key:1},Ee={class:"text-sm font-medium text-gray-500 flex items-center"},je={class:"mt-1"},Ae=["href"],Le={key:2},Ve={class:"text-sm font-medium text-gray-500 flex items-center"},De={class:"mt-1"},Be=["href"],Pe={key:0,class:"bg-white shadow-sm rounded-lg border border-gray-200"},Ie={class:"px-6 py-6"},Ne={class:"text-sm text-gray-900 not-italic"},Me={key:0},Te={key:1},Ue={class:"flex items-center space-x-2"},We={key:0},Fe={key:1},Qe={key:2},He={key:3},Re={key:2},qe={class:"space-y-6"},Ge={class:"bg-white shadow-sm rounded-lg border border-gray-200"},Je={class:"px-6 py-6 space-y-4"},Ke={class:"flex items-center justify-between"},Xe={key:0,class:"flex items-center justify-between"},Ye={class:"text-sm font-medium text-gray-900"},Ze={key:1,class:"flex items-center justify-between"},et={class:"text-sm font-medium text-gray-900"},tt={class:"bg-white shadow-sm rounded-lg border border-gray-200"},st={class:"px-6 py-6 space-y-3"},lt=V({__name:"OrganizationDetailView",props:{id:{}},setup(_){const x=_,S=P(),y=I(),v=w(!1),c=w(null),t=k(()=>y.currentOrganization),E=k(()=>t.value?!!(t.value.address_line_1||t.value.city||t.value.state_province||t.value.postal_code||t.value.country):!1),p=async()=>{v.value=!0,c.value=null;try{await y.fetchOrganization(x.id),t.value||(c.value="Organization not found")}catch(i){console.error("Error loading organization:",i),c.value="Failed to load organization. Please try again."}finally{v.value=!1}},j=async()=>{if(!t.value)return;if(confirm(`Are you sure you want to delete "${t.value.name}"? This action cannot be undone.`))try{await y.deleteOrganization(x.id),S.push("/organizations")}catch(s){console.error("Error deleting organization:",s),alert("Failed to delete organization. Please try again.")}},A=()=>{var i;(i=t.value)!=null&&i.website&&window.open(t.value.website,"_blank","noopener,noreferrer")},L=()=>{var i;(i=t.value)!=null&&i.email&&(window.location.href=`mailto:${t.value.email}`)},f=i=>{if(!i)return"bg-gray-100 text-gray-800";const s={Active:"bg-green-100 text-green-800",Inactive:"bg-gray-100 text-gray-800",Prospect:"bg-blue-100 text-blue-800",Customer:"bg-purple-100 text-purple-800",Partner:"bg-yellow-100 text-yellow-800",Vendor:"bg-indigo-100 text-indigo-800"};return s[i]||s.Inactive},b=i=>i||"Unknown",h=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return D(()=>{p()}),(i,s)=>{const m=B("router-link");return v.value?(r(),o("div",H,s[0]||(s[0]=[e("div",{class:"inline-flex items-center"},[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),e("span",{class:"text-lg text-gray-600"},"Loading organization...")],-1)]))):c.value?(r(),o("div",R,[e("div",q,[l(d(M),{class:"h-16 w-16 mx-auto"})]),s[3]||(s[3]=e("h3",{class:"text-xl font-medium text-gray-900 mb-2"},"Error Loading Organization",-1)),e("p",G,n(c.value),1),e("div",J,[e("button",{onClick:p,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-600 bg-blue-100 hover:bg-blue-200"},[l(d(T),{class:"h-4 w-4 mr-2"}),s[1]||(s[1]=u(" Try Again ",-1))]),l(m,{to:"/organizations",class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:g(()=>s[2]||(s[2]=[u(" Back to Organizations ",-1)])),_:1,__:[2]})])])):t.value?(r(),o("div",K,[e("div",X,[e("div",Y,[e("nav",Z,[l(m,{to:"/organizations",class:"hover:text-gray-700"},{default:g(()=>s[4]||(s[4]=[u("Organizations",-1)])),_:1,__:[4]}),l(d(N),{class:"h-4 w-4"}),e("span",ee,n(t.value.name),1)]),e("div",te,[e("div",se,[l(d(U),{class:"h-8 w-8 text-blue-600"})]),e("div",oe,[e("h1",re,n(t.value.name),1),e("div",ae,[t.value.industry?(r(),o("span",ne,n(t.value.industry),1)):a("",!0),e("span",{class:z(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",f(t.value.status)])},n(b(t.value.status)),3)])])])]),e("div",ie,[l(m,{to:`/organizations/${t.value.id}/edit`,class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:g(()=>[l(d(O),{class:"h-4 w-4 mr-2"}),s[5]||(s[5]=u(" Edit ",-1))]),_:1,__:[5]},8,["to"]),e("button",{onClick:j,class:"inline-flex items-center px-4 py-2 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[l(d(W),{class:"h-4 w-4 mr-2"}),s[6]||(s[6]=u(" Delete ",-1))])])]),e("div",le,[e("div",de,[e("div",ue,[s[10]||(s[10]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Organization Details")],-1)),e("div",ce,[t.value.description?(r(),o("div",me,[e("p",ge,n(t.value.description),1)])):a("",!0),e("div",xe,[t.value.employees_count?(r(),o("div",ye,[s[7]||(s[7]=e("dt",{class:"text-sm font-medium text-gray-500"},"Employee Count",-1)),e("dd",ve,n(t.value.employees_count.toLocaleString())+" employees ",1)])):a("",!0),t.value.created_at?(r(),o("div",_e,[s[8]||(s[8]=e("dt",{class:"text-sm font-medium text-gray-500"},"Created",-1)),e("dd",pe,n(h(t.value.created_at)),1)])):a("",!0),t.value.updated_at?(r(),o("div",fe,[s[9]||(s[9]=e("dt",{class:"text-sm font-medium text-gray-500"},"Last Updated",-1)),e("dd",be,n(h(t.value.updated_at)),1)])):a("",!0)])])]),e("div",he,[s[14]||(s[14]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Contact Information")],-1)),e("div",we,[e("dl",ke,[t.value.email?(r(),o("div",ze,[e("dt",Ce,[l(d(C),{class:"h-4 w-4 mr-2"}),s[11]||(s[11]=u(" Email ",-1))]),e("dd",$e,[e("a",{href:`mailto:${t.value.email}`,class:"text-sm text-blue-600 hover:text-blue-800"},n(t.value.email),9,Oe)])])):a("",!0),t.value.primary_phone?(r(),o("div",Se,[e("dt",Ee,[l(d(F),{class:"h-4 w-4 mr-2"}),s[12]||(s[12]=u(" Phone ",-1))]),e("dd",je,[e("a",{href:`tel:${t.value.primary_phone}`,class:"text-sm text-blue-600 hover:text-blue-800"},n(t.value.primary_phone),9,Ae)])])):a("",!0),t.value.website?(r(),o("div",Le,[e("dt",Ve,[l(d($),{class:"h-4 w-4 mr-2"}),s[13]||(s[13]=u(" Website ",-1))]),e("dd",De,[e("a",{href:t.value.website,target:"_blank",rel:"noopener noreferrer",class:"text-sm text-blue-600 hover:text-blue-800 flex items-center"},[u(n(t.value.website)+" ",1),l(d(Q),{class:"h-3 w-3 ml-1"})],8,Be)])])):a("",!0)])])]),E.value?(r(),o("div",Pe,[s[15]||(s[15]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Address")],-1)),e("div",Ie,[e("address",Ne,[t.value.address_line_1?(r(),o("div",Me,n(t.value.address_line_1),1)):a("",!0),t.value.address_line_2?(r(),o("div",Te,n(t.value.address_line_2),1)):a("",!0),e("div",Ue,[t.value.city?(r(),o("span",We,n(t.value.city),1)):a("",!0),t.value.city&&t.value.state_province?(r(),o("span",Fe,",")):a("",!0),t.value.state_province?(r(),o("span",Qe,n(t.value.state_province),1)):a("",!0),t.value.postal_code?(r(),o("span",He,n(t.value.postal_code),1)):a("",!0)]),t.value.country?(r(),o("div",Re,n(t.value.country),1)):a("",!0)])])])):a("",!0)]),e("div",qe,[e("div",Ge,[s[19]||(s[19]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Quick Stats")],-1)),e("div",Je,[e("div",Ke,[s[16]||(s[16]=e("span",{class:"text-sm text-gray-500"},"Status",-1)),e("span",{class:z(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",f(t.value.status)])},n(b(t.value.status)),3)]),t.value.employees_count?(r(),o("div",Xe,[s[17]||(s[17]=e("span",{class:"text-sm text-gray-500"},"Employees",-1)),e("span",Ye,n(t.value.employees_count.toLocaleString()),1)])):a("",!0),t.value.industry?(r(),o("div",Ze,[s[18]||(s[18]=e("span",{class:"text-sm text-gray-500"},"Industry",-1)),e("span",et,n(t.value.industry),1)])):a("",!0)])]),e("div",tt,[s[23]||(s[23]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Quick Actions")],-1)),e("div",st,[l(m,{to:`/organizations/${t.value.id}/edit`,class:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:g(()=>[l(d(O),{class:"h-4 w-4 mr-2"}),s[20]||(s[20]=u(" Edit Organization ",-1))]),_:1,__:[20]},8,["to"]),t.value.website?(r(),o("button",{key:0,onClick:A,class:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},[l(d($),{class:"h-4 w-4 mr-2"}),s[21]||(s[21]=u(" Visit Website ",-1))])):a("",!0),t.value.email?(r(),o("button",{key:1,onClick:L,class:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},[l(d(C),{class:"h-4 w-4 mr-2"}),s[22]||(s[22]=u(" Send Email ",-1))])):a("",!0)])])])])])):a("",!0)}}});export{lt as default};
//# sourceMappingURL=OrganizationDetailView-ByFfTpV3.js.map
