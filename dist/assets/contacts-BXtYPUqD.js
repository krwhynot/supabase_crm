import{c as l,V as r,a as d,b as s,d as c}from"./index.esm-co_T1QE2.js";const u=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,h=/^[+]?[1-9][\d]{0,15}$|^[+]?[()]?[\d\s\-()]{10,20}$/,v=["Executive Chef","Manager","Buyer","Owner","F&B Director","Kitchen Manager","Assistant Manager","Head Chef","Sous Chef","Food Service Director"],m=l({first_name:s().required("First name is required").min(1,"First name cannot be empty").max(100,"First name must be less than 100 characters").trim(),last_name:s().required("Last name is required").min(1,"Last name cannot be empty").max(100,"Last name must be less than 100 characters").trim(),organization_id:s().required("Organization is required").uuid("Organization ID must be valid"),position:s().required("Position is required").min(1,"Position cannot be empty").max(100,"Position must be less than 100 characters").trim(),phone:s().nullable().max(20,"Phone number must be less than 20 characters").matches(h,"Please enter a valid phone number").trim().transform(e=>e===""?null:e),email:s().nullable().matches(u,"Please enter a valid email address").max(255,"Email must be less than 255 characters").trim().lowercase().transform(e=>e===""?null:e),address:s().nullable().max(255,"Address must be less than 255 characters").trim().transform(e=>e===""?null:e),city:s().nullable().max(100,"City must be less than 100 characters").trim().transform(e=>e===""?null:e),state:s().nullable().max(50,"State must be less than 50 characters").trim().transform(e=>e===""?null:e),zip_code:s().nullable().max(20,"ZIP code must be less than 20 characters").trim().transform(e=>e===""?null:e),website:s().nullable().matches(/^https?:\/\/[^\s]+$/,"Website must be a valid URL starting with http:// or https://").max(255,"Website must be less than 255 characters").trim().transform(e=>e===""?null:e),account_manager:s().nullable().max(100,"Account manager must be less than 100 characters").trim().transform(e=>e===""?null:e),notes:s().nullable().max(5e3,"Notes must be less than 5000 characters").trim().transform(e=>e===""?null:e),is_primary:d().nullable().default(!1)}),p=l({first_name:s().min(1,"First name cannot be empty").max(100,"First name must be less than 100 characters").trim(),last_name:s().min(1,"Last name cannot be empty").max(100,"Last name must be less than 100 characters").trim(),organization_id:s().uuid("Organization ID must be valid"),position:s().max(100,"Position must be less than 100 characters").trim(),email:s().nullable().matches(u,"Please enter a valid email address").max(255,"Email must be less than 255 characters").trim().lowercase().transform(e=>e===""?null:e),phone:s().nullable().max(20,"Phone number must be less than 20 characters").matches(h,"Please enter a valid phone number").trim().transform(e=>e===""?null:e),address:s().nullable().max(255,"Address must be less than 255 characters").trim().transform(e=>e===""?null:e),city:s().nullable().max(100,"City must be less than 100 characters").trim().transform(e=>e===""?null:e),state:s().nullable().max(50,"State must be less than 50 characters").trim().transform(e=>e===""?null:e),zip_code:s().nullable().max(20,"ZIP code must be less than 20 characters").trim().transform(e=>e===""?null:e),website:s().nullable().matches(/^https?:\/\/[^\s]+$/,"Website must be a valid URL starting with http:// or https://").max(255,"Website must be less than 255 characters").trim().transform(e=>e===""?null:e),account_manager:s().nullable().max(100,"Account manager must be less than 100 characters").trim().transform(e=>e===""?null:e),notes:s().nullable().max(5e3,"Notes must be less than 5000 characters").trim().transform(e=>e===""?null:e),is_primary:d().nullable().default(!1)}),b=l({search:s().max(255,"Search term must be less than 255 characters").trim(),limit:c().positive("Limit must be positive").max(100,"Limit cannot exceed 100").integer("Limit must be an integer"),offset:c().min(0,"Offset cannot be negative").integer("Offset must be an integer"),sortBy:s().oneOf(["first_name","last_name","organization","email","created_at"],"Invalid sort field"),sortOrder:s().oneOf(["asc","desc"],"Sort order must be asc or desc")}),f=m.pick(["first_name","last_name","organization_id","position","email","phone"]),_=m.pick(["address","city","state","zip_code","website","account_manager","notes","is_primary"]);class z{static async validateCreate(a){try{return{isValid:!0,data:await m.validate(a,{abortEarly:!1}),errors:[]}}catch(t){return t instanceof r?{isValid:!1,errors:t.inner.map(i=>({field:i.path||"unknown",message:i.message}))}:{isValid:!1,errors:[{field:"general",message:"Validation failed"}]}}}static async validateUpdate(a){try{return{isValid:!0,data:await p.validate(a,{abortEarly:!1}),errors:[]}}catch(t){return t instanceof r?{isValid:!1,errors:t.inner.map(i=>({field:i.path||"unknown",message:i.message}))}:{isValid:!1,errors:[{field:"general",message:"Validation failed"}]}}}static async validateSearch(a){try{return{isValid:!0,data:await b.validate(a,{abortEarly:!1}),errors:[]}}catch(t){return t instanceof r?{isValid:!1,errors:t.inner.map(i=>({field:i.path||"unknown",message:i.message}))}:{isValid:!1,errors:[{field:"general",message:"Validation failed"}]}}}static async validateStepOne(a){try{return{isValid:!0,data:await f.validate(a,{abortEarly:!1}),errors:[]}}catch(t){return t instanceof r?{isValid:!1,errors:t.inner.map(i=>({field:i.path||"unknown",message:i.message}))}:{isValid:!1,errors:[{field:"general",message:"Step 1 validation failed"}]}}}static async validateStepThree(a){try{return{isValid:!0,data:await _.validate(a,{abortEarly:!1}),errors:[]}}catch(t){return t instanceof r?{isValid:!1,errors:t.inner.map(i=>({field:i.path||"unknown",message:i.message}))}:{isValid:!1,errors:[{field:"general",message:"Step 3 validation failed"}]}}}static cleanFormData(a){const t={};return Object.entries(a).forEach(([i,n])=>{if(typeof n=="string"){const o=n.trim();t[i]=o===""?null:o}else t[i]=n}),t}static formToInsert(a){return{first_name:a.first_name,last_name:a.last_name,organization_id:a.organization_id,position:a.position,phone:a.phone,email:a.email,address:a.address,city:a.city,state:a.state,zip_code:a.zip_code,website:a.website,account_manager:a.account_manager,notes:a.notes,is_primary:a.is_primary||!1}}static formToUpdate(a){const t={};return a.first_name!==void 0&&(t.first_name=a.first_name),a.last_name!==void 0&&(t.last_name=a.last_name),a.organization_id!==void 0&&(t.organization_id=a.organization_id),a.position!==void 0&&(t.position=a.position),a.phone!==void 0&&(t.phone=a.phone),a.email!==void 0&&(t.email=a.email),a.address!==void 0&&(t.address=a.address),a.city!==void 0&&(t.city=a.city),a.state!==void 0&&(t.state=a.state),a.zip_code!==void 0&&(t.zip_code=a.zip_code),a.website!==void 0&&(t.website=a.website),a.account_manager!==void 0&&(t.account_manager=a.account_manager),a.notes!==void 0&&(t.notes=a.notes),a.is_primary!==void 0&&(t.is_primary=a.is_primary),t}static contactToForm(a){return{first_name:a.first_name,last_name:a.last_name,organization_id:a.organization_id,position:a.position,phone:a.phone,email:a.email,address:a.address,city:a.city,state:a.state,zip_code:a.zip_code,website:a.website,account_manager:a.account_manager,notes:a.notes,is_primary:a.is_primary}}}const g={getFullName:e=>`${e.first_name} ${e.last_name}`.trim(),getDisplayName:(e,a)=>{const t=g.getFullName(e);return a?`${t} (${a})`:t},getPositionLabel:e=>e||"No position specified",formatPhone:e=>{if(!e)return"No phone";const a=e.replace(/\D/g,"");return a.length===10?`(${a.slice(0,3)}) ${a.slice(3,6)}-${a.slice(6)}`:a.length===11&&a[0]==="1"?`+1 (${a.slice(1,4)}) ${a.slice(4,7)}-${a.slice(7)}`:e},getInitials:e=>{const a=e.first_name.charAt(0).toUpperCase(),t=e.last_name.charAt(0).toUpperCase();return`${a}${t}`},formatCreatedDate:e=>e.created_at?new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown"};export{z as C,v as P,f as a,_ as b,g as c};
//# sourceMappingURL=contacts-BXtYPUqD.js.map
