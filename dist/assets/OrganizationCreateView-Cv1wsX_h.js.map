{"version":3,"file":"OrganizationCreateView-Cv1wsX_h.js","sources":["../../src/components/forms/SegmentSelector.vue","../../src/components/forms/OrganizationStepOne.vue","../../src/components/forms/OrganizationStepTwo.vue","../../src/components/forms/QuickContactForm.vue","../../src/components/forms/ContactMultiSelector.vue","../../src/components/forms/OrganizationStepThree.vue","../../src/components/forms/OrganizationFormWrapper.vue","../../src/views/organizations/OrganizationCreateView.vue"],"sourcesContent":["<template>\n  <div class=\"space-y-1\">\n    <!-- Label -->\n    <label\n      :for=\"fieldId\"\n      :class=\"labelClasses\"\n    >\n      {{ label }}\n      <span v-if=\"required\" class=\"text-danger ml-1\" aria-label=\"required\">*</span>\n    </label>\n\n    <!-- Description -->\n    <p\n      v-if=\"description\"\n      :id=\"descriptionId\"\n      class=\"text-sm text-gray-600\"\n    >\n      {{ description }}\n    </p>\n\n    <!-- Segment Selector with Type-ahead -->\n    <div class=\"relative\">\n      <!-- Input Field -->\n      <input\n        :id=\"fieldId\"\n        ref=\"inputRef\"\n        :name=\"name\"\n        type=\"text\"\n        :placeholder=\"placeholder\"\n        :disabled=\"disabled\"\n        :required=\"required\"\n        :value=\"displayValue\"\n        :aria-describedby=\"ariaDescribedBy\"\n        :aria-invalid=\"hasError\"\n        :aria-required=\"required\"\n        :aria-expanded=\"isDropdownOpen\"\n        :aria-haspopup=\"true\"\n        :aria-owns=\"dropdownId\"\n        :class=\"inputClasses\"\n        autocomplete=\"off\"\n        @input=\"handleInput\"\n        @focus=\"handleFocus\"\n        @blur=\"handleBlur\"\n        @keydown=\"handleKeydown\"\n      />\n\n      <!-- Dropdown Toggle Button -->\n      <button\n        type=\"button\"\n        :disabled=\"disabled\"\n        class=\"absolute inset-y-0 right-0 flex items-center pr-2\"\n        aria-label=\"Toggle dropdown\"\n        @click=\"toggleDropdown\"\n      >\n        <svg\n          :class=\"[\n            'h-4 w-4 transition-transform duration-200',\n            isDropdownOpen ? 'rotate-180' : '',\n            hasError ? 'text-red-500' : 'text-gray-400'\n          ]\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M19 9l-7 7-7-7\"\n          />\n        </svg>\n      </button>\n\n      <!-- Loading Spinner -->\n      <div\n        v-if=\"loading\"\n        class=\"absolute inset-y-0 right-8 flex items-center pr-3\"\n        aria-hidden=\"true\"\n      >\n        <svg\n          class=\"h-4 w-4 animate-spin text-gray-400\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n        >\n          <circle\n            class=\"opacity-25\"\n            cx=\"12\"\n            cy=\"12\"\n            r=\"10\"\n            stroke=\"currentColor\"\n            stroke-width=\"4\"\n          />\n          <path\n            class=\"opacity-75\"\n            fill=\"currentColor\"\n            d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n          />\n        </svg>\n      </div>\n\n      <!-- Dropdown Options -->\n      <div\n        v-if=\"isDropdownOpen\"\n        :id=\"dropdownId\"\n        :class=\"dropdownClasses\"\n        role=\"listbox\"\n        :aria-label=\"`${label} options`\"\n      >\n        <!-- No Results -->\n        <div\n          v-if=\"filteredOptions.length === 0 && !showAddNew\"\n          class=\"px-3 py-2 text-sm text-gray-500\"\n          role=\"option\"\n          aria-selected=\"false\"\n        >\n          No segments found\n        </div>\n\n        <!-- Filtered Options -->\n        <button\n          v-for=\"(option, index) in filteredOptions\"\n          :key=\"option.value\"\n          type=\"button\"\n          :class=\"[\n            'w-full text-left px-3 py-2 text-sm hover:bg-gray-100 focus:bg-gray-100 focus:outline-none',\n            index === highlightedIndex ? 'bg-primary-50 text-primary-900' : 'text-gray-900'\n          ]\"\n          role=\"option\"\n          :aria-selected=\"option.value === modelValue\"\n          @click=\"selectOption(option)\"\n          @mouseenter=\"highlightedIndex = index\"\n        >\n          <div class=\"flex items-center justify-between\">\n            <span>{{ option.label }}</span>\n            <!-- Selected Indicator -->\n            <svg\n              v-if=\"option.value === modelValue\"\n              class=\"h-4 w-4 text-primary-600\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M5 13l4 4L19 7\"\n              />\n            </svg>\n          </div>\n          <!-- Option Description -->\n          <p\n            v-if=\"option.description\"\n            class=\"text-xs text-gray-500 mt-1\"\n          >\n            {{ option.description }}\n          </p>\n        </button>\n\n        <!-- Add New Option -->\n        <div\n          v-if=\"showAddNew\"\n          class=\"border-t border-gray-200\"\n        >\n          <button\n            type=\"button\"\n            :class=\"[\n              'w-full text-left px-3 py-2 text-sm hover:bg-blue-50 focus:bg-blue-50 focus:outline-none',\n              highlightedIndex === filteredOptions.length ? 'bg-blue-50 text-blue-900' : 'text-blue-700'\n            ]\"\n            role=\"option\"\n            aria-selected=\"false\"\n            @click=\"handleAddNew\"\n            @mouseenter=\"highlightedIndex = filteredOptions.length\"\n          >\n            <div class=\"flex items-center\">\n              <svg\n                class=\"h-4 w-4 mr-2\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"\n                />\n              </svg>\n              Add new segment: \"{{ searchQuery }}\"\n            </div>\n          </button>\n        </div>\n\n        <!-- Popular Segments -->\n        <div\n          v-if=\"showPopularSegments && popularSegments.length > 0\"\n          class=\"border-t border-gray-200\"\n        >\n          <div class=\"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide\">\n            Popular Segments\n          </div>\n          <button\n            v-for=\"segment in popularSegments\"\n            :key=\"`popular-${segment.value}`\"\n            type=\"button\"\n            class=\"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 focus:bg-gray-100 focus:outline-none\"\n            role=\"option\"\n            :aria-selected=\"segment.value === modelValue\"\n            @click=\"selectOption(segment)\"\n          >\n            <div class=\"flex items-center justify-between\">\n              <span>{{ segment.label }}</span>\n              <span class=\"text-xs text-gray-400\">{{ segment.count }} orgs</span>\n            </div>\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Error Message -->\n    <p\n      v-if=\"error\"\n      :id=\"errorId\"\n      role=\"alert\"\n      class=\"text-sm text-danger flex items-center space-x-1\"\n    >\n      <svg\n        class=\"h-4 w-4 flex-shrink-0\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        viewBox=\"0 0 24 24\"\n        aria-hidden=\"true\"\n      >\n        <path\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          stroke-width=\"2\"\n          d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n        />\n      </svg>\n      <span>{{ error }}</span>\n    </p>\n\n    <!-- Help Text -->\n    <p\n      v-if=\"helpText && !error\"\n      :id=\"helpTextId\"\n      class=\"text-sm text-gray-500\"\n    >\n      {{ helpText }}\n    </p>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted, onUnmounted } from 'vue'\n\n/**\n * Segment option interface\n */\ninterface SegmentOption {\n  value: string\n  label: string\n  description?: string\n  count?: number\n}\n\n/**\n * Props interface\n */\ninterface Props {\n  /** Field name for form identification */\n  name: string\n  /** Visual label for the field */\n  label: string\n  /** Current field value */\n  modelValue: string\n  /** Available segment options */\n  options?: SegmentOption[]\n  /** Validation error message */\n  error?: string\n  /** Placeholder text */\n  placeholder?: string\n  /** Field description for additional context */\n  description?: string\n  /** Help text shown when no error is present */\n  helpText?: string\n  /** Whether field is required */\n  required?: boolean\n  /** Whether field is disabled */\n  disabled?: boolean\n  /** Whether options are currently loading */\n  loading?: boolean\n  /** Whether to allow adding new segments */\n  allowAddNew?: boolean\n  /** Popular segments to show */\n  popularSegments?: SegmentOption[]\n  /** Minimum characters to trigger search */\n  minSearchLength?: number\n  /** Custom CSS classes for the input */\n  inputClass?: string\n  /** Custom CSS classes for the label */\n  labelClass?: string\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  placeholder: 'Select or type a segment...',\n  options: () => [],\n  allowAddNew: true,\n  popularSegments: () => [],\n  minSearchLength: 1\n})\n\n/**\n * Event emissions\n */\ninterface Emits {\n  'update:modelValue': [value: string]\n  'add-new': [value: string]\n  'search': [query: string]\n  'focus': [event: FocusEvent]\n  'blur': [event: FocusEvent]\n  'validate': [value: string]\n}\n\nconst emit = defineEmits<Emits>()\n\n// Template refs\nconst inputRef = ref<HTMLInputElement>()\n\n// Component state\nconst isDropdownOpen = ref(false)\nconst searchQuery = ref('')\nconst highlightedIndex = ref(-1)\nconst isFocused = ref(false)\n\n// Default segment options\nconst defaultSegments: SegmentOption[] = [\n  { value: 'Technology', label: 'Technology', description: 'Software, hardware, and tech services' },\n  { value: 'Healthcare', label: 'Healthcare', description: 'Medical, pharmaceutical, and health services' },\n  { value: 'Finance', label: 'Finance', description: 'Banking, insurance, and financial services' },\n  { value: 'Manufacturing', label: 'Manufacturing', description: 'Production and industrial companies' },\n  { value: 'Retail', label: 'Retail', description: 'Consumer goods and retail services' },\n  { value: 'Education', label: 'Education', description: 'Schools, universities, and educational services' },\n  { value: 'Real Estate', label: 'Real Estate', description: 'Property development and real estate services' },\n  { value: 'Energy', label: 'Energy', description: 'Oil, gas, renewable energy, and utilities' },\n  { value: 'Transportation', label: 'Transportation', description: 'Logistics, shipping, and transportation' },\n  { value: 'Media', label: 'Media', description: 'Publishing, broadcasting, and entertainment' },\n  { value: 'Agriculture', label: 'Agriculture', description: 'Farming, food production, and agribusiness' },\n  { value: 'Construction', label: 'Construction', description: 'Building and construction services' },\n  { value: 'Consulting', label: 'Consulting', description: 'Business and professional consulting' },\n  { value: 'Government', label: 'Government', description: 'Public sector and government agencies' },\n  { value: 'Non-Profit', label: 'Non-Profit', description: 'Charitable organizations and NGOs' }\n]\n\n/**\n * Computed properties\n */\nconst fieldId = computed(() => `segment-${props.name}`)\nconst dropdownId = computed(() => `segment-dropdown-${props.name}`)\nconst errorId = computed(() => `error-${props.name}`)\nconst descriptionId = computed(() => `desc-${props.name}`)\nconst helpTextId = computed(() => `help-${props.name}`)\n\nconst hasError = computed(() => !!props.error)\n\nconst ariaDescribedBy = computed(() => {\n  const ids: string[] = []\n  if (props.description) ids.push(descriptionId.value)\n  if (props.error) ids.push(errorId.value)\n  if (props.helpText && !props.error) ids.push(helpTextId.value)\n  return ids.length > 0 ? ids.join(' ') : undefined\n})\n\n// Combined options (default + custom)\nconst allOptions = computed(() => {\n  const customOptions = props.options || []\n  const combined = [...customOptions]\n  \n  // Add default segments that aren't already in custom options\n  defaultSegments.forEach(defaultSegment => {\n    if (!combined.some(option => option.value.toLowerCase() === defaultSegment.value.toLowerCase())) {\n      combined.push(defaultSegment)\n    }\n  })\n  \n  return combined.sort((a, b) => a.label.localeCompare(b.label))\n})\n\n// Display value for input\nconst displayValue = computed(() => {\n  if (isDropdownOpen.value && searchQuery.value !== '') {\n    return searchQuery.value\n  }\n  return props.modelValue || ''\n})\n\n// Filtered options based on search\nconst filteredOptions = computed(() => {\n  if (!searchQuery.value || searchQuery.value.length < props.minSearchLength) {\n    return allOptions.value.slice(0, 10) // Show top 10 when no search\n  }\n  \n  const query = searchQuery.value.toLowerCase()\n  return allOptions.value\n    .filter(option => \n      option.label.toLowerCase().includes(query) ||\n      option.description?.toLowerCase().includes(query)\n    )\n    .slice(0, 20) // Limit results\n})\n\n// Show add new option\nconst showAddNew = computed(() => {\n  if (!props.allowAddNew || !searchQuery.value || searchQuery.value.length < props.minSearchLength) {\n    return false\n  }\n  \n  // Don't show if exact match exists\n  const exactMatch = allOptions.value.some(option => \n    option.label.toLowerCase() === searchQuery.value.toLowerCase()\n  )\n  \n  return !exactMatch\n})\n\n// Show popular segments\nconst showPopularSegments = computed(() => {\n  return !searchQuery.value && props.popularSegments.length > 0\n})\n\n/**\n * Styling\n */\nconst labelClasses = computed(() => {\n  const base = 'block text-sm font-medium transition-colors duration-200'\n  const stateClasses = hasError.value \n    ? 'text-red-700' \n    : isFocused.value \n      ? 'text-primary-600' \n      : 'text-gray-700'\n  const disabledClasses = props.disabled ? 'opacity-60' : ''\n  const customClasses = props.labelClass || ''\n  \n  return `${base} ${stateClasses} ${disabledClasses} ${customClasses}`.trim()\n})\n\nconst inputClasses = computed(() => {\n  const base = 'w-full px-3 py-2 pr-10 border rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:border-transparent'\n  \n  const stateClasses = hasError.value\n    ? 'border-red-500 bg-red-50 focus:ring-red-500 focus:bg-white'\n    : isFocused.value\n      ? 'border-primary-500 bg-white focus:ring-primary-500'\n      : 'border-gray-300 bg-white hover:border-gray-400 focus:ring-primary-500'\n  \n  const disabledClasses = props.disabled \n    ? 'bg-gray-100 text-gray-500 cursor-not-allowed' \n    : 'cursor-text'\n  \n  const loadingClasses = props.loading ? 'pr-16' : ''\n  \n  const customClasses = props.inputClass || ''\n  \n  return `${base} ${stateClasses} ${disabledClasses} ${loadingClasses} ${customClasses}`.trim()\n})\n\nconst dropdownClasses = computed(() => {\n  return [\n    'absolute z-50 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg',\n    'max-h-60 overflow-auto focus:outline-none'\n  ].join(' ')\n})\n\n/**\n * Event handlers\n */\nconst handleInput = (event: Event) => {\n  const target = event.target as HTMLInputElement\n  searchQuery.value = target.value\n  \n  // Open dropdown when typing\n  if (!isDropdownOpen.value && target.value.length >= props.minSearchLength) {\n    openDropdown()\n  }\n  \n  // Reset highlighted index\n  highlightedIndex.value = -1\n  \n  // Emit search event\n  if (target.value.length >= props.minSearchLength) {\n    emit('search', target.value)\n  }\n}\n\nconst handleFocus = (event: FocusEvent) => {\n  isFocused.value = true\n  emit('focus', event)\n  \n  // Set search query to current value for editing\n  searchQuery.value = props.modelValue || ''\n  \n  // Open dropdown after a short delay\n  setTimeout(() => {\n    openDropdown()\n  }, 100)\n}\n\nconst handleBlur = (event: FocusEvent) => {\n  // Delay blur to allow for dropdown interactions\n  setTimeout(() => {\n    isFocused.value = false\n    closeDropdown()\n    \n    // If no option was selected and we have a search query, select it\n    if (searchQuery.value && !props.modelValue) {\n      // Check if it matches an existing option\n      const exactMatch = allOptions.value.find(option => \n        option.label.toLowerCase() === searchQuery.value.toLowerCase()\n      )\n      \n      if (exactMatch) {\n        selectOption(exactMatch)\n      } else if (props.allowAddNew) {\n        handleAddNew()\n      }\n    }\n    \n    // Reset search query to display value\n    searchQuery.value = ''\n    \n    emit('blur', event)\n    emit('validate', props.modelValue)\n  }, 200)\n}\n\nconst handleKeydown = (event: KeyboardEvent) => {\n  switch (event.key) {\n    case 'ArrowDown':\n      event.preventDefault()\n      if (!isDropdownOpen.value) {\n        openDropdown()\n      } else {\n        const maxIndex = showAddNew.value ? filteredOptions.value.length : filteredOptions.value.length - 1\n        highlightedIndex.value = Math.min(highlightedIndex.value + 1, maxIndex)\n      }\n      break\n      \n    case 'ArrowUp':\n      event.preventDefault()\n      highlightedIndex.value = Math.max(highlightedIndex.value - 1, -1)\n      break\n      \n    case 'Enter':\n      event.preventDefault()\n      if (isDropdownOpen.value) {\n        if (highlightedIndex.value === filteredOptions.value.length && showAddNew.value) {\n          handleAddNew()\n        } else if (highlightedIndex.value >= 0 && highlightedIndex.value < filteredOptions.value.length) {\n          selectOption(filteredOptions.value[highlightedIndex.value])\n        }\n      }\n      break\n      \n    case 'Escape':\n      event.preventDefault()\n      closeDropdown()\n      inputRef.value?.blur()\n      break\n      \n    case 'Tab':\n      closeDropdown()\n      break\n  }\n}\n\nconst toggleDropdown = () => {\n  if (isDropdownOpen.value) {\n    closeDropdown()\n  } else {\n    openDropdown()\n    inputRef.value?.focus()\n  }\n}\n\nconst openDropdown = () => {\n  if (!props.disabled) {\n    isDropdownOpen.value = true\n    highlightedIndex.value = -1\n  }\n}\n\nconst closeDropdown = () => {\n  isDropdownOpen.value = false\n  highlightedIndex.value = -1\n}\n\n/**\n * Option selection\n */\nconst selectOption = (option: SegmentOption) => {\n  emit('update:modelValue', option.value)\n  searchQuery.value = ''\n  closeDropdown()\n  inputRef.value?.blur()\n}\n\nconst handleAddNew = () => {\n  if (searchQuery.value.trim()) {\n    const newValue = searchQuery.value.trim()\n    emit('add-new', newValue)\n    emit('update:modelValue', newValue)\n    searchQuery.value = ''\n    closeDropdown()\n    inputRef.value?.blur()\n  }\n}\n\n/**\n * Click outside handler\n */\nconst handleClickOutside = (event: Event) => {\n  const target = event.target as HTMLElement\n  const dropdown = document.getElementById(dropdownId.value)\n  const input = inputRef.value\n  \n  if (dropdown && input && !dropdown.contains(target) && !input.contains(target)) {\n    closeDropdown()\n  }\n}\n\n/**\n * Lifecycle hooks\n */\nonMounted(() => {\n  document.addEventListener('click', handleClickOutside)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', handleClickOutside)\n})\n\n/**\n * Watch for model value changes\n */\nwatch(() => props.modelValue, (newValue) => {\n  if (!isFocused.value) {\n    searchQuery.value = newValue || ''\n  }\n})\n</script>","<template>\n  <!-- Two-Column Layout for Tablet+ Screens -->\n  <div class=\"space-y-4 md:space-y-6\">\n    <!-- Required Fields (Column 1) -->\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6\">\n      <!-- Organization Name (Required) -->\n      <div class=\"md:col-span-2\">\n        <BaseInputField\n          name=\"name\"\n          label=\"Organization Name\"\n          type=\"text\"\n          :model-value=\"modelValue.name || ''\"\n          :error=\"errors.name\"\n          placeholder=\"Enter the organization name\"\n          required\n          autocomplete=\"organization\"\n          @update:model-value=\"updateField('name', $event)\"\n          @validate=\"validateField('name', $event)\"\n        />\n      </div>\n\n      <!-- Priority (Required - A/B/C/D mapped to lead_score) -->\n      <SelectField\n        name=\"priority\"\n        label=\"Priority\"\n        :model-value=\"priorityValue\"\n        :options=\"priorityOptions\"\n        :error=\"errors.priority || errors.lead_score\"\n        placeholder=\"Select organization priority\"\n        required\n        @update:model-value=\"updatePriority\"\n        @validate=\"validateField('priority', $event)\"\n      />\n\n      <!-- Organization Status -->\n      <SelectField\n        name=\"status\"\n        label=\"Organization Status\"\n        :model-value=\"modelValue.status || 'Prospect'\"\n        :options=\"statusOptions\"\n        :error=\"errors.status\"\n        placeholder=\"Select organization status\"\n        @update:model-value=\"updateField('status', $event)\"\n        @validate=\"validateField('status', $event)\"\n      />\n    </div>\n\n    <!-- Segment (Required - Full Width) -->\n    <SegmentSelector\n      name=\"segment\"\n      label=\"Segment\"\n      :model-value=\"modelValue.industry || ''\"\n      :error=\"errors.segment || errors.industry\"\n      :options=\"segmentOptions\"\n      :popular-segments=\"popularSegments\"\n      placeholder=\"Select or type an industry segment...\"\n      required\n      allow-add-new\n      @update:model-value=\"updateField('industry', $event)\"\n      @add-new=\"handleAddNewSegment\"\n      @search=\"handleSegmentSearch\"\n      @validate=\"validateField('segment', $event)\"\n    />\n\n    <!-- Advanced Options (Progressive Disclosure) -->\n    <div class=\"space-y-4\">\n      <button\n        type=\"button\"\n        @click=\"showAdvancedOptions = !showAdvancedOptions\"\n        class=\"flex items-center justify-between w-full p-3 text-left text-sm font-medium text-gray-700 bg-gray-50 hover:bg-gray-100 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n        :aria-expanded=\"showAdvancedOptions\"\n        aria-controls=\"advanced-options\"\n      >\n        <span class=\"flex items-center\">\n          <svg\n            :class=\"[\n              'h-4 w-4 mr-2 transition-transform duration-200',\n              showAdvancedOptions ? 'rotate-90' : ''\n            ]\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n              stroke-width=\"2\"\n              d=\"M9 5l7 7-7 7\"\n            />\n          </svg>\n          Advanced Options\n        </span>\n        <span class=\"text-xs text-gray-500\">\n          {{ showAdvancedOptions ? 'Hide' : 'Show' }} additional fields\n        </span>\n      </button>\n\n      <!-- Collapsible Advanced Fields -->\n      <div\n        v-show=\"showAdvancedOptions\"\n        id=\"advanced-options\"\n        class=\"space-y-4 pl-6 border-l-2 border-gray-200 animate-in slide-in-from-top-2 duration-200\"\n      >\n        <!-- Business Type & Additional Fields -->\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6\">\n          <!-- Principal/Distributor Selection (Mutually Exclusive) -->\n          <div class=\"space-y-3\">\n            <label class=\"block text-sm font-medium text-gray-700\">\n              Business Type\n            </label>\n            <div class=\"space-y-2\">\n              <div class=\"flex items-center\">\n                <input\n                  id=\"principal\"\n                  name=\"business-type\"\n                  type=\"checkbox\"\n                  :checked=\"isPrincipal\"\n                  @change=\"updateBusinessType('principal', ($event.target as HTMLInputElement).checked)\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"principal\" class=\"ml-2 block text-sm text-gray-900\">\n                  Principal\n                </label>\n              </div>\n              <div class=\"flex items-center\">\n                <input\n                  id=\"distributor\"\n                  name=\"business-type\"\n                  type=\"checkbox\"\n                  :checked=\"isDistributor\"\n                  @change=\"updateBusinessType('distributor', ($event.target as HTMLInputElement).checked)\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"distributor\" class=\"ml-2 block text-sm text-gray-900\">\n                  Distributor\n                </label>\n              </div>\n            </div>\n          </div>\n\n          <!-- Account Manager -->\n          <SelectField\n            name=\"account_manager_id\"\n            label=\"Account Manager\"\n            :model-value=\"modelValue.account_manager_id || ''\"\n            :options=\"accountManagerOptions\"\n            :error=\"errors.account_manager_id\"\n            placeholder=\"Select an account manager\"\n            @update:model-value=\"updateField('account_manager_id', $event)\"\n            @validate=\"validateField('account_manager_id', $event)\"\n          />\n        </div>\n\n        <!-- Distributor Selection (Only if NOT Distributor) -->\n        <SelectField\n          v-if=\"!isDistributor\"\n          name=\"distributor_id\"\n          label=\"Distributor\"\n          :model-value=\"modelValue.distributor_id || ''\"\n          :options=\"distributorOptions\"\n          :error=\"errors.distributor_id\"\n          placeholder=\"Select a distributor\"\n          @update:model-value=\"updateField('distributor_id', $event)\"\n          @validate=\"validateField('distributor_id', $event)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted } from 'vue'\nimport { organizationCreateSchema } from '@/types/organizations'\nimport type { OrganizationCreateForm } from '@/types/organizations'\nimport type { OrganizationStatus } from '@/types/database.types'\nimport BaseInputField from './BaseInputField.vue'\nimport SelectField from './SelectField.vue'\nimport SegmentSelector from './SegmentSelector.vue'\n\n/**\n * Props interface\n */\ninterface Props {\n  /** Form data */\n  modelValue: Partial<OrganizationCreateForm>\n  /** Validation errors */\n  errors: Record<string, string>\n  /** Loading state */\n  loading?: boolean\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  loading: false\n})\n\n/**\n * Event emissions\n */\ninterface Emits {\n  'update:modelValue': [value: Partial<OrganizationCreateForm>]\n  'validate': [stepNumber: number, isValid: boolean, errors: Record<string, string>]\n}\n\nconst emit = defineEmits<Emits>()\n\n// Progressive disclosure state\nconst showAdvancedOptions = ref(false)\n\n/**\n * Priority options (A/B/C/D mapped to lead_score)\n * A=90 (highest), B=70, C=50, D=30 (lowest)\n */\nconst priorityOptions = [\n  { value: 90, label: 'A', description: 'Highest priority - Strategic accounts and major opportunities' },\n  { value: 70, label: 'B', description: 'High priority - Important prospects and qualified leads' },\n  { value: 50, label: 'C', description: 'Medium priority - Regular prospects and opportunities' },\n  { value: 30, label: 'D', description: 'Low priority - New prospects and informational contacts' }\n]\n\n/**\n * Organization status options (updated)\n */\nconst statusOptions: Array<{ value: OrganizationStatus; label: string; description: string }> = [\n  { value: 'Prospect', label: 'Prospect', description: 'Potential customer or client' },\n  { value: 'Active', label: 'Active', description: 'Currently engaged organization' },\n  { value: 'Customer', label: 'Customer', description: 'Paying customer or client' },\n  { value: 'Partner', label: 'Partner', description: 'Business partner or alliance' },\n  { value: 'Vendor', label: 'Vendor', description: 'Service or product provider' },\n  { value: 'Inactive', label: 'Inactive', description: 'No longer active relationship' }\n]\n\n/**\n * Segment/Industry options (Food & Beverage prioritized)\n */\nconst segmentOptions = [\n  // Food & Beverage Industries (prioritized at top)\n  { value: 'Food & Beverage - Manufacturing', label: 'Food & Beverage - Manufacturing', description: 'Food and beverage production companies' },\n  { value: 'Food & Beverage - Distribution', label: 'Food & Beverage - Distribution', description: 'Food and beverage distribution companies' },\n  { value: 'Food & Beverage - Retail', label: 'Food & Beverage - Retail', description: 'Food and beverage retail outlets' },\n  { value: 'Food & Beverage - Restaurant', label: 'Food & Beverage - Restaurant', description: 'Restaurants and food service establishments' },\n  // Other industries\n  { value: 'Technology', label: 'Technology', description: 'Software, hardware, and tech services' },\n  { value: 'Healthcare', label: 'Healthcare', description: 'Medical and health services' },\n  { value: 'Finance', label: 'Finance', description: 'Banking and financial services' },\n  { value: 'Manufacturing', label: 'Manufacturing', description: 'Production and industrial' },\n  { value: 'Retail', label: 'Retail', description: 'Consumer goods and services' },\n  { value: 'Professional Services', label: 'Professional Services', description: 'Consulting and professional services' }\n]\n\n/**\n * Popular segments (Food & Beverage prioritized)\n */\nconst popularSegments = [\n  { value: 'Food & Beverage - Manufacturing', label: 'Food & Beverage - Manufacturing', count: 312 },\n  { value: 'Food & Beverage - Distribution', label: 'Food & Beverage - Distribution', count: 287 },\n  { value: 'Food & Beverage - Restaurant', label: 'Food & Beverage - Restaurant', count: 245 },\n  { value: 'Technology', label: 'Technology', count: 189 },\n  { value: 'Manufacturing', label: 'Manufacturing', count: 156 }\n]\n\n/**\n * Distributor options (mock data - would be loaded from API)\n */\nconst distributorOptions = [\n  { value: 'dist-1', label: 'ABC Distribution Corp', description: 'National food distributor' },\n  { value: 'dist-2', label: 'XYZ Supply Chain', description: 'Regional beverage distributor' },\n  { value: 'dist-3', label: 'Global Foods Distribution', description: 'International food distributor' }\n]\n\n/**\n * Account Manager options (mock data - would be loaded from API)\n */\nconst accountManagerOptions = [\n  { value: 'am-1', label: 'John Smith', description: 'Senior Account Manager' },\n  { value: 'am-2', label: 'Sarah Johnson', description: 'Account Manager - Food & Beverage' },\n  { value: 'am-3', label: 'Mike Davis', description: 'Regional Account Manager' }\n]\n\n/**\n * Computed properties\n */\nconst priorityValue = computed(() => {\n  const leadScore = props.modelValue.lead_score\n  if (leadScore === null || leadScore === undefined) return ''\n  \n  // Map lead_score back to A/B/C/D priority levels\n  if (leadScore >= 90) return 90  // A\n  if (leadScore >= 70) return 70  // B\n  if (leadScore >= 50) return 50  // C\n  return 30  // D\n})\n\n/**\n * Principal/Distributor computed properties\n */\nconst isPrincipal = computed(() => {\n  return props.modelValue.is_principal === true\n})\n\nconst isDistributor = computed(() => {\n  return props.modelValue.is_distributor === true\n})\n\n/**\n * Field update handlers\n */\nconst updateField = (field: keyof OrganizationCreateForm, value: any) => {\n  const updatedData = { ...props.modelValue, [field]: value }\n  emit('update:modelValue', updatedData)\n}\n\nconst updatePriority = (priorityLevel: string | number | (string | number)[]) => {\n  const value = Array.isArray(priorityLevel) ? priorityLevel[0] : priorityLevel\n  const numericValue = typeof value === 'string' ? parseInt(value) : value\n  updateField('lead_score', numericValue)\n}\n\n/**\n * Business type update handler (Principal/Distributor mutually exclusive)\n */\nconst updateBusinessType = (type: 'principal' | 'distributor', checked: boolean) => {\n  if (type === 'principal') {\n    if (checked) {\n      // Set as principal, unset distributor\n      updateField('is_principal', true)\n      updateField('is_distributor', false)\n      // Clear distributor_id when becoming a principal\n      updateField('distributor_id', '')\n    } else {\n      updateField('is_principal', false)\n    }\n  } else if (type === 'distributor') {\n    if (checked) {\n      // Set as distributor, unset principal\n      updateField('is_distributor', true)\n      updateField('is_principal', false)\n      // Clear distributor_id when becoming a distributor themselves\n      updateField('distributor_id', '')\n    } else {\n      updateField('is_distributor', false)\n    }\n  }\n}\n\n/**\n * Validation handlers\n */\nconst validateField = async (_fieldName: string, _value: any) => {\n  // Individual field validation will be handled by the parent component\n  // This component focuses on UI and data binding\n  await validateStep()\n}\n\nconst validateStep = async () => {\n  const errors: Record<string, string> = {}\n  let isValid = true\n  \n  try {\n    // Use yup schema for validation\n    const stepData = {\n      name: props.modelValue.name,\n      industry: props.modelValue.industry,\n      lead_score: props.modelValue.lead_score,\n      status: props.modelValue.status,\n      is_principal: props.modelValue.is_principal,\n      is_distributor: props.modelValue.is_distributor,\n      distributor_id: props.modelValue.distributor_id,\n      account_manager_id: props.modelValue.account_manager_id\n    }\n    \n    const stepSchema = organizationCreateSchema.pick([\n      'name', \n      'industry', \n      'lead_score', \n      'status'\n      // Note: is_principal, is_distributor, distributor_id, account_manager_id \n      // may not be in the existing schema yet - will need to be added\n    ])\n    await stepSchema.validate(stepData, { abortEarly: false })\n    \n  } catch (error: any) {\n    isValid = false\n    if (error.inner) {\n      error.inner.forEach((err: any) => {\n        if (err.path) {\n          // Map field names for display\n          const fieldName = err.path === 'industry' ? 'segment' : \n                           err.path === 'lead_score' ? 'priority' : err.path\n          errors[fieldName] = err.message\n        }\n      })\n    }\n  }\n  \n  // Emit validation result\n  emit('validate', 1, isValid, errors)\n}\n\n/**\n * Segment handling\n */\nconst handleAddNewSegment = (newSegment: string) => {\n  // Add new segment to the form data\n  updateField('industry', newSegment)\n  \n  // Could also emit event to parent to save new segment globally\n  // emit('add-new-segment', newSegment)\n}\n\nconst handleSegmentSearch = (_query: string) => {\n  // Could emit to parent to search for segments from API\n  // emit('search-segments', query)\n}\n\n/**\n * Watch for changes to trigger validation\n */\nwatch(\n  () => [\n    props.modelValue.name, \n    props.modelValue.industry, \n    props.modelValue.lead_score,\n    props.modelValue.status,\n    props.modelValue.is_principal,\n    props.modelValue.is_distributor,\n    props.modelValue.distributor_id,\n    props.modelValue.account_manager_id\n  ],\n  async () => {\n    await validateStep()\n  },\n  { immediate: true }\n)\n\n/**\n * Initial validation on mount\n */\nonMounted(async () => {\n  await validateStep()\n})\n</script>","<template>\n  <!-- Two-Column Layout for Tablet+ Screens -->\n  <div class=\"space-y-4 md:space-y-6\">\n    <!-- Address Information Header -->\n    <div>\n      <h3 class=\"text-base font-medium text-gray-900 mb-1\">Address Information</h3>\n      <p class=\"text-sm text-gray-600 mb-4\">\n        Provide the organization's address and contact details\n      </p>\n    </div>\n\n    <!-- Address Fields Grid -->\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6\">\n      <!-- Address Line 1 (Full Width) -->\n      <div class=\"md:col-span-2\">\n        <BaseInputField\n          name=\"address_line_1\"\n          label=\"Address Line 1\"\n          type=\"text\"\n          :model-value=\"modelValue.address_line_1 || ''\"\n          :error=\"errors.address_line_1\"\n          placeholder=\"Enter street address\"\n          @update:model-value=\"updateField('address_line_1', $event)\"\n          @validate=\"validateField('address_line_1', $event)\"\n        />\n      </div>\n\n      <!-- Address Line 2 (Full Width) -->\n      <div class=\"md:col-span-2\">\n        <BaseInputField\n          name=\"address_line_2\"\n          label=\"Address Line 2\"\n          type=\"text\"\n          :model-value=\"modelValue.address_line_2 || ''\"\n          :error=\"errors.address_line_2\"\n          placeholder=\"Apt, suite, unit, etc. (optional)\"\n          @update:model-value=\"updateField('address_line_2', $event)\"\n          @validate=\"validateField('address_line_2', $event)\"\n        />\n      </div>\n\n      <!-- City -->\n      <BaseInputField\n        name=\"city\"\n        label=\"City\"\n        type=\"text\"\n        :model-value=\"modelValue.city || ''\"\n        :error=\"errors.city\"\n        placeholder=\"Enter city\"\n        @update:model-value=\"updateField('city', $event)\"\n        @validate=\"validateField('city', $event)\"\n      />\n\n      <!-- State -->\n      <BaseInputField\n        name=\"state_province\"\n        label=\"State\"\n        type=\"text\"\n        :model-value=\"modelValue.state_province || ''\"\n        :error=\"errors.state_province\"\n        placeholder=\"Enter state\"\n        @update:model-value=\"updateField('state_province', $event)\"\n        @validate=\"validateField('state_province', $event)\"\n      />\n\n      <!-- Postal Code -->\n      <BaseInputField\n        name=\"postal_code\"\n        label=\"Postal Code\"\n        type=\"text\"\n        :model-value=\"modelValue.postal_code || ''\"\n        :error=\"errors.postal_code\"\n        placeholder=\"Enter postal/zip code\"\n        @update:model-value=\"updateField('postal_code', $event)\"\n        @validate=\"validateField('postal_code', $event)\"\n      />\n\n      <!-- Office Phone -->\n      <BaseInputField\n        name=\"primary_phone\"\n        label=\"Office Phone\"\n        type=\"tel\"\n        :model-value=\"modelValue.primary_phone || ''\"\n        :error=\"errors.primary_phone\"\n        placeholder=\"Enter office phone number\"\n        @update:model-value=\"updateField('primary_phone', $event)\"\n        @validate=\"validateField('primary_phone', $event)\"\n      />\n\n    </div>\n\n    <!-- Notes & Description -->\n    <div class=\"space-y-4\">\n      <div>\n        <h4 class=\"text-md font-medium text-gray-900 mb-2\">Notes & Description</h4>\n        <p class=\"text-sm text-gray-600\">\n          Additional information about the organization\n        </p>\n      </div>\n\n      <!-- Description/Notes -->\n      <div class=\"space-y-2\">\n        <label for=\"description\" class=\"block text-sm font-medium text-gray-700\">\n          Notes & Description\n        </label>\n        <textarea\n          id=\"description\"\n          name=\"description\"\n          rows=\"4\"\n          :value=\"modelValue.description || ''\"\n          :class=\"[\n            'w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2',\n            errors.description\n              ? 'border-red-500 focus:ring-red-500'\n              : 'border-gray-300 focus:ring-blue-500'\n          ]\"\n          placeholder=\"Enter any additional notes or description about the organization...\"\n          @input=\"updateField('description', ($event.target as HTMLTextAreaElement).value)\"\n          @blur=\"validateField('description', ($event.target as HTMLTextAreaElement).value)\"\n        />\n        <p v-if=\"errors.description\" class=\"text-sm text-red-600\">\n          {{ errors.description }}\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { watch, onMounted } from 'vue'\nimport type { OrganizationCreateForm } from '@/types/organizations'\nimport BaseInputField from './BaseInputField.vue'\n\n/**\n * Props interface\n */\ninterface Props {\n  /** Form data */\n  modelValue: Partial<OrganizationCreateForm>\n  /** Validation errors */\n  errors: Record<string, string>\n  /** Loading state */\n  loading?: boolean\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  loading: false\n})\n\n/**\n * Event emissions\n */\ninterface Emits {\n  'update:modelValue': [value: Partial<OrganizationCreateForm>]\n  'validate': [stepNumber: number, isValid: boolean, errors: Record<string, string>]\n}\n\nconst emit = defineEmits<Emits>()\n\n/**\n * Field update handlers\n */\nconst updateField = (field: keyof OrganizationCreateForm, value: any) => {\n  const updatedData = { ...props.modelValue, [field]: value }\n  emit('update:modelValue', updatedData)\n}\n\n/**\n * Validation handlers\n */\nconst validateField = (_fieldName: string, _value: any) => {\n  // Individual field validation\n  validateStep()\n}\n\nconst validateStep = () => {\n  const errors: Record<string, string> = {}\n  let isValid = true\n  \n  // Step 2 has no required fields, all fields are optional\n  \n  // Emit validation result\n  emit('validate', 2, isValid, errors)\n}\n\n/**\n * Watch for changes to trigger validation\n */\nwatch(\n  () => [\n    props.modelValue.address_line_1,\n    props.modelValue.address_line_2,\n    props.modelValue.city,\n    props.modelValue.state_province,\n    props.modelValue.postal_code,\n    props.modelValue.primary_phone,\n    props.modelValue.description\n  ],\n  () => {\n    validateStep()\n  },\n  { immediate: true }\n)\n\n/**\n * Initial validation on mount\n */\nonMounted(() => {\n  validateStep()\n})\n</script>","<template>\n  <div class=\"border border-gray-200 rounded-lg p-4 bg-gray-50\">\n    <!-- Contact Header -->\n    <div class=\"flex items-center justify-between mb-4\">\n      <div class=\"flex items-center space-x-3\">\n        <h4 class=\"text-md font-medium text-gray-900\">\n          Contact {{ contactNumber }}\n        </h4>\n        <button\n          v-if=\"!isPrimary && showSetPrimary\"\n          type=\"button\"\n          @click=\"$emit('set-primary')\"\n          class=\"inline-flex items-center px-2 py-1 text-xs font-medium rounded border border-gray-300 text-gray-700 bg-white hover:bg-blue-50 hover:text-blue-700 hover:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors\"\n        >\n          Set as Primary\n        </button>\n        <span\n          v-else-if=\"isPrimary\"\n          class=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\"\n        >\n          <svg class=\"w-3 h-3 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n          </svg>\n          Primary Contact\n        </span>\n      </div>\n      <button\n        v-if=\"showRemove\"\n        type=\"button\"\n        @click=\"$emit('remove')\"\n        class=\"text-red-600 hover:text-red-800 transition-colors\"\n        :aria-label=\"`Remove contact ${contactNumber}`\"\n      >\n        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n        </svg>\n      </button>\n    </div>\n\n    <!-- Contact Form Fields -->\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n      <!-- First Name (Required) -->\n      <BaseInputField\n        :name=\"`contact_${contactNumber}_first_name`\"\n        label=\"First Name\"\n        type=\"text\"\n        :model-value=\"modelValue.first_name\"\n        :error=\"errors.first_name\"\n        placeholder=\"Enter first name\"\n        required\n        @update:model-value=\"updateField('first_name', $event)\"\n        @blur=\"validateField('first_name')\"\n      />\n\n      <!-- Last Name (Required) -->\n      <BaseInputField\n        :name=\"`contact_${contactNumber}_last_name`\"\n        label=\"Last Name\"\n        type=\"text\"\n        :model-value=\"modelValue.last_name\"\n        :error=\"errors.last_name\"\n        placeholder=\"Enter last name\"\n        required\n        @update:model-value=\"updateField('last_name', $event)\"\n        @blur=\"validateField('last_name')\"\n      />\n\n      <!-- Email (Required) -->\n      <BaseInputField\n        :name=\"`contact_${contactNumber}_email`\"\n        label=\"Email Address\"\n        type=\"email\"\n        :model-value=\"modelValue.email\"\n        :error=\"errors.email\"\n        placeholder=\"Enter email address\"\n        required\n        autocomplete=\"email\"\n        @update:model-value=\"updateField('email', $event)\"\n        @blur=\"validateField('email')\"\n      />\n\n      <!-- Phone -->\n      <BaseInputField\n        :name=\"`contact_${contactNumber}_phone`\"\n        label=\"Phone Number\"\n        type=\"tel\"\n        :model-value=\"modelValue.phone\"\n        :error=\"errors.phone\"\n        placeholder=\"Enter phone number\"\n        autocomplete=\"tel\"\n        @update:model-value=\"updateField('phone', $event)\"\n        @blur=\"validateField('phone')\"\n      />\n\n      <!-- Job Title/Position -->\n      <BaseInputField\n        :name=\"`contact_${contactNumber}_position`\"\n        label=\"Job Title\"\n        type=\"text\"\n        :model-value=\"modelValue.position\"\n        :error=\"errors.position\"\n        placeholder=\"Enter job title\"\n        autocomplete=\"organization\"\n        @update:model-value=\"updateField('position', $event)\"\n      />\n\n      <!-- Department -->\n      <BaseInputField\n        :name=\"`contact_${contactNumber}_department`\"\n        label=\"Department\"\n        type=\"text\"\n        :model-value=\"modelValue.department\"\n        :error=\"errors.department\"\n        placeholder=\"Enter department\"\n        @update:model-value=\"updateField('department', $event)\"\n      />\n    </div>\n\n    <!-- Contact Preview -->\n    <div v-if=\"hasValidBasicInfo\" class=\"mt-4 p-3 bg-white border border-gray-200 rounded-md\">\n      <div class=\"flex items-start space-x-3\">\n        <div class=\"flex-shrink-0\">\n          <div class=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\">\n            <svg class=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n            </svg>\n          </div>\n        </div>\n        <div class=\"flex-1 min-w-0\">\n          <p class=\"text-sm font-medium text-gray-900\">\n            {{ modelValue.first_name }} {{ modelValue.last_name }}\n            <span\n              v-if=\"isPrimary\"\n              class=\"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800\"\n            >\n              Primary\n            </span>\n          </p>\n          <p class=\"text-sm text-gray-500\">{{ modelValue.email }}</p>\n          <p v-if=\"modelValue.position\" class=\"text-xs text-gray-400\">\n            {{ modelValue.position }}\n            <span v-if=\"modelValue.department\"> â€¢ {{ modelValue.department }}</span>\n          </p>\n          <p v-if=\"modelValue.phone\" class=\"text-xs text-gray-400\">{{ modelValue.phone }}</p>\n        </div>\n      </div>\n    </div>\n\n    <!-- Validation Summary -->\n    <div v-if=\"validationSummary\" class=\"mt-3\">\n      <div \n        :class=\"[\n          'flex items-center text-xs px-2 py-1 rounded',\n          validationSummary.isValid \n            ? 'bg-green-50 text-green-700' \n            : 'bg-red-50 text-red-700'\n        ]\"\n      >\n        <svg \n          :class=\"[\n            'w-4 h-4 mr-1',\n            validationSummary.isValid ? 'text-green-400' : 'text-red-400'\n          ]\"\n          fill=\"none\" \n          stroke=\"currentColor\" \n          viewBox=\"0 0 24 24\"\n        >\n          <path \n            v-if=\"validationSummary.isValid\"\n            stroke-linecap=\"round\" \n            stroke-linejoin=\"round\" \n            stroke-width=\"2\" \n            d=\"M5 13l4 4L19 7\" \n          />\n          <path \n            v-else\n            stroke-linecap=\"round\" \n            stroke-linejoin=\"round\" \n            stroke-width=\"2\" \n            d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" \n          />\n        </svg>\n        {{ validationSummary.message }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport type { NewContact } from './ContactMultiSelector.vue'\nimport BaseInputField from './BaseInputField.vue'\n\n/**\n * Props interface\n */\ninterface Props {\n  /** Contact data */\n  modelValue: NewContact\n  /** Validation errors */\n  errors: Record<string, string>\n  /** Contact number for display */\n  contactNumber: number\n  /** Whether to show remove button */\n  showRemove?: boolean\n  /** Whether this is the primary contact */\n  isPrimary?: boolean\n  /** Whether to show set primary button */\n  showSetPrimary?: boolean\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  showRemove: true,\n  isPrimary: false,\n  showSetPrimary: true\n})\n\n/**\n * Event emissions\n */\ninterface Emits {\n  'update:modelValue': [value: NewContact]\n  'remove': []\n  'set-primary': []\n}\n\nconst emit = defineEmits<Emits>()\n\n/**\n * Computed properties\n */\nconst hasValidBasicInfo = computed(() => {\n  return props.modelValue.first_name?.trim() && \n         props.modelValue.last_name?.trim() && \n         props.modelValue.email?.trim()\n})\n\nconst validationSummary = computed(() => {\n  const errors = Object.keys(props.errors).length\n  const requiredFields = ['first_name', 'last_name', 'email']\n  const filledRequired = requiredFields.filter(field => \n    props.modelValue[field as keyof NewContact]?.trim()\n  ).length\n  \n  if (errors > 0) {\n    return {\n      isValid: false,\n      message: `${errors} validation error${errors > 1 ? 's' : ''} found`\n    }\n  } else if (filledRequired === requiredFields.length) {\n    return {\n      isValid: true,\n      message: 'Contact information is complete'\n    }\n  } else {\n    return {\n      isValid: false,\n      message: `${requiredFields.length - filledRequired} required field${requiredFields.length - filledRequired > 1 ? 's' : ''} remaining`\n    }\n  }\n})\n\n/**\n * Field update handler\n */\nconst updateField = (field: keyof NewContact, value: string | number | (string | number)[]) => {\n  const stringValue = Array.isArray(value) ? value[0]?.toString() || '' : value?.toString() || ''\n  \n  const updatedContact: NewContact = {\n    ...props.modelValue,\n    [field]: stringValue\n  }\n  \n  emit('update:modelValue', updatedContact)\n}\n\n/**\n * Field validation (can be expanded for real-time validation)\n */\nconst validateField = (fieldName: string) => {\n  // Individual field validation can be added here\n  // For now, validation is handled by the parent component\n  console.debug(`Validating field: ${fieldName}`)\n}\n</script>","<template>\n  <div class=\"space-y-6\">\n    <!-- Selection Mode Toggle -->\n    <div class=\"flex items-center justify-center space-x-4\">\n      <button\n        type=\"button\"\n        :class=\"[\n          'px-4 py-2 rounded-md font-medium text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors',\n          mode === 'select'\n            ? 'bg-blue-100 text-blue-800 border border-blue-200'\n            : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n        ]\"\n        @click=\"setMode('select')\"\n      >\n        <svg class=\"w-4 h-4 mr-2 inline\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n        </svg>\n        Select Existing Contacts\n      </button>\n      <button\n        type=\"button\"\n        :class=\"[\n          'px-4 py-2 rounded-md font-medium text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors',\n          mode === 'create'\n            ? 'bg-blue-100 text-blue-800 border border-blue-200'\n            : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n        ]\"\n        @click=\"setMode('create')\"\n      >\n        <svg class=\"w-4 h-4 mr-2 inline\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n        </svg>\n        Create New Contacts\n      </button>\n    </div>\n\n    <!-- Existing Contact Selection Mode -->\n    <div v-if=\"mode === 'select'\" class=\"space-y-4\">\n      <!-- Search Bar -->\n      <div class=\"relative\">\n        <BaseInputField\n          name=\"contact_search\"\n          label=\"Search Contacts\"\n          type=\"text\"\n          :model-value=\"searchQuery\"\n          placeholder=\"Type to search for existing contacts...\"\n          @update:model-value=\"(value) => updateSearch(String(value))\"\n        >\n          <template #icon>\n            <svg class=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n            </svg>\n          </template>\n        </BaseInputField>\n      </div>\n\n      <!-- Contact List -->\n      <div v-if=\"filteredContacts.length > 0\" class=\"space-y-2\">\n        <div class=\"flex items-center justify-between\">\n          <h4 class=\"text-sm font-medium text-gray-700\">Available Contacts</h4>\n          <span class=\"text-xs text-gray-500\">{{ filteredContacts.length }} found</span>\n        </div>\n        \n        <div class=\"max-h-64 overflow-y-auto border border-gray-200 rounded-md bg-white\">\n          <div\n            v-for=\"contact in filteredContacts\"\n            :key=\"contact.id\"\n            class=\"flex items-center justify-between p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 transition-colors\"\n          >\n            <div class=\"flex items-center space-x-3\">\n              <input\n                :id=\"`contact-${contact.id}`\"\n                type=\"checkbox\"\n                :checked=\"selectedContactIds.includes(contact.id)\"\n                @change=\"toggleContact(contact.id, ($event.target as HTMLInputElement).checked)\"\n                class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n              />\n              <div class=\"flex-1\">\n                <label\n                  :for=\"`contact-${contact.id}`\"\n                  class=\"text-sm font-medium text-gray-900 cursor-pointer block\"\n                >\n                  {{ contact.first_name }} {{ contact.last_name }}\n                </label>\n                <p class=\"text-xs text-gray-500\">{{ contact.email }}</p>\n                <p v-if=\"contact.position\" class=\"text-xs text-gray-400\">{{ contact.position }}</p>\n              </div>\n            </div>\n            <div class=\"flex items-center space-x-2\">\n              <span\n                v-if=\"getPrimaryContactId() === contact.id\"\n                class=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\"\n              >\n                Primary\n              </span>\n              <button\n                v-if=\"selectedContactIds.includes(contact.id)\"\n                type=\"button\"\n                @click=\"setPrimaryContact(contact.id)\"\n                :class=\"[\n                  'text-xs px-2 py-1 rounded border transition-colors',\n                  getPrimaryContactId() === contact.id\n                    ? 'bg-blue-50 text-blue-600 border-blue-200 cursor-default'\n                    : 'bg-gray-50 text-gray-600 border-gray-200 hover:bg-blue-50 hover:text-blue-600'\n                ]\"\n                :disabled=\"getPrimaryContactId() === contact.id\"\n              >\n                {{ getPrimaryContactId() === contact.id ? 'Primary' : 'Set Primary' }}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- No Results -->\n      <div v-else-if=\"searchQuery && !isLoading\" class=\"text-center py-8\">\n        <svg class=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n        </svg>\n        <p class=\"mt-2 text-sm text-gray-500\">No contacts found matching \"{{ searchQuery }}\"</p>\n        <button\n          type=\"button\"\n          @click=\"setMode('create')\"\n          class=\"mt-2 text-sm text-blue-600 hover:text-blue-500\"\n        >\n          Create a new contact instead\n        </button>\n      </div>\n\n      <!-- Loading State -->\n      <div v-if=\"isLoading\" class=\"text-center py-4\">\n        <div class=\"inline-flex items-center\">\n          <svg class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\">\n            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\" />\n            <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\n          </svg>\n          <span class=\"text-sm text-gray-600\">Searching contacts...</span>\n        </div>\n      </div>\n\n      <!-- Selected Contacts Summary -->\n      <div v-if=\"selectedContactIds.length > 0\" class=\"mt-6\">\n        <div class=\"flex items-center justify-between mb-3\">\n          <h4 class=\"text-sm font-medium text-gray-700\">\n            Selected Contacts ({{ selectedContactIds.length }})\n          </h4>\n          <button\n            type=\"button\"\n            @click=\"clearSelection\"\n            class=\"text-xs text-gray-500 hover:text-gray-700\"\n          >\n            Clear all\n          </button>\n        </div>\n        <div class=\"space-y-2\">\n          <div\n            v-for=\"contactId in selectedContactIds\"\n            :key=\"contactId\"\n            class=\"flex items-center justify-between bg-blue-50 border border-blue-200 p-3 rounded-md\"\n          >\n            <div class=\"flex items-center space-x-3\">\n              <div class=\"flex-1\">\n                <span class=\"text-sm font-medium text-gray-900\">\n                  {{ getContactName(contactId) }}\n                </span>\n                <span\n                  v-if=\"getPrimaryContactId() === contactId\"\n                  class=\"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800\"\n                >\n                  Primary Contact\n                </span>\n              </div>\n            </div>\n            <button\n              type=\"button\"\n              @click=\"removeContact(contactId)\"\n              class=\"text-red-600 hover:text-red-800 transition-colors\"\n              :aria-label=\"`Remove ${getContactName(contactId)}`\"\n            >\n              <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Create New Contacts Mode -->\n    <div v-else-if=\"mode === 'create'\" class=\"space-y-4\">\n      <!-- Add Contact Button -->\n      <div class=\"text-center\">\n        <button\n          type=\"button\"\n          @click=\"addNewContact\"\n          class=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\n        >\n          <svg class=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n          </svg>\n          Add New Contact\n        </button>\n      </div>\n\n      <!-- New Contact Forms -->\n      <div v-if=\"newContacts.length > 0\" class=\"space-y-6\">\n        <QuickContactForm\n          v-for=\"(contact, index) in newContacts\"\n          :key=\"contact.tempId\"\n          :model-value=\"contact\"\n          :errors=\"contactErrors[contact.tempId] || {}\"\n          :contact-number=\"index + 1\"\n          :show-remove=\"newContacts.length > 1\"\n          :is-primary=\"primaryContactIndex === index\"\n          @update:model-value=\"updateNewContact(index, $event)\"\n          @remove=\"removeNewContact(index)\"\n          @set-primary=\"setPrimaryContactIndex(index)\"\n        />\n      </div>\n\n      <!-- No Contacts Message -->\n      <div v-else class=\"text-center py-8\">\n        <svg class=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n        </svg>\n        <p class=\"mt-2 text-sm text-gray-500\">No contacts added yet</p>\n        <p class=\"text-xs text-gray-400\">Click \"Add New Contact\" to get started</p>\n      </div>\n    </div>\n\n    <!-- Global Error Display -->\n    <div v-if=\"error\" class=\"p-3 bg-red-50 border border-red-200 rounded-md\" role=\"alert\">\n      <div class=\"flex items-start\">\n        <svg class=\"w-5 h-5 text-red-400 mr-2 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n        </svg>\n        <p class=\"text-sm text-red-700\">{{ error }}</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted } from 'vue'\nimport { useContactStore } from '@/stores/contactStore'\nimport BaseInputField from './BaseInputField.vue'\nimport QuickContactForm from './QuickContactForm.vue'\n\n/**\n * New Contact Interface\n */\nexport interface NewContact {\n  tempId: string\n  first_name: string\n  last_name: string\n  email: string\n  phone: string\n  position: string\n  department: string\n}\n\n/**\n * Contact Data Interface\n */\nexport interface ContactData {\n  mode: 'select' | 'create'\n  selectedContactIds: string[]\n  newContacts: NewContact[]\n  primaryContactId?: string\n  primaryContactIndex?: number\n}\n\n/**\n * Props interface\n */\ninterface Props {\n  /** Initial contact data */\n  modelValue: ContactData\n  /** Validation errors */\n  error?: string\n  /** Loading state */\n  loading?: boolean\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  loading: false\n})\n\n/**\n * Event emissions\n */\ninterface Emits {\n  'update:modelValue': [value: ContactData]\n  'validate': [isValid: boolean, errors: Record<string, string>]\n}\n\nconst emit = defineEmits<Emits>()\n\n// Contact store\nconst contactStore = useContactStore()\n\n// Local state\nconst mode = ref<'select' | 'create'>(props.modelValue.mode || 'select')\nconst searchQuery = ref('')\nconst selectedContactIds = ref<string[]>(props.modelValue.selectedContactIds || [])\nconst newContacts = ref<NewContact[]>(props.modelValue.newContacts || [])\nconst primaryContactIndex = ref<number>(props.modelValue.primaryContactIndex ?? -1)\nconst contactErrors = ref<Record<string, Record<string, string>>>({})\nconst isLoading = ref(false)\n\n/**\n * Computed properties\n */\nconst filteredContacts = computed(() => {\n  if (!searchQuery.value) {\n    return contactStore.contacts.slice(0, 20) // Show first 20 contacts by default\n  }\n  \n  const query = searchQuery.value.toLowerCase()\n  return contactStore.contacts.filter(contact => \n    contact.first_name?.toLowerCase().includes(query) ||\n    contact.last_name?.toLowerCase().includes(query) ||\n    contact.email?.toLowerCase().includes(query) ||\n    contact.position?.toLowerCase().includes(query)\n  ).slice(0, 50) // Limit search results\n})\n\n/**\n * Mode management\n */\nconst setMode = (newMode: 'select' | 'create') => {\n  mode.value = newMode\n  \n  // Clear data when switching modes\n  if (newMode === 'select') {\n    newContacts.value = []\n    primaryContactIndex.value = -1\n    contactErrors.value = {}\n  } else {\n    selectedContactIds.value = []\n    searchQuery.value = ''\n  }\n  \n  emitUpdate()\n}\n\n/**\n * Search functionality\n */\nconst updateSearch = async (query: string) => {\n  searchQuery.value = query\n  \n  if (query.length >= 2) {\n    isLoading.value = true\n    try {\n      await contactStore.searchContacts(query)\n    } finally {\n      isLoading.value = false\n    }\n  }\n}\n\n/**\n * Contact selection handlers\n */\nconst toggleContact = (contactId: string, selected: boolean) => {\n  if (selected) {\n    if (!selectedContactIds.value.includes(contactId)) {\n      selectedContactIds.value.push(contactId)\n      \n      // Set as primary if it's the first selected contact\n      if (selectedContactIds.value.length === 1) {\n        setPrimaryContact(contactId)\n      }\n    }\n  } else {\n    selectedContactIds.value = selectedContactIds.value.filter(id => id !== contactId)\n    \n    // If removing primary contact, set first remaining as primary\n    if (getPrimaryContactId() === contactId && selectedContactIds.value.length > 0) {\n      setPrimaryContact(selectedContactIds.value[0])\n    }\n  }\n  \n  emitUpdate()\n}\n\nconst removeContact = (contactId: string) => {\n  selectedContactIds.value = selectedContactIds.value.filter(id => id !== contactId)\n  \n  // If removing primary contact, set first remaining as primary\n  if (getPrimaryContactId() === contactId && selectedContactIds.value.length > 0) {\n    setPrimaryContact(selectedContactIds.value[0])\n  }\n  \n  emitUpdate()\n}\n\nconst clearSelection = () => {\n  selectedContactIds.value = []\n  emitUpdate()\n}\n\nconst setPrimaryContact = (contactId: string) => {\n  // Store primary contact ID in model value\n  emitUpdate({ primaryContactId: contactId })\n}\n\nconst getPrimaryContactId = (): string | undefined => {\n  return props.modelValue.primaryContactId || selectedContactIds.value[0]\n}\n\nconst getContactName = (contactId: string): string => {\n  const contact = contactStore.contacts.find(c => c.id === contactId)\n  return contact ? `${contact.first_name} ${contact.last_name}` : 'Unknown Contact'\n}\n\n/**\n * New contact creation handlers\n */\nconst addNewContact = () => {\n  const newContact: NewContact = {\n    tempId: `temp_${Date.now()}_${Math.random()}`,\n    first_name: '',\n    last_name: '',\n    email: '',\n    phone: '',\n    position: '',\n    department: ''\n  }\n  \n  newContacts.value.push(newContact)\n  \n  // Set as primary if it's the first contact\n  if (newContacts.value.length === 1) {\n    primaryContactIndex.value = 0\n  }\n  \n  emitUpdate()\n}\n\nconst removeNewContact = (index: number) => {\n  const removedContact = newContacts.value[index]\n  newContacts.value.splice(index, 1)\n  \n  // Clean up validation errors\n  if (contactErrors.value[removedContact.tempId]) {\n    delete contactErrors.value[removedContact.tempId]\n  }\n  \n  // Update primary contact index\n  if (primaryContactIndex.value === index) {\n    primaryContactIndex.value = newContacts.value.length > 0 ? 0 : -1\n  } else if (primaryContactIndex.value > index) {\n    primaryContactIndex.value--\n  }\n  \n  emitUpdate()\n}\n\nconst updateNewContact = (index: number, updatedContact: NewContact) => {\n  if (newContacts.value[index]) {\n    newContacts.value[index] = { ...updatedContact }\n    \n    // Clear validation errors for this contact\n    if (contactErrors.value[updatedContact.tempId]) {\n      contactErrors.value[updatedContact.tempId] = {}\n    }\n    \n    emitUpdate()\n  }\n}\n\nconst setPrimaryContactIndex = (index: number) => {\n  primaryContactIndex.value = index\n  emitUpdate()\n}\n\n/**\n * Emit updated data\n */\nconst emitUpdate = (overrides: Partial<ContactData> = {}) => {\n  const contactData: ContactData = {\n    mode: mode.value,\n    selectedContactIds: [...selectedContactIds.value],\n    newContacts: [...newContacts.value],\n    primaryContactId: getPrimaryContactId(),\n    primaryContactIndex: primaryContactIndex.value,\n    ...overrides\n  }\n  \n  emit('update:modelValue', contactData)\n  \n  // Validate\n  const isValid = validateContacts()\n  emit('validate', isValid, {})\n}\n\n/**\n * Validation\n */\nconst validateContacts = (): boolean => {\n  const errors: Record<string, string> = {}\n  let isValid = true\n  \n  if (mode.value === 'select') {\n    // Must have at least one selected contact\n    if (selectedContactIds.value.length === 0) {\n      errors.contacts = 'Please select at least one contact'\n      isValid = false\n    }\n  } else if (mode.value === 'create') {\n    // Must have at least one new contact and all must be valid\n    if (newContacts.value.length === 0) {\n      errors.contacts = 'Please add at least one contact'\n      isValid = false\n    } else {\n      // Validate each new contact\n      newContacts.value.forEach((contact) => {\n        const contactErr: Record<string, string> = {}\n        \n        if (!contact.first_name.trim()) {\n          contactErr.first_name = 'First name is required'\n          isValid = false\n        }\n        \n        if (!contact.last_name.trim()) {\n          contactErr.last_name = 'Last name is required'\n          isValid = false\n        }\n        \n        if (!contact.email.trim()) {\n          contactErr.email = 'Email is required'\n          isValid = false\n        } else {\n          const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n          if (!emailRegex.test(contact.email)) {\n            contactErr.email = 'Please enter a valid email address'\n            isValid = false\n          }\n        }\n        \n        if (Object.keys(contactErr).length > 0) {\n          contactErrors.value[contact.tempId] = contactErr\n        }\n      })\n    }\n  }\n  \n  return isValid\n}\n\n/**\n * Initialize from props\n */\nconst initializeFromProps = () => {\n  mode.value = props.modelValue.mode || 'select'\n  selectedContactIds.value = [...(props.modelValue.selectedContactIds || [])]\n  newContacts.value = [...(props.modelValue.newContacts || [])]\n  primaryContactIndex.value = props.modelValue.primaryContactIndex ?? -1\n}\n\n/**\n * Watch for prop changes\n */\nwatch(() => props.modelValue, initializeFromProps, { deep: true })\n\n/**\n * Load contacts on mount\n */\nonMounted(async () => {\n  await contactStore.fetchContacts()\n  initializeFromProps()\n  \n  // Initial validation\n  const isValid = validateContacts()\n  emit('validate', isValid, {})\n})\n</script>","<template>\n  <div class=\"space-y-6\">\n    <!-- Contact Management Section -->\n    <div class=\"space-y-4\">\n      <div class=\"text-center\">\n        <h3 class=\"text-lg font-medium text-gray-900 mb-2\">Contact Information</h3>\n        <p class=\"text-sm text-gray-600 mb-6\">\n          Select existing contacts or create new contacts for this organization\n        </p>\n      </div>\n\n      <!-- Contact Multi-Selector Component -->\n      <ContactMultiSelector\n        :model-value=\"contactData\"\n        :error=\"contactError\"\n        :loading=\"loading\"\n        @update:model-value=\"handleContactDataUpdate\"\n        @validate=\"handleContactValidation\"\n      />\n\n      <!-- Contact Assignment Summary -->\n      <div v-if=\"hasContacts\" class=\"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-md\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-blue-400 mr-3 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div class=\"flex-1\">\n            <h4 class=\"text-sm font-medium text-blue-800\">Contact Assignment</h4>\n            <div class=\"mt-2 text-sm text-blue-700\">\n              <p v-if=\"contactData.mode === 'select'\">\n                {{ contactData.selectedContactIds.length }} existing contact{{ contactData.selectedContactIds.length !== 1 ? 's' : '' }} will be linked to this organization.\n              </p>\n              <p v-else>\n                {{ contactData.newContacts.length }} new contact{{ contactData.newContacts.length !== 1 ? 's' : '' }} will be created and linked to this organization.\n              </p>\n              <p v-if=\"primaryContactName\" class=\"mt-1\">\n                <strong>{{ primaryContactName }}</strong> will be set as the primary contact.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted } from 'vue'\nimport { useContactStore } from '@/stores/contactStore'\nimport type { OrganizationCreateForm } from '@/types/organizations'\nimport ContactMultiSelector from './ContactMultiSelector.vue'\nimport type { ContactData } from './ContactMultiSelector.vue'\n\n/**\n * Props interface\n */\ninterface Props {\n  /** Form data */\n  modelValue: Partial<OrganizationCreateForm>\n  /** Validation errors */\n  errors: Record<string, string>\n  /** Loading state */\n  loading?: boolean\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  loading: false\n})\n\n/**\n * Event emissions\n */\ninterface Emits {\n  'update:modelValue': [value: Partial<OrganizationCreateForm>]\n  'validate': [stepNumber: number, isValid: boolean, errors: Record<string, string>]\n}\n\nconst emit = defineEmits<Emits>()\n\n/**\n * Contact Store\n */\nconst contactStore = useContactStore()\n\n/**\n * Contact data and validation\n */\nconst contactData = ref<ContactData>({\n  mode: 'select',\n  selectedContactIds: [],\n  newContacts: [],\n  primaryContactId: undefined,\n  primaryContactIndex: -1\n})\n\nconst contactError = ref<string>('')\nconst isContactDataValid = ref(false)\n\n/**\n * Computed properties\n */\nconst hasContacts = computed(() => {\n  return contactData.value.mode === 'select'\n    ? contactData.value.selectedContactIds.length > 0\n    : contactData.value.newContacts.length > 0\n})\n\nconst primaryContactName = computed(() => {\n  if (contactData.value.mode === 'select' && contactData.value.primaryContactId) {\n    const contact = contactStore.contacts.find(c => c.id === contactData.value.primaryContactId)\n    return contact ? `${contact.first_name} ${contact.last_name}` : undefined\n  } else if (contactData.value.mode === 'create' && contactData.value.primaryContactIndex !== undefined && contactData.value.primaryContactIndex >= 0) {\n    const contact = contactData.value.newContacts[contactData.value.primaryContactIndex]\n    return contact ? `${contact.first_name} ${contact.last_name}` : undefined\n  }\n  return undefined\n})\n\n/**\n * Contact data update handler\n */\nconst handleContactDataUpdate = (newContactData: ContactData) => {\n  contactData.value = { ...newContactData }\n  updateFormData()\n}\n\n/**\n * Contact validation handler\n */\nconst handleContactValidation = (isValid: boolean, errors: Record<string, string>) => {\n  isContactDataValid.value = isValid\n  contactError.value = errors.contacts || ''\n  \n  // Emit validation result for the step\n  emit('validate', 3, isValid, errors)\n}\n\n/**\n * Update form data with contact information\n */\nconst updateFormData = () => {\n  const updatedData = { ...props.modelValue }\n  \n  // Store contact data in custom fields\n  updatedData.custom_fields = {\n    ...updatedData.custom_fields,\n    contact_mode: contactData.value.mode,\n    selected_contact_ids: contactData.value.selectedContactIds,\n    new_contacts: contactData.value.newContacts,\n    primary_contact_id: contactData.value.primaryContactId,\n    primary_contact_index: contactData.value.primaryContactIndex\n  }\n  \n  emit('update:modelValue', updatedData)\n}\n\n/**\n * Initialize from existing form data\n */\nconst initializeFromFormData = () => {\n  const customFields = props.modelValue.custom_fields as any\n  if (customFields) {\n    contactData.value = {\n      mode: customFields.contact_mode || 'select',\n      selectedContactIds: customFields.selected_contact_ids || [],\n      newContacts: customFields.new_contacts || [],\n      primaryContactId: customFields.primary_contact_id,\n      primaryContactIndex: customFields.primary_contact_index ?? -1\n    }\n  }\n}\n\n/**\n * Watch for form data changes from parent\n */\nwatch(\n  () => props.modelValue.custom_fields,\n  () => {\n    initializeFromFormData()\n  },\n  { deep: true }\n)\n\n/**\n * Initialize on mount\n */\nonMounted(async () => {\n  // Load contacts from store\n  await contactStore.fetchContacts()\n  \n  // Initialize from existing form data if available\n  initializeFromFormData()\n})\n</script>","<template>\n  <div class=\"max-w-4xl mx-auto\">\n    <!-- Compact Progress Indicator -->\n    <div class=\"mb-3\">\n      <div class=\"flex items-center justify-center space-x-2 mb-2\">\n        <div\n          v-for=\"(step, index) in steps\"\n          :key=\"step.id\"\n          :class=\"[\n            'h-1.5 w-6 rounded-full transition-colors duration-200',\n            index + 1 <= currentStep ? 'bg-primary-600' : 'bg-gray-200'\n          ]\"\n          :aria-label=\"`Step ${index + 1}: ${step.title}`\"\n        />\n      </div>\n      \n      <!-- Compact Step Header -->\n      <div class=\"text-center\">\n        <h2 class=\"text-base font-medium text-gray-900\">\n          {{ currentStepData.title }}\n        </h2>\n        <p class=\"text-xs text-gray-600 mt-0.5\">\n          {{ currentStepData.description }}\n        </p>\n      </div>\n    </div>\n\n    <!-- Auto-save Status -->\n    <div\n      v-if=\"autoSaveStatus\"\n      class=\"mb-3 flex items-center justify-center text-xs\"\n    >\n      <div\n        :class=\"[\n          'flex items-center space-x-2 px-3 py-1 rounded-full',\n          autoSaveStatus === 'saving' ? 'bg-blue-50 text-blue-700' :\n          autoSaveStatus === 'saved' ? 'bg-green-50 text-green-700' :\n          'bg-red-50 text-red-700'\n        ]\"\n      >\n        <!-- Saving Spinner -->\n        <svg\n          v-if=\"autoSaveStatus === 'saving'\"\n          class=\"animate-spin h-4 w-4\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n        >\n          <circle\n            class=\"opacity-25\"\n            cx=\"12\"\n            cy=\"12\"\n            r=\"10\"\n            stroke=\"currentColor\"\n            stroke-width=\"4\"\n          />\n          <path\n            class=\"opacity-75\"\n            fill=\"currentColor\"\n            d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n          />\n        </svg>\n        \n        <!-- Saved Check -->\n        <svg\n          v-else-if=\"autoSaveStatus === 'saved'\"\n          class=\"h-4 w-4\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M5 13l4 4L19 7\"\n          />\n        </svg>\n        \n        <!-- Error Icon -->\n        <svg\n          v-else\n          class=\"h-4 w-4\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n          />\n        </svg>\n\n        <span>\n          {{ \n            autoSaveStatus === 'saving' ? 'Saving draft...' :\n            autoSaveStatus === 'saved' ? 'Draft saved' :\n            'Failed to save draft'\n          }}\n        </span>\n      </div>\n    </div>\n\n    <!-- Global Form Errors -->\n    <div\n      v-if=\"globalError\"\n      class=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-md\"\n      role=\"alert\"\n    >\n      <div class=\"flex items-start\">\n        <svg\n          class=\"h-5 w-5 text-red-400 mr-3 mt-0.5 flex-shrink-0\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n          />\n        </svg>\n        <div>\n          <h3 class=\"text-sm font-medium text-red-800\">Error</h3>\n          <p class=\"mt-1 text-sm text-red-700\">{{ globalError }}</p>\n        </div>\n      </div>\n    </div>\n\n    <!-- Form Content with Reduced Padding -->\n    <div class=\"bg-white shadow-sm rounded-lg border border-gray-200\">\n      <div class=\"p-3 md:p-4\">\n        <!-- Step Components -->\n        <component\n          :is=\"currentStepComponent\"\n          :model-value=\"formData\"\n          :errors=\"stepErrors\"\n          :loading=\"isValidating\"\n          @validate=\"handleStepValidation\"\n          @update:modelValue=\"handleFormDataUpdate\"\n        />\n      </div>\n    </div>\n\n    <!-- Floating Action Bar -->\n    <div class=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg md:relative md:bg-gray-50 md:border-0 md:shadow-none md:mt-3 md:rounded-lg\">\n      <div class=\"max-w-4xl mx-auto px-3 py-2 md:px-4 md:py-3\">\n        <div class=\"flex items-center justify-between\">\n          <!-- Back Button -->\n          <Button\n            v-if=\"currentStep > 1\"\n            variant=\"secondary\"\n            size=\"sm\"\n            :disabled=\"isSubmitting\"\n            @click=\"goToPreviousStep\"\n          >\n            <svg\n              class=\"h-4 w-4 mr-2\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M15 19l-7-7 7-7\"\n              />\n            </svg>\n            Back\n          </Button>\n          <div v-else></div>\n\n          <div class=\"flex items-center space-x-3\">\n            <!-- Step Indicator -->\n            <div class=\"text-xs text-gray-500\">\n              Step {{ currentStep }} of {{ totalSteps }}\n            </div>\n            \n            <!-- Next/Submit Button -->\n            <Button\n              :variant=\"isLastStep ? 'success' : 'primary'\"\n              size=\"sm\"\n              :loading=\"isSubmitting || isValidating\"\n              :disabled=\"!isCurrentStepValid || isSubmitting\"\n              @click=\"handleNextOrSubmit\"\n            >\n              {{ isLastStep ? 'Create Organization' : 'Next' }}\n              <svg\n                v-if=\"!isLastStep\"\n                class=\"h-4 w-4 ml-2\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M9 5l7 7-7 7\"\n                />\n              </svg>\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, computed, onMounted, nextTick } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useOrganizationStore } from '@/stores/organizationStore'\nimport { organizationCreateSchema } from '@/types/organizations'\nimport type { OrganizationCreateForm } from '@/types/organizations'\nimport Button from '@/components/atomic/Button.vue'\nimport OrganizationStepOne from './OrganizationStepOne.vue'\nimport OrganizationStepTwo from './OrganizationStepTwo.vue'\nimport OrganizationStepThree from './OrganizationStepThree.vue'\n\n/**\n * Props interface for form wrapper\n */\ninterface Props {\n  /** Initial form data (for editing) */\n  initialData?: Partial<OrganizationCreateForm>\n  /** Whether this is an edit operation */\n  isEditing?: boolean\n  /** Organization ID for editing */\n  organizationId?: string\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  isEditing: false\n})\n\n/**\n * Form events\n */\ninterface Emits {\n  'success': [organizationId: string]\n  'cancel': []\n  'draft-saved': [formData: Partial<OrganizationCreateForm>]\n}\n\nconst emit = defineEmits<Emits>()\n\n// Dependencies\nconst router = useRouter()\nconst organizationStore = useOrganizationStore()\n\n// Form state\nconst currentStep = ref(1)\nconst totalSteps = 3\nconst isSubmitting = ref(false)\nconst isValidating = ref(false)\nconst globalError = ref('')\nconst autoSaveStatus = ref<'saving' | 'saved' | 'error' | null>(null)\n\n// Step validation state\nconst stepValidation = reactive({\n  1: false,\n  2: true, // Step 2 has no required fields\n  3: true  // Step 3 has no required fields\n})\n\n// Form data with default values\nconst formData = reactive<Partial<OrganizationCreateForm>>({\n  name: '',\n  industry: '', // Maps to segment\n  lead_score: null, // Maps to priority\n  type: null,\n  status: 'Prospect',\n  address_line_1: '',\n  city: '',\n  state_province: '',\n  postal_code: '',\n  primary_phone: '',\n  website: '',\n  assigned_user_id: null,\n  description: '',\n  ...props.initialData\n})\n\n// Form errors\nconst formErrors = reactive<Record<string, Record<string, string>>>({\n  1: {},\n  2: {},\n  3: {}\n})\n\n/**\n * Step configuration\n */\nconst steps = [\n  {\n    id: 1,\n    title: 'Basic Info',\n    description: 'Enter organization name, priority, segment, and business type',\n    component: 'OrganizationStepOne',\n    requiredFields: ['name', 'industry', 'lead_score']\n  },\n  {\n    id: 2,\n    title: 'Organization Info',\n    description: 'Add address, phone, and additional notes',\n    component: 'OrganizationStepTwo',\n    requiredFields: []\n  },\n  {\n    id: 3,\n    title: 'Contact Info',\n    description: 'Select existing contacts or create new contacts',\n    component: 'OrganizationStepThree',\n    requiredFields: []\n  }\n]\n\n/**\n * Computed properties\n */\nconst currentStepData = computed(() => steps[currentStep.value - 1])\n\nconst currentStepComponent = computed(() => {\n  const componentMap = {\n    OrganizationStepOne,\n    OrganizationStepTwo,\n    OrganizationStepThree\n  }\n  return componentMap[currentStepData.value.component as keyof typeof componentMap]\n})\n\nconst isLastStep = computed(() => currentStep.value === totalSteps)\n\nconst stepErrors = computed(() => formErrors[currentStep.value] || {})\n\nconst isCurrentStepValid = computed(() => stepValidation[currentStep.value as keyof typeof stepValidation])\n\n/**\n * Form data handling\n */\nconst handleFormDataUpdate = (newData: Partial<OrganizationCreateForm>) => {\n  Object.assign(formData, newData)\n  \n  // Auto-save draft after data changes\n  debouncedAutoSave()\n}\n\n/**\n * Step validation\n */\nconst handleStepValidation = async (stepNumber: number, isValid: boolean, errors: Record<string, string> = {}) => {\n  stepValidation[stepNumber as keyof typeof stepValidation] = isValid\n  formErrors[stepNumber] = errors\n  \n  // Clear global error when step becomes valid\n  if (isValid && globalError.value) {\n    globalError.value = ''\n  }\n}\n\nconst validateCurrentStep = async (): Promise<boolean> => {\n  isValidating.value = true\n  \n  try {\n    const requiredFields = currentStepData.value.requiredFields\n    const stepData: Record<string, any> = {}\n    \n    // Extract data for current step\n    requiredFields.forEach(field => {\n      stepData[field] = formData[field as keyof typeof formData]\n    })\n    \n    // Validate step data\n    if (requiredFields.length > 0) {\n      const partialSchema = organizationCreateSchema.pick(requiredFields as any)\n      await partialSchema.validate(stepData, { abortEarly: false })\n    }\n    \n    // Mark step as valid\n    await handleStepValidation(currentStep.value, true, {})\n    return true\n    \n  } catch (error: any) {\n    const errors: Record<string, string> = {}\n    \n    if (error.inner) {\n      error.inner.forEach((err: any) => {\n        if (err.path) {\n          errors[err.path] = err.message\n        }\n      })\n    } else {\n      errors.general = error.message || 'Validation failed'\n    }\n    \n    await handleStepValidation(currentStep.value, false, errors)\n    return false\n    \n  } finally {\n    isValidating.value = false\n  }\n}\n\n/**\n * Navigation handlers\n */\nconst goToNextStep = async () => {\n  if (currentStep.value < totalSteps) {\n    const isValid = await validateCurrentStep()\n    if (isValid) {\n      currentStep.value++\n      await nextTick()\n      // Focus first input in next step\n      focusFirstInput()\n    }\n  }\n}\n\nconst goToPreviousStep = () => {\n  if (currentStep.value > 1) {\n    currentStep.value--\n    nextTick(() => {\n      focusFirstInput()\n    })\n  }\n}\n\nconst handleNextOrSubmit = async () => {\n  if (isLastStep.value) {\n    await handleSubmit()\n  } else {\n    await goToNextStep()\n  }\n}\n\n/**\n * Form submission\n */\nconst handleSubmit = async () => {\n  try {\n    isSubmitting.value = true\n    globalError.value = ''\n    \n    // Validate all steps\n    for (let step = 1; step <= totalSteps; step++) {\n      currentStep.value = step\n      const isValid = await validateCurrentStep()\n      if (!isValid) {\n        globalError.value = `Please fix errors in Step ${step}`\n        return\n      }\n    }\n    \n    // Extract contact data from custom_fields\n    const customFields = formData.custom_fields as any\n    const contactData = {\n      mode: customFields?.contact_mode || 'select',\n      selectedContactIds: customFields?.selected_contact_ids || [],\n      newContacts: customFields?.new_contacts || []\n    }\n    \n    // Transform form data for submission\n    const organizationData = {\n      ...formData,\n      // Ensure required fields are present\n      name: formData.name || '',\n      industry: formData.industry || null,\n      lead_score: formData.lead_score || null,\n      // Clean up tags array to remove undefined values\n      tags: formData.tags?.filter(tag => tag !== undefined) || null,\n      // Remove contact data from custom_fields as it will be handled separately\n      custom_fields: customFields ? {\n        ...customFields,\n        contact_mode: undefined,\n        selected_contact_ids: undefined,\n        new_contacts: undefined\n      } : {}\n    }\n    \n    // Submit to store with contact data\n    let result\n    if (props.isEditing && props.organizationId) {\n      result = await organizationStore.updateOrganizationWithContacts(\n        props.organizationId, \n        organizationData as any,\n        contactData\n      )\n    } else {\n      result = await organizationStore.createOrganizationWithContacts(\n        organizationData as any,\n        contactData\n      )\n    }\n    \n    if (result) {\n      // Clear auto-saved draft\n      clearAutoSavedDraft()\n      \n      // Emit success\n      emit('success', result.id)\n      \n      // Navigate to organization detail\n      router.push(`/organizations/${result.id}`)\n    } else {\n      globalError.value = 'Failed to save organization. Please try again.'\n    }\n    \n  } catch (error: any) {\n    globalError.value = error.message || 'An unexpected error occurred'\n    console.error('Form submission error:', error)\n    \n  } finally {\n    isSubmitting.value = false\n  }\n}\n\n/**\n * Auto-save functionality\n */\nlet autoSaveTimeout: ReturnType<typeof setTimeout> | null = null\n\nconst debouncedAutoSave = () => {\n  if (autoSaveTimeout) {\n    clearTimeout(autoSaveTimeout)\n  }\n  \n  autoSaveTimeout = setTimeout(async () => {\n    await saveFormDraft()\n  }, 2000) // Save 2 seconds after last change\n}\n\nconst saveFormDraft = async () => {\n  try {\n    autoSaveStatus.value = 'saving'\n    \n    // Save to localStorage\n    const draftKey = props.isEditing ? `org-edit-draft-${props.organizationId}` : 'org-create-draft'\n    localStorage.setItem(draftKey, JSON.stringify({\n      formData: { ...formData },\n      currentStep: currentStep.value,\n      timestamp: Date.now()\n    }))\n    \n    autoSaveStatus.value = 'saved'\n    emit('draft-saved', { ...formData })\n    \n    // Clear saved status after 3 seconds\n    setTimeout(() => {\n      autoSaveStatus.value = null\n    }, 3000)\n    \n  } catch (error) {\n    autoSaveStatus.value = 'error'\n    console.error('Auto-save error:', error)\n    \n    setTimeout(() => {\n      autoSaveStatus.value = null\n    }, 3000)\n  }\n}\n\nconst loadAutoSavedDraft = () => {\n  try {\n    const draftKey = props.isEditing ? `org-edit-draft-${props.organizationId}` : 'org-create-draft'\n    const savedDraft = localStorage.getItem(draftKey)\n    \n    if (savedDraft) {\n      const draft = JSON.parse(savedDraft)\n      const ageInMinutes = (Date.now() - draft.timestamp) / (1000 * 60)\n      \n      // Only load drafts less than 1 hour old\n      if (ageInMinutes < 60 && !props.initialData) {\n        Object.assign(formData, draft.formData)\n        currentStep.value = draft.currentStep || 1\n      }\n    }\n  } catch (error) {\n    console.error('Failed to load auto-saved draft:', error)\n  }\n}\n\nconst clearAutoSavedDraft = () => {\n  try {\n    const draftKey = props.isEditing ? `org-edit-draft-${props.organizationId}` : 'org-create-draft'\n    localStorage.removeItem(draftKey)\n  } catch (error) {\n    console.error('Failed to clear auto-saved draft:', error)\n  }\n}\n\n/**\n * Utility functions\n */\nconst focusFirstInput = () => {\n  nextTick(() => {\n    const firstInput = document.querySelector('input, select, textarea') as HTMLElement\n    firstInput?.focus()\n  })\n}\n\n/**\n * Lifecycle hooks\n */\nonMounted(() => {\n  // Load auto-saved draft if available\n  loadAutoSavedDraft()\n  \n  // Focus first input\n  focusFirstInput()\n})\n\n/**\n * Keyboard navigation\n */\nconst handleKeydown = (event: KeyboardEvent) => {\n  if (event.key === 'Escape') {\n    emit('cancel')\n  }\n}\n\n// Add keyboard event listener\nonMounted(() => {\n  document.addEventListener('keydown', handleKeydown)\n})\n\n// Remove keyboard event listener\nimport { onUnmounted } from 'vue'\nonUnmounted(() => {\n  document.removeEventListener('keydown', handleKeydown)\n  if (autoSaveTimeout) {\n    clearTimeout(autoSaveTimeout)\n  }\n})\n</script>","<template>\n  <div class=\"max-w-4xl mx-auto space-y-6\">\n    <!-- Page Header -->\n    <div class=\"flex items-center justify-between\">\n      <div>\n        <nav class=\"flex items-center space-x-2 text-sm text-gray-500 mb-2\">\n          <router-link to=\"/organizations\" class=\"hover:text-gray-700\">Organizations</router-link>\n          <ChevronRightIcon class=\"h-4 w-4\" />\n          <span class=\"text-gray-900\">New Organization</span>\n        </nav>\n        <h1 class=\"text-2xl font-bold text-gray-900\">Create New Organization</h1>\n        <p class=\"mt-1 text-sm text-gray-500\">\n          Add a new organization to your CRM system\n        </p>\n      </div>\n      \n      <router-link\n        to=\"/organizations\"\n        class=\"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n      >\n        <XMarkIcon class=\"h-4 w-4 mr-2\" />\n        Cancel\n      </router-link>\n    </div>\n\n    <!-- Multi-step Form -->\n    <OrganizationFormWrapper\n      @success=\"handleSuccess\"\n      @cancel=\"handleCancel\"\n      @draft-saved=\"handleDraftSaved\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useRouter } from 'vue-router'\nimport { ChevronRightIcon, XMarkIcon } from '@heroicons/vue/24/outline'\nimport OrganizationFormWrapper from '@/components/forms/OrganizationFormWrapper.vue'\nimport type { OrganizationCreateForm } from '@/types/organizations'\n\n/**\n * Organization Create View\n * Uses the multi-step OrganizationFormWrapper component\n */\n\nconst router = useRouter()\n\n/**\n * Event handlers\n */\nconst handleSuccess = (organizationId: string) => {\n  // Navigate to the new organization's detail page\n  router.push(`/organizations/${organizationId}`)\n}\n\nconst handleCancel = () => {\n  // Navigate back to organizations list\n  router.push('/organizations')\n}\n\nconst handleDraftSaved = (formData: Partial<OrganizationCreateForm>) => {\n  console.log('Draft saved:', formData)\n  // Could show a toast notification here\n}\n</script>"],"names":["props","__props","emit","__emit","inputRef","ref","isDropdownOpen","searchQuery","highlightedIndex","isFocused","defaultSegments","fieldId","computed","dropdownId","errorId","descriptionId","helpTextId","hasError","ariaDescribedBy","ids","allOptions","combined","defaultSegment","option","a","b","displayValue","filteredOptions","query","_a","showAddNew","showPopularSegments","labelClasses","base","stateClasses","disabledClasses","customClasses","inputClasses","loadingClasses","dropdownClasses","handleInput","event","target","openDropdown","handleFocus","handleBlur","closeDropdown","exactMatch","selectOption","handleAddNew","handleKeydown","maxIndex","toggleDropdown","newValue","handleClickOutside","dropdown","input","onMounted","onUnmounted","watch","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","label","required","_hoisted_3","description","_hoisted_4","_hoisted_5","name","placeholder","disabled","_normalizeClass","loading","_hoisted_8","_cache","_hoisted_10","_Fragment","_renderList","index","modelValue","$event","_hoisted_12","_toDisplayString","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","popularSegments","_hoisted_17","segment","_hoisted_19","_hoisted_20","error","helpText","_hoisted_22","showAdvancedOptions","priorityOptions","statusOptions","segmentOptions","distributorOptions","accountManagerOptions","priorityValue","leadScore","isPrincipal","isDistributor","updateField","field","value","updatedData","updatePriority","priorityLevel","numericValue","updateBusinessType","type","checked","validateField","_fieldName","_value","validateStep","errors","isValid","stepData","organizationCreateSchema","err","fieldName","handleAddNewSegment","newSegment","handleSegmentSearch","_query","_hoisted_2","_createVNode","BaseInputField","SelectField","SegmentSelector","_hoisted_6","_hoisted_7","_withDirectives","_hoisted_9","_hoisted_11","_createBlock","hasValidBasicInfo","_b","_c","validationSummary","requiredFields","filledRequired","stringValue","updatedContact","contactNumber","isPrimary","showSetPrimary","$emit","showRemove","_hoisted_18","contactStore","useContactStore","mode","selectedContactIds","newContacts","primaryContactIndex","contactErrors","isLoading","filteredContacts","contact","_d","setMode","newMode","emitUpdate","updateSearch","toggleContact","contactId","selected","setPrimaryContact","id","getPrimaryContactId","removeContact","clearSelection","getContactName","c","addNewContact","newContact","removeNewContact","removedContact","updateNewContact","setPrimaryContactIndex","overrides","contactData","validateContacts","contactErr","initializeFromProps","_hoisted_21","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_30","_hoisted_31","QuickContactForm","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","contactError","isContactDataValid","hasContacts","primaryContactName","handleContactDataUpdate","newContactData","updateFormData","handleContactValidation","initializeFromFormData","customFields","ContactMultiSelector","totalSteps","router","useRouter","organizationStore","useOrganizationStore","currentStep","isSubmitting","isValidating","globalError","autoSaveStatus","stepValidation","reactive","formData","formErrors","steps","currentStepData","currentStepComponent","OrganizationStepOne","OrganizationStepTwo","OrganizationStepThree","isLastStep","stepErrors","isCurrentStepValid","handleFormDataUpdate","newData","debouncedAutoSave","handleStepValidation","stepNumber","validateCurrentStep","goToNextStep","nextTick","focusFirstInput","goToPreviousStep","handleNextOrSubmit","handleSubmit","step","organizationData","tag","result","clearAutoSavedDraft","autoSaveTimeout","saveFormDraft","draftKey","loadAutoSavedDraft","savedDraft","draft","firstInput","_resolveDynamicComponent","Button","_createTextVNode","handleSuccess","organizationId","handleCancel","handleDraftSaved","_component_router_link","_unref","ChevronRightIcon","XMarkIcon","OrganizationFormWrapper"],"mappings":"mnEAkTA,MAAMA,EAAQC,EAoBRC,EAAOC,EAGPC,EAAWC,EAAA,EAGXC,EAAiBD,EAAI,EAAK,EAC1BE,EAAcF,EAAI,EAAE,EACpBG,EAAmBH,EAAI,EAAE,EACzBI,EAAYJ,EAAI,EAAK,EAGrBK,EAAmC,CACvC,CAAE,MAAO,aAAc,MAAO,aAAc,YAAa,uCAAA,EACzD,CAAE,MAAO,aAAc,MAAO,aAAc,YAAa,8CAAA,EACzD,CAAE,MAAO,UAAW,MAAO,UAAW,YAAa,4CAAA,EACnD,CAAE,MAAO,gBAAiB,MAAO,gBAAiB,YAAa,qCAAA,EAC/D,CAAE,MAAO,SAAU,MAAO,SAAU,YAAa,oCAAA,EACjD,CAAE,MAAO,YAAa,MAAO,YAAa,YAAa,iDAAA,EACvD,CAAE,MAAO,cAAe,MAAO,cAAe,YAAa,+CAAA,EAC3D,CAAE,MAAO,SAAU,MAAO,SAAU,YAAa,2CAAA,EACjD,CAAE,MAAO,iBAAkB,MAAO,iBAAkB,YAAa,yCAAA,EACjE,CAAE,MAAO,QAAS,MAAO,QAAS,YAAa,6CAAA,EAC/C,CAAE,MAAO,cAAe,MAAO,cAAe,YAAa,4CAAA,EAC3D,CAAE,MAAO,eAAgB,MAAO,eAAgB,YAAa,oCAAA,EAC7D,CAAE,MAAO,aAAc,MAAO,aAAc,YAAa,sCAAA,EACzD,CAAE,MAAO,aAAc,MAAO,aAAc,YAAa,uCAAA,EACzD,CAAE,MAAO,aAAc,MAAO,aAAc,YAAa,mCAAA,CAAoC,EAMzFC,EAAUC,EAAS,IAAM,WAAWZ,EAAM,IAAI,EAAE,EAChDa,EAAaD,EAAS,IAAM,oBAAoBZ,EAAM,IAAI,EAAE,EAC5Dc,EAAUF,EAAS,IAAM,SAASZ,EAAM,IAAI,EAAE,EAC9Ce,EAAgBH,EAAS,IAAM,QAAQZ,EAAM,IAAI,EAAE,EACnDgB,EAAaJ,EAAS,IAAM,QAAQZ,EAAM,IAAI,EAAE,EAEhDiB,EAAWL,EAAS,IAAM,CAAC,CAACZ,EAAM,KAAK,EAEvCkB,EAAkBN,EAAS,IAAM,CACrC,MAAMO,EAAgB,CAAA,EACtB,OAAInB,EAAM,aAAamB,EAAI,KAAKJ,EAAc,KAAK,EAC/Cf,EAAM,OAAOmB,EAAI,KAAKL,EAAQ,KAAK,EACnCd,EAAM,UAAY,CAACA,EAAM,OAAOmB,EAAI,KAAKH,EAAW,KAAK,EACtDG,EAAI,OAAS,EAAIA,EAAI,KAAK,GAAG,EAAI,MAC1C,CAAC,EAGKC,EAAaR,EAAS,IAAM,CAEhC,MAAMS,EAAW,CAAC,GADIrB,EAAM,SAAW,CAAA,CACL,EAGlC,OAAAU,EAAgB,QAAQY,GAAkB,CACnCD,EAAS,KAAKE,GAAUA,EAAO,MAAM,YAAA,IAAkBD,EAAe,MAAM,YAAA,CAAa,GAC5FD,EAAS,KAAKC,CAAc,CAEhC,CAAC,EAEMD,EAAS,KAAK,CAACG,EAAGC,IAAMD,EAAE,MAAM,cAAcC,EAAE,KAAK,CAAC,CAC/D,CAAC,EAGKC,EAAed,EAAS,IACxBN,EAAe,OAASC,EAAY,QAAU,GACzCA,EAAY,MAEdP,EAAM,YAAc,EAC5B,EAGK2B,EAAkBf,EAAS,IAAM,CACrC,GAAI,CAACL,EAAY,OAASA,EAAY,MAAM,OAASP,EAAM,gBACzD,OAAOoB,EAAW,MAAM,MAAM,EAAG,EAAE,EAGrC,MAAMQ,EAAQrB,EAAY,MAAM,YAAA,EAChC,OAAOa,EAAW,MACf,OAAOG,GAAA,OACN,OAAAA,EAAO,MAAM,YAAA,EAAc,SAASK,CAAK,KACzCC,EAAAN,EAAO,cAAP,YAAAM,EAAoB,cAAc,SAASD,IAAK,EAEjD,MAAM,EAAG,EAAE,CAChB,CAAC,EAGKE,EAAalB,EAAS,IACtB,CAACZ,EAAM,aAAe,CAACO,EAAY,OAASA,EAAY,MAAM,OAASP,EAAM,gBACxE,GAQF,CAJYoB,EAAW,MAAM,QAClCG,EAAO,MAAM,gBAAkBhB,EAAY,MAAM,YAAA,CAAY,CAIhE,EAGKwB,EAAsBnB,EAAS,IAC5B,CAACL,EAAY,OAASP,EAAM,gBAAgB,OAAS,CAC7D,EAKKgC,EAAepB,EAAS,IAAM,CAClC,MAAMqB,EAAO,2DACPC,EAAejB,EAAS,MAC1B,eACAR,EAAU,MACR,mBACA,gBACA0B,EAAkBnC,EAAM,SAAW,aAAe,GAClDoC,EAAgBpC,EAAM,YAAc,GAE1C,MAAO,GAAGiC,CAAI,IAAIC,CAAY,IAAIC,CAAe,IAAIC,CAAa,GAAG,KAAA,CACvE,CAAC,EAEKC,EAAezB,EAAS,IAAM,CAClC,MAAMqB,EAAO,gIAEPC,EAAejB,EAAS,MAC1B,6DACAR,EAAU,MACR,qDACA,wEAEA0B,EAAkBnC,EAAM,SAC1B,+CACA,cAEEsC,EAAiBtC,EAAM,QAAU,QAAU,GAE3CoC,EAAgBpC,EAAM,YAAc,GAE1C,MAAO,GAAGiC,CAAI,IAAIC,CAAY,IAAIC,CAAe,IAAIG,CAAc,IAAIF,CAAa,GAAG,KAAA,CACzF,CAAC,EAEKG,EAAkB3B,EAAS,IACxB,CACL,iFACA,2CAAA,EACA,KAAK,GAAG,CACX,EAKK4B,EAAeC,GAAiB,CACpC,MAAMC,EAASD,EAAM,OACrBlC,EAAY,MAAQmC,EAAO,MAGvB,CAACpC,EAAe,OAASoC,EAAO,MAAM,QAAU1C,EAAM,iBACxD2C,EAAA,EAIFnC,EAAiB,MAAQ,GAGrBkC,EAAO,MAAM,QAAU1C,EAAM,iBAC/BE,EAAK,SAAUwC,EAAO,KAAK,CAE/B,EAEME,EAAeH,GAAsB,CACzChC,EAAU,MAAQ,GAClBP,EAAK,QAASuC,CAAK,EAGnBlC,EAAY,MAAQP,EAAM,YAAc,GAGxC,WAAW,IAAM,CACf2C,EAAA,CACF,EAAG,GAAG,CACR,EAEME,EAAcJ,GAAsB,CAExC,WAAW,IAAM,CAKf,GAJAhC,EAAU,MAAQ,GAClBqC,EAAA,EAGIvC,EAAY,OAAS,CAACP,EAAM,WAAY,CAE1C,MAAM+C,EAAa3B,EAAW,MAAM,QAClCG,EAAO,MAAM,gBAAkBhB,EAAY,MAAM,YAAA,CAAY,EAG3DwC,EACFC,EAAaD,CAAU,EACd/C,EAAM,aACfiD,EAAA,CAEJ,CAGA1C,EAAY,MAAQ,GAEpBL,EAAK,OAAQuC,CAAK,EAClBvC,EAAK,WAAYF,EAAM,UAAU,CACnC,EAAG,GAAG,CACR,EAEMkD,EAAiBT,GAAyB,OAC9C,OAAQA,EAAM,IAAA,CACZ,IAAK,YAEH,GADAA,EAAM,eAAA,EACF,CAACnC,EAAe,MAClBqC,EAAA,MACK,CACL,MAAMQ,EAAWrB,EAAW,MAAQH,EAAgB,MAAM,OAASA,EAAgB,MAAM,OAAS,EAClGnB,EAAiB,MAAQ,KAAK,IAAIA,EAAiB,MAAQ,EAAG2C,CAAQ,CACxE,CACA,MAEF,IAAK,UACHV,EAAM,eAAA,EACNjC,EAAiB,MAAQ,KAAK,IAAIA,EAAiB,MAAQ,EAAG,EAAE,EAChE,MAEF,IAAK,QACHiC,EAAM,eAAA,EACFnC,EAAe,QACbE,EAAiB,QAAUmB,EAAgB,MAAM,QAAUG,EAAW,MACxEmB,EAAA,EACSzC,EAAiB,OAAS,GAAKA,EAAiB,MAAQmB,EAAgB,MAAM,QACvFqB,EAAarB,EAAgB,MAAMnB,EAAiB,KAAK,CAAC,GAG9D,MAEF,IAAK,SACHiC,EAAM,eAAA,EACNK,EAAA,GACAjB,EAAAzB,EAAS,QAAT,MAAAyB,EAAgB,OAChB,MAEF,IAAK,MACHiB,EAAA,EACA,KAAA,CAEN,EAEMM,EAAiB,IAAM,OACvB9C,EAAe,MACjBwC,EAAA,GAEAH,EAAA,GACAd,EAAAzB,EAAS,QAAT,MAAAyB,EAAgB,QAEpB,EAEMc,EAAe,IAAM,CACpB3C,EAAM,WACTM,EAAe,MAAQ,GACvBE,EAAiB,MAAQ,GAE7B,EAEMsC,EAAgB,IAAM,CAC1BxC,EAAe,MAAQ,GACvBE,EAAiB,MAAQ,EAC3B,EAKMwC,EAAgBzB,GAA0B,OAC9CrB,EAAK,oBAAqBqB,EAAO,KAAK,EACtChB,EAAY,MAAQ,GACpBuC,EAAA,GACAjB,EAAAzB,EAAS,QAAT,MAAAyB,EAAgB,MAClB,EAEMoB,EAAe,IAAM,OACzB,GAAI1C,EAAY,MAAM,OAAQ,CAC5B,MAAM8C,EAAW9C,EAAY,MAAM,KAAA,EACnCL,EAAK,UAAWmD,CAAQ,EACxBnD,EAAK,oBAAqBmD,CAAQ,EAClC9C,EAAY,MAAQ,GACpBuC,EAAA,GACAjB,EAAAzB,EAAS,QAAT,MAAAyB,EAAgB,MAClB,CACF,EAKMyB,EAAsBb,GAAiB,CAC3C,MAAMC,EAASD,EAAM,OACfc,EAAW,SAAS,eAAe1C,EAAW,KAAK,EACnD2C,EAAQpD,EAAS,MAEnBmD,GAAYC,GAAS,CAACD,EAAS,SAASb,CAAM,GAAK,CAACc,EAAM,SAASd,CAAM,GAC3EI,EAAA,CAEJ,EAKA,OAAAW,EAAU,IAAM,CACd,SAAS,iBAAiB,QAASH,CAAkB,CACvD,CAAC,EAEDI,GAAY,IAAM,CAChB,SAAS,oBAAoB,QAASJ,CAAkB,CAC1D,CAAC,EAKDK,GAAM,IAAM3D,EAAM,WAAaqD,GAAa,CACrC5C,EAAU,QACbF,EAAY,MAAQ8C,GAAY,GAEpC,CAAC,UAzoBCO,EAAA,EAAAC,EA2PM,MA3PNC,GA2PM,CAzPJC,EAMQ,QAAA,CALL,IAAKpD,EAAA,MACL,QAAOqB,EAAA,KAAY,CAAA,GAEjBgC,EAAAA,EAAAA,EAAAA,KAAK,EAAG,IACX,CAAA,EAAYC,EAAAA,cAAZJ,EAA6E,OAA7EK,GAAqE,GAAC,oBAKhEC,EAAAA,iBADRN,EAMI,IAAA,OAJD,GAAI9C,EAAA,MACL,MAAM,uBAAA,IAEHoD,EAAAA,WAAW,EAAA,EAAAC,EAAA,YAIhBL,EAqMM,MArMNM,GAqMM,CAnMJN,EAqBE,QAAA,CApBC,GAAIpD,EAAA,cACD,WAAJ,IAAIP,EACH,KAAMkE,EAAAA,KACP,KAAK,OACJ,YAAaC,EAAAA,YACb,SAAUC,EAAAA,SACV,SAAUP,EAAAA,SACV,MAAOvC,EAAA,MACP,mBAAkBR,EAAA,MAClB,eAAcD,EAAA,MACd,gBAAegD,EAAAA,SACf,gBAAe3D,EAAA,MACf,gBAAe,GACf,YAAWO,EAAA,MACX,QAAOwB,EAAA,KAAY,EACpB,aAAa,MACZ,QAAOG,EACP,QAAOI,EACP,OAAMC,EACN,UAASK,CAAA,cAIZa,EAwBS,SAAA,CAvBP,KAAK,SACJ,SAAUS,EAAAA,SACX,MAAM,oDACN,aAAW,kBACV,QAAOpB,CAAA,QAERS,EAgBM,MAAA,CAfH,MAAKY,EAAA,6CAAyEnE,EAAA,MAAc,aAAA,GAAkCW,EAAA,MAAQ,eAAA,eAAA,GAKvI,KAAK,OACL,OAAO,eACP,QAAQ,WAAA,eAER8C,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,gBAAA,wBAOAW,EAAAA,SADRd,EAAA,EAAAC,EAwBM,MAxBNc,GAwBMC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAnBJb,EAkBM,MAAA,CAjBJ,MAAM,qCACN,KAAK,OACL,QAAQ,WAAA,GAERA,EAOE,SAAA,CANA,MAAM,aACN,GAAG,KACH,GAAG,KACH,EAAE,KACF,OAAO,eACP,eAAa,GAAA,GAEfA,EAIE,OAAA,CAHA,MAAM,aACN,KAAK,eACL,EAAE,iHAAA,qBAOAzD,EAAA,WADRuD,EAoHM,MAAA,OAlHH,GAAIhD,EAAA,MACJ,QAAO0B,EAAA,KAAe,EACvB,KAAK,UACJ,gBAAeyB,EAAAA,KAAK,UAAA,GAIbrC,EAAA,MAAgB,SAAM,GAAA,CAAWG,EAAA,WADzC+B,EAOM,MAPNgB,GAKC,qBAED,aAGAjB,EAAA,EAAA,EAAAC,EAsCSiB,EAAA,KAAAC,GArCmBpD,EAAA,MAAe,CAAjCJ,EAAQyD,SADlBnB,EAsCS,SAAA,CApCN,IAAKtC,EAAO,MACb,KAAK,SACJ,MAAKkD,EAAA,6FAAyHO,IAAUxE,EAAA,MAAgB,iCAAA,eAAA,GAIzJ,KAAK,SACJ,gBAAee,EAAO,QAAU0D,EAAAA,WAChC,QAAKC,GAAElC,EAAazB,CAAM,EAC1B,aAAU2D,GAAE1E,EAAA,MAAmBwE,CAAA,GAEhCjB,EAiBM,MAjBNoB,GAiBM,CAhBJpB,EAA+B,OAAA,KAAAqB,EAAtB7D,EAAO,KAAK,EAAA,CAAA,EAGbA,EAAO,QAAU0D,EAAAA,YADzBrB,IAAAC,EAaM,MAbNwB,GAaMT,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CANJb,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,gBAAA,0BAMAxC,EAAO,aADfqC,EAAA,EAAAC,EAKI,IALJyB,GAKIF,EADC7D,EAAO,WAAW,EAAA,CAAA,4BAMjBO,EAAA,OADR8B,EAAA,EAAAC,EAgCM,MAhCN0B,GAgCM,CA5BJxB,EA2BS,SAAA,CA1BP,KAAK,SACJ,MAAKU,EAAA,2FAA2HjE,EAAA,QAAqBmB,EAAA,MAAgB,OAAM,2BAAA,eAAA,GAI5K,KAAK,SACL,gBAAc,QACb,QAAOsB,EACP,aAAU2B,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAE1E,EAAA,MAAmBmB,EAAA,MAAgB,OAAA,GAEhDoC,EAeM,MAfNyB,GAeM,aAdJzB,EAYM,MAAA,CAXJ,MAAM,eACN,KAAK,OACL,OAAO,eACP,QAAQ,WAAA,GAERA,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,4BAAA,WAEA,sBACYqB,EAAG7E,EAAA,KAAW,EAAG,KACrC,CAAA,CAAA,oBAMIwB,EAAA,OAAuB0D,EAAAA,gBAAgB,OAAM,GADrD7B,IAAAC,EAqBM,MArBN6B,GAqBM,CAjBJd,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAb,EAEM,MAAA,CAFD,MAAM,uEAAA,EAAwE,qBAEnF,EAAA,UACAF,EAaSiB,EAAA,KAAAC,GAZWU,EAAAA,gBAAXE,QADT9B,EAaS,SAAA,CAXN,IAAG,WAAa8B,EAAQ,KAAK,GAC9B,KAAK,SACL,MAAM,0GACN,KAAK,SACJ,gBAAeA,EAAQ,QAAUV,EAAAA,WACjC,QAAKC,GAAElC,EAAa2C,CAAO,CAAA,GAE5B5B,EAGM,MAHN6B,GAGM,CAFJ7B,EAAgC,OAAA,KAAAqB,EAAvBO,EAAQ,KAAK,EAAA,CAAA,EACtB5B,EAAmE,OAAnE8B,GAAmET,EAA5BO,EAAQ,KAAK,EAAG,QAAK,CAAA,CAAA,kDAS9DG,EAAAA,WADRjC,EAqBI,IAAA,OAnBD,GAAI/C,EAAA,MACL,KAAK,QACL,MAAM,iDAAA,eAENiD,EAaM,MAAA,CAZJ,MAAM,wBACN,KAAK,OACL,OAAO,eACP,QAAQ,YACR,cAAY,MAAA,GAEZA,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,mDAAA,SAGNA,EAAwB,cAAf+B,EAAAA,KAAK,EAAA,CAAA,CAAA,kBAKRC,EAAAA,WAAaD,EAAAA,WADrBjC,EAMI,IAAA,OAJD,GAAI7C,EAAA,MACL,MAAM,uBAAA,IAEH+E,EAAAA,QAAQ,EAAA,EAAAC,EAAA,wtBC3DjB,MAAMhG,EAAQC,EAYRC,EAAOC,EAGP8F,EAAsB5F,EAAI,EAAK,EAM/B6F,EAAkB,CACtB,CAAE,MAAO,GAAI,MAAO,IAAK,YAAa,+DAAA,EACtC,CAAE,MAAO,GAAI,MAAO,IAAK,YAAa,yDAAA,EACtC,CAAE,MAAO,GAAI,MAAO,IAAK,YAAa,uDAAA,EACtC,CAAE,MAAO,GAAI,MAAO,IAAK,YAAa,yDAAA,CAA0D,EAM5FC,EAA0F,CAC9F,CAAE,MAAO,WAAY,MAAO,WAAY,YAAa,8BAAA,EACrD,CAAE,MAAO,SAAU,MAAO,SAAU,YAAa,gCAAA,EACjD,CAAE,MAAO,WAAY,MAAO,WAAY,YAAa,2BAAA,EACrD,CAAE,MAAO,UAAW,MAAO,UAAW,YAAa,8BAAA,EACnD,CAAE,MAAO,SAAU,MAAO,SAAU,YAAa,6BAAA,EACjD,CAAE,MAAO,WAAY,MAAO,WAAY,YAAa,+BAAA,CAAgC,EAMjFC,EAAiB,CAErB,CAAE,MAAO,kCAAmC,MAAO,kCAAmC,YAAa,wCAAA,EACnG,CAAE,MAAO,iCAAkC,MAAO,iCAAkC,YAAa,0CAAA,EACjG,CAAE,MAAO,2BAA4B,MAAO,2BAA4B,YAAa,kCAAA,EACrF,CAAE,MAAO,+BAAgC,MAAO,+BAAgC,YAAa,6CAAA,EAE7F,CAAE,MAAO,aAAc,MAAO,aAAc,YAAa,uCAAA,EACzD,CAAE,MAAO,aAAc,MAAO,aAAc,YAAa,6BAAA,EACzD,CAAE,MAAO,UAAW,MAAO,UAAW,YAAa,gCAAA,EACnD,CAAE,MAAO,gBAAiB,MAAO,gBAAiB,YAAa,2BAAA,EAC/D,CAAE,MAAO,SAAU,MAAO,SAAU,YAAa,6BAAA,EACjD,CAAE,MAAO,wBAAyB,MAAO,wBAAyB,YAAa,sCAAA,CAAuC,EAMlHX,EAAkB,CACtB,CAAE,MAAO,kCAAmC,MAAO,kCAAmC,MAAO,GAAA,EAC7F,CAAE,MAAO,iCAAkC,MAAO,iCAAkC,MAAO,GAAA,EAC3F,CAAE,MAAO,+BAAgC,MAAO,+BAAgC,MAAO,GAAA,EACvF,CAAE,MAAO,aAAc,MAAO,aAAc,MAAO,GAAA,EACnD,CAAE,MAAO,gBAAiB,MAAO,gBAAiB,MAAO,GAAA,CAAI,EAMzDY,EAAqB,CACzB,CAAE,MAAO,SAAU,MAAO,wBAAyB,YAAa,2BAAA,EAChE,CAAE,MAAO,SAAU,MAAO,mBAAoB,YAAa,+BAAA,EAC3D,CAAE,MAAO,SAAU,MAAO,4BAA6B,YAAa,gCAAA,CAAiC,EAMjGC,EAAwB,CAC5B,CAAE,MAAO,OAAQ,MAAO,aAAc,YAAa,wBAAA,EACnD,CAAE,MAAO,OAAQ,MAAO,gBAAiB,YAAa,mCAAA,EACtD,CAAE,MAAO,OAAQ,MAAO,aAAc,YAAa,0BAAA,CAA2B,EAM1EC,EAAgB3F,EAAS,IAAM,CACnC,MAAM4F,EAAYxG,EAAM,WAAW,WACnC,OAAIwG,GAAc,KAAwC,GAGtDA,GAAa,GAAW,GACxBA,GAAa,GAAW,GACxBA,GAAa,GAAW,GACrB,EACT,CAAC,EAKKC,EAAc7F,EAAS,IACpBZ,EAAM,WAAW,eAAiB,EAC1C,EAEK0G,EAAgB9F,EAAS,IACtBZ,EAAM,WAAW,iBAAmB,EAC5C,EAKK2G,EAAc,CAACC,EAAqCC,IAAe,CACvE,MAAMC,EAAc,CAAE,GAAG9G,EAAM,WAAY,CAAC4G,CAAK,EAAGC,CAAA,EACpD3G,EAAK,oBAAqB4G,CAAW,CACvC,EAEMC,EAAkBC,GAAyD,CAC/E,MAAMH,EAAQ,MAAM,QAAQG,CAAa,EAAIA,EAAc,CAAC,EAAIA,EAC1DC,EAAe,OAAOJ,GAAU,SAAW,SAASA,CAAK,EAAIA,EACnEF,EAAY,aAAcM,CAAY,CACxC,EAKMC,EAAqB,CAACC,EAAmCC,IAAqB,CAC9ED,IAAS,YACPC,GAEFT,EAAY,eAAgB,EAAI,EAChCA,EAAY,iBAAkB,EAAK,EAEnCA,EAAY,iBAAkB,EAAE,GAEhCA,EAAY,eAAgB,EAAK,EAE1BQ,IAAS,gBACdC,GAEFT,EAAY,iBAAkB,EAAI,EAClCA,EAAY,eAAgB,EAAK,EAEjCA,EAAY,iBAAkB,EAAE,GAEhCA,EAAY,iBAAkB,EAAK,EAGzC,EAKMU,EAAgB,MAAOC,EAAoBC,IAAgB,CAG/D,MAAMC,EAAA,CACR,EAEMA,EAAe,SAAY,CAC/B,MAAMC,EAAiC,CAAA,EACvC,IAAIC,EAAU,GAEd,GAAI,CAEF,MAAMC,EAAW,CACf,KAAM3H,EAAM,WAAW,KACvB,SAAUA,EAAM,WAAW,SAC3B,WAAYA,EAAM,WAAW,WAC7B,OAAQA,EAAM,WAAW,OACzB,aAAcA,EAAM,WAAW,aAC/B,eAAgBA,EAAM,WAAW,eACjC,eAAgBA,EAAM,WAAW,eACjC,mBAAoBA,EAAM,WAAW,kBAAA,EAWvC,MARmB4H,GAAyB,KAAK,CAC/C,OACA,WACA,aACA,QAAA,CAGD,EACgB,SAASD,EAAU,CAAE,WAAY,GAAO,CAE3D,OAAS7B,EAAY,CACnB4B,EAAU,GACN5B,EAAM,OACRA,EAAM,MAAM,QAAS+B,GAAa,CAChC,GAAIA,EAAI,KAAM,CAEZ,MAAMC,EAAYD,EAAI,OAAS,WAAa,UAC3BA,EAAI,OAAS,aAAe,WAAaA,EAAI,KAC9DJ,EAAOK,CAAS,EAAID,EAAI,OAC1B,CACF,CAAC,CAEL,CAGA3H,EAAK,WAAY,EAAGwH,EAASD,CAAM,CACrC,EAKMM,EAAuBC,GAAuB,CAElDrB,EAAY,WAAYqB,CAAU,CAIpC,EAEMC,EAAuBC,GAAmB,CAGhD,EAKA,OAAAvE,GACE,IAAM,CACJ3D,EAAM,WAAW,KACjBA,EAAM,WAAW,SACjBA,EAAM,WAAW,WACjBA,EAAM,WAAW,OACjBA,EAAM,WAAW,aACjBA,EAAM,WAAW,eACjBA,EAAM,WAAW,eACjBA,EAAM,WAAW,kBAAA,EAEnB,SAAY,CACV,MAAMwH,EAAA,CACR,EACA,CAAE,UAAW,EAAA,CAAK,EAMpB/D,EAAU,SAAY,CACpB,MAAM+D,EAAA,CACR,CAAC,UArbC5D,EAAA,EAAAC,EAqKM,MArKNC,GAqKM,CAnKJC,EAyCM,MAzCNoE,GAyCM,CAvCJpE,EAaM,MAbNG,GAaM,CAZJkE,EAWEC,EAAA,CAVA,KAAK,OACL,MAAM,oBACN,KAAK,OACJ,cAAapD,EAAAA,WAAW,MAAI,GAC5B,MAAOwC,EAAAA,OAAO,KACf,YAAY,8BACZ,SAAA,GACA,aAAa,eACZ,sBAAkB7C,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEyB,EAAW,OAASzB,CAAM,GAC9C,WAAQN,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEmC,EAA4B,EAAA,oCAK3Ce,EAUEE,GAAA,CATA,KAAK,WACL,MAAM,WACL,cAAa/B,EAAA,MACb,QAASL,EACT,MAAOuB,EAAAA,OAAO,UAAYA,EAAAA,OAAO,WAClC,YAAY,+BACZ,SAAA,GACC,sBAAoBV,EACpB,WAAQnC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEmC,EAAgC,EAAA,kCAI7Ce,EASEE,GAAA,CARA,KAAK,SACL,MAAM,sBACL,cAAarD,EAAAA,WAAW,QAAM,WAC9B,QAASkB,EACT,MAAOsB,EAAAA,OAAO,OACf,YAAY,6BACX,sBAAkB7C,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEyB,EAAW,SAAWzB,CAAM,GAChD,WAAQN,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEmC,EAA8B,EAAA,oCAK7Ce,EAcEG,GAAA,CAbA,KAAK,UACL,MAAM,UACL,cAAatD,EAAAA,WAAW,UAAQ,GAChC,MAAOwC,EAAAA,OAAO,SAAWA,EAAAA,OAAO,SAChC,QAASrB,EACT,mBAAkBX,EACnB,YAAY,wCACZ,SAAA,GACA,gBAAA,GACC,sBAAkBb,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEyB,EAAW,WAAazB,CAAM,GAClD,SAAS6C,EACT,SAAQE,EACR,WAAQrD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEmC,EAA+B,EAAA,kCAI5CtD,EAqGM,MArGNK,GAqGM,CApGJL,EA6BS,SAAA,CA5BP,KAAK,SACJ,QAAKa,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEe,EAAA,MAAmB,CAAIA,EAAA,OAC/B,MAAM,0OACL,gBAAeA,EAAA,MAChB,gBAAc,kBAAA,GAEdlC,EAkBO,OAlBPyE,GAkBO,MAjBL3E,EAeM,MAAA,CAdH,MAAKY,EAAA,kDAAkFwB,EAAA,MAAmB,YAAA,EAAA,GAI3G,KAAK,OACL,OAAO,eACP,QAAQ,WAAA,iBAERlC,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,cAAA,iCAEA,qBAER,EAAA,EAAA,GACAA,EAEO,OAFP0E,GAEOrD,EADFa,EAAA,qBAAwC,sBAC7C,CAAA,CAAA,QAIFyC,GAAA3E,EAmEM,MAnENY,GAmEM,CA7DJZ,EA+CM,MA/CN4E,GA+CM,CA7CJ5E,EAgCM,MAhCNc,GAgCM,CA/BJD,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAb,EAEQ,QAAA,CAFD,MAAM,yCAAA,EAA0C,kBAEvD,EAAA,GACAA,EA2BM,MA3BN6E,GA2BM,CA1BJ7E,EAYM,MAZNoB,GAYM,CAXJpB,EAOE,QAAA,CANA,GAAG,YACH,KAAK,gBACL,KAAK,WACJ,QAAS0C,EAAA,MACT,wBAAQS,EAAkB,YAAehC,EAAO,OAA4B,OAAO,GACpF,MAAM,mEAAA,4BAERnB,EAEQ,QAAA,CAFD,IAAI,YAAY,MAAM,kCAAA,EAAmC,cAEhE,EAAA,EAAA,GAEFA,EAYM,MAZNuB,GAYM,CAXJvB,EAOE,QAAA,CANA,GAAG,cACH,KAAK,gBACL,KAAK,WACJ,QAAS2C,EAAA,MACT,wBAAQQ,EAAkB,cAAiBhC,EAAO,OAA4B,OAAO,GACtF,MAAM,mEAAA,4BAERnB,EAEQ,QAAA,CAFD,IAAI,cAAc,MAAM,kCAAA,EAAmC,gBAElE,EAAA,EAAA,OAMNqE,EASEE,GAAA,CARA,KAAK,qBACL,MAAM,kBACL,cAAarD,EAAAA,WAAW,oBAAkB,GAC1C,QAASqB,EACT,MAAOmB,EAAAA,OAAO,mBACf,YAAY,4BACX,sBAAkB7C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAM,GAAEyB,EAAW,qBAAuBzB,CAAM,GAC5D,WAAQN,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAM,GAAEmC,EAA0C,EAAA,oCAMhDX,EAAA,oBADTmC,GAUEP,GAAA,OARA,KAAK,iBACL,MAAM,cACL,cAAarD,EAAAA,WAAW,gBAAc,GACtC,QAASoB,EACT,MAAOoB,EAAAA,OAAO,eACf,YAAY,uBACX,sBAAkB7C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAM,GAAEyB,EAAW,iBAAmBzB,CAAM,GACxD,WAAQN,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAM,GAAEmC,EAAsC,EAAA,8CAhE3CpB,EAAA,KAAmB,CAAA,kaC8CnC,MAAMjG,EAAQC,EAYRC,EAAOC,EAKPwG,EAAc,CAACC,EAAqCC,IAAe,CACvE,MAAMC,EAAc,CAAE,GAAG9G,EAAM,WAAY,CAAC4G,CAAK,EAAGC,CAAA,EACpD3G,EAAK,oBAAqB4G,CAAW,CACvC,EAKMO,EAAgB,CAACC,EAAoBC,IAAgB,CAEzDC,EAAA,CACF,EAEMA,EAAe,IAAM,CAOzBtH,EAAK,WAAY,EALH,GADyB,CAAA,CAMJ,CACrC,EAKA,OAAAyD,GACE,IAAM,CACJ3D,EAAM,WAAW,eACjBA,EAAM,WAAW,eACjBA,EAAM,WAAW,KACjBA,EAAM,WAAW,eACjBA,EAAM,WAAW,YACjBA,EAAM,WAAW,cACjBA,EAAM,WAAW,WAAA,EAEnB,IAAM,CACJwH,EAAA,CACF,EACA,CAAE,UAAW,EAAA,CAAK,EAMpB/D,EAAU,IAAM,CACd+D,EAAA,CACF,CAAC,UA/MC5D,EAAA,EAAAC,EA2HM,MA3HNC,GA2HM,eAzHJC,EAKM,MAAA,KAAA,CAJJA,EAA6E,KAAA,CAAzE,MAAM,0CAAA,EAA2C,qBAAmB,EACxEA,EAEI,IAAA,CAFD,MAAM,4BAAA,EAA6B,0DAEtC,CAAA,OAIFA,EA6EM,MA7ENoE,GA6EM,CA3EJpE,EAWM,MAXNG,GAWM,CAVJkE,EASEC,EAAA,CARA,KAAK,iBACL,MAAM,iBACN,KAAK,OACJ,cAAapD,EAAAA,WAAW,gBAAc,GACtC,MAAOwC,EAAAA,OAAO,eACf,YAAY,uBACX,sBAAkB7C,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEyB,EAAW,iBAAmBzB,CAAM,GACxD,WAAQN,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEmC,EAAsC,EAAA,oCAKrDtD,EAWM,MAXNK,GAWM,CAVJgE,EASEC,EAAA,CARA,KAAK,iBACL,MAAM,iBACN,KAAK,OACJ,cAAapD,EAAAA,WAAW,gBAAc,GACtC,MAAOwC,EAAAA,OAAO,eACf,YAAY,oCACX,sBAAkB7C,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEyB,EAAW,iBAAmBzB,CAAM,GACxD,WAAQN,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEmC,EAAsC,EAAA,oCAKrDe,EASEC,EAAA,CARA,KAAK,OACL,MAAM,OACN,KAAK,OACJ,cAAapD,EAAAA,WAAW,MAAI,GAC5B,MAAOwC,EAAAA,OAAO,KACf,YAAY,aACX,sBAAkB7C,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEyB,EAAW,OAASzB,CAAM,GAC9C,WAAQN,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEmC,EAA4B,EAAA,kCAIzCe,EASEC,EAAA,CARA,KAAK,iBACL,MAAM,QACN,KAAK,OACJ,cAAapD,EAAAA,WAAW,gBAAc,GACtC,MAAOwC,EAAAA,OAAO,eACf,YAAY,cACX,sBAAkB7C,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEyB,EAAW,iBAAmBzB,CAAM,GACxD,WAAQN,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEmC,EAAsC,EAAA,kCAInDe,EASEC,EAAA,CARA,KAAK,cACL,MAAM,cACN,KAAK,OACJ,cAAapD,EAAAA,WAAW,aAAW,GACnC,MAAOwC,EAAAA,OAAO,YACf,YAAY,wBACX,sBAAkB7C,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEyB,EAAW,cAAgBzB,CAAM,GACrD,WAAQN,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEmC,EAAmC,EAAA,kCAIhDe,EASEC,EAAA,CARA,KAAK,gBACL,MAAM,eACN,KAAK,MACJ,cAAapD,EAAAA,WAAW,eAAa,GACrC,MAAOwC,EAAAA,OAAO,cACf,YAAY,4BACX,sBAAkB7C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAM,GAAEyB,EAAW,gBAAkBzB,CAAM,GACvD,WAAQN,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAM,GAAEmC,EAAqC,EAAA,oCAMpDtD,EAgCM,MAhCNM,GAgCM,eA/BJN,EAKM,MAAA,KAAA,CAJJA,EAA2E,KAAA,CAAvE,MAAM,wCAAA,EAAyC,qBAAmB,EACtEA,EAEI,IAAA,CAFD,MAAM,uBAAA,EAAwB,iDAEjC,CAAA,OAIFA,EAsBM,MAtBNyE,GAsBM,eArBJzE,EAEQ,QAAA,CAFD,IAAI,cAAc,MAAM,yCAAA,EAA0C,wBAEzE,EAAA,GACAA,EAcE,WAAA,CAbA,GAAG,cACH,KAAK,cACL,KAAK,IACJ,MAAOkB,EAAAA,WAAW,aAAW,GAC7B,MAAKR,EAAA,sEAAkGgD,EAAAA,OAAO,wFAM/G,YAAY,sEACX,yBAAOd,EAAW,cAAiBzB,EAAO,OAA+B,KAAK,GAC9E,wBAAMmC,EAAa,cAAiBnC,EAAO,OAA+B,KAAK,EAAA,cAEzEuC,EAAAA,OAAO,aAAhB7D,EAAA,EAAAC,EAEI,IAFJc,GAEIS,EADCqC,EAAAA,OAAO,WAAW,EAAA,CAAA,80CC0F/B,MAAMzH,EAAQC,EAeRC,EAAOC,EAKP2I,EAAoBlI,EAAS,IAAM,WACvC,QAAOiB,EAAA7B,EAAM,WAAW,aAAjB,YAAA6B,EAA6B,WAC7BkH,EAAA/I,EAAM,WAAW,YAAjB,YAAA+I,EAA4B,WAC5BC,EAAAhJ,EAAM,WAAW,QAAjB,YAAAgJ,EAAwB,OACjC,CAAC,EAEKC,EAAoBrI,EAAS,IAAM,CACvC,MAAM6G,EAAS,OAAO,KAAKzH,EAAM,MAAM,EAAE,OACnCkJ,EAAiB,CAAC,aAAc,YAAa,OAAO,EACpDC,EAAiBD,EAAe,OAAOtC,GAAA,OAC3C,OAAA/E,EAAA7B,EAAM,WAAW4G,CAAyB,IAA1C,YAAA/E,EAA6C,OAAK,EAClD,OAEF,OAAI4F,EAAS,EACJ,CACL,QAAS,GACT,QAAS,GAAGA,CAAM,oBAAoBA,EAAS,EAAI,IAAM,EAAE,QAAA,EAEpD0B,IAAmBD,EAAe,OACpC,CACL,QAAS,GACT,QAAS,iCAAA,EAGJ,CACL,QAAS,GACT,QAAS,GAAGA,EAAe,OAASC,CAAc,kBAAkBD,EAAe,OAASC,EAAiB,EAAI,IAAM,EAAE,YAAA,CAG/H,CAAC,EAKKxC,EAAc,CAACC,EAAyBC,IAAiD,OAC7F,MAAMuC,EAAc,MAAM,QAAQvC,CAAK,IAAIhF,EAAAgF,EAAM,CAAC,IAAP,YAAAhF,EAAU,aAAc,IAAKgF,GAAA,YAAAA,EAAO,aAAc,GAEvFwC,EAA6B,CACjC,GAAGrJ,EAAM,WACT,CAAC4G,CAAK,EAAGwC,CAAA,EAGXlJ,EAAK,oBAAqBmJ,CAAc,CAC1C,EAKMhC,EAAiBS,GAAsB,CAG3C,QAAQ,MAAM,qBAAqBA,CAAS,EAAE,CAChD,gBA1RElE,EAAA,EAAAC,EAwLM,MAxLNC,GAwLM,CAtLJC,EAkCM,MAlCNoE,GAkCM,CAjCJpE,EAqBM,MArBNG,GAqBM,CApBJH,EAEK,KAFLK,GAA8C,cACjCkF,EAAAA,aAAa,EAAA,CAAA,EAGjBC,CAAAA,EAAAA,WAAaC,EAAAA,oBADtB3F,EAOS,SAAA,OALP,KAAK,SACJ,uBAAO4F,EAAAA,MAAK,aAAA,GACb,MAAM,+OAAA,EACP,kBAED,GAEaF,EAAAA,WADb3F,EAAA,EAAAC,EAQO,OARPQ,GAQOO,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,CAJLb,EAEM,MAAA,CAFD,MAAM,eAAe,KAAK,OAAO,OAAO,eAAe,QAAQ,WAAA,GAClEA,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,gBAAA,UACpE,oBAER,EAAA,CAAA,gBAGM2F,EAAAA,gBADR7F,EAUS,SAAA,OARP,KAAK,SACJ,uBAAO4F,EAAAA,MAAK,QAAA,GACb,MAAM,oDACL,+BAA8BH,EAAAA,aAAa,EAAA,iBAE5CvF,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,WAAA,GAC7DA,EAAyM,OAAA,CAAnM,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,8HAAA,4BAM9EA,EA4EM,MA5EN0E,GA4EM,CA1EJL,EAUEC,EAAA,CATC,gBAAiBiB,EAAAA,aAAa,cAC/B,MAAM,aACN,KAAK,OACJ,cAAarE,EAAAA,WAAW,WACxB,MAAOwC,EAAAA,OAAO,WACf,YAAY,mBACZ,SAAA,GACC,sBAAkB7C,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEyB,EAAW,aAAezB,CAAM,GACpD,sBAAMmC,EAAa,YAAA,EAAA,yCAItBe,EAUEC,EAAA,CATC,gBAAiBiB,EAAAA,aAAa,aAC/B,MAAM,YACN,KAAK,OACJ,cAAarE,EAAAA,WAAW,UACxB,MAAOwC,EAAAA,OAAO,UACf,YAAY,kBACZ,SAAA,GACC,sBAAkB7C,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEyB,EAAW,YAAczB,CAAM,GACnD,sBAAMmC,EAAa,WAAA,EAAA,yCAItBe,EAWEC,EAAA,CAVC,gBAAiBiB,EAAAA,aAAa,SAC/B,MAAM,gBACN,KAAK,QACJ,cAAarE,EAAAA,WAAW,MACxB,MAAOwC,EAAAA,OAAO,MACf,YAAY,sBACZ,SAAA,GACA,aAAa,QACZ,sBAAkB7C,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEyB,EAAW,QAAUzB,CAAM,GAC/C,sBAAMmC,EAAa,OAAA,EAAA,yCAItBe,EAUEC,EAAA,CATC,gBAAiBiB,EAAAA,aAAa,SAC/B,MAAM,eACN,KAAK,MACJ,cAAarE,EAAAA,WAAW,MACxB,MAAOwC,EAAAA,OAAO,MACf,YAAY,qBACZ,aAAa,MACZ,sBAAkB7C,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAEyB,EAAW,QAAUzB,CAAM,GAC/C,sBAAMmC,EAAa,OAAA,EAAA,yCAItBe,EASEC,EAAA,CARC,gBAAiBiB,EAAAA,aAAa,YAC/B,MAAM,YACN,KAAK,OACJ,cAAarE,EAAAA,WAAW,SACxB,MAAOwC,EAAAA,OAAO,SACf,YAAY,kBACZ,aAAa,eACZ,sBAAkB7C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAM,GAAEyB,EAAW,WAAazB,CAAM,EAAA,yCAIrDkD,EAQEC,EAAA,CAPC,gBAAiBiB,EAAAA,aAAa,cAC/B,MAAM,aACN,KAAK,OACJ,cAAarE,EAAAA,WAAW,WACxB,MAAOwC,EAAAA,OAAO,WACf,YAAY,mBACX,sBAAkB7C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAM,GAAEyB,EAAW,aAAezB,CAAM,EAAA,2CAK9C4D,EAAA,OAAXlF,EAAA,EAAAC,EA2BM,MA3BNc,GA2BM,CA1BJZ,EAyBM,MAzBN4E,GAyBM,eAxBJ5E,EAMM,MAAA,CAND,MAAM,iBAAe,CACxBA,EAIM,MAAA,CAJD,MAAM,uEAAqE,CAC9EA,EAEM,MAAA,CAFD,MAAM,wBAAwB,KAAK,OAAO,OAAO,eAAe,QAAQ,WAAA,GAC3EA,EAAgJ,OAAA,CAA1I,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,qEAAA,aAI9EA,EAgBM,MAhBNc,GAgBM,CAfJd,EAQI,IARJ6E,GAQI,KAPC3D,EAAAA,WAAW,UAAU,EAAG,MAAIA,EAAAA,WAAW,SAAS,EAAG,IACtD,CAAA,EACQsE,EAAAA,eADR1F,EAKO,OALPsB,GAGC,WAED,cAEFpB,EAA2D,IAA3DsB,GAA2DD,EAAvBH,EAAAA,WAAW,KAAK,EAAA,CAAA,EAC3CA,EAAAA,WAAW,UAApBrB,IAAAC,EAGI,IAHJyB,GAGI,KAFCL,EAAAA,WAAW,QAAQ,EAAG,IACzB,CAAA,EAAYA,EAAAA,WAAW,YAAvBrB,IAAAC,EAAwE,OAAA0B,GAArC,MAAGH,EAAGH,EAAAA,WAAW,UAAU,EAAA,CAAA,wBAEvDA,EAAAA,WAAW,OAApBrB,EAAA,EAAAC,EAAmF,IAAnF2B,GAAmFJ,EAAvBH,EAAAA,WAAW,KAAK,EAAA,CAAA,4BAMvEgE,EAAA,OAAXrF,EAAA,EAAAC,EAmCM,MAnCN6B,GAmCM,CAlCJ3B,EAiCM,MAAA,CAhCH,MAAKU,EAAA,+CAAuEwE,EAAA,MAAkB,uEAO/FpF,EAuBM,MAAA,CAtBH,MAAKY,EAAA,gBAA4CwE,EAAA,MAAkB,QAAO,iBAAA,cAAA,GAI3E,KAAK,OACL,OAAO,eACP,QAAQ,WAAA,GAGAA,EAAA,MAAkB,SAD1BrF,EAAA,EAAAC,EAME,OANF8F,EAME,IACF/F,EAAA,EAAAC,EAME,OANF+B,EAME,EAAA,QACE,IACNR,EAAG6D,EAAA,MAAkB,OAAO,EAAA,CAAA,CAAA,wkDCsGpC,MAAMjJ,EAAQC,EAYRC,EAAOC,EAGPyJ,EAAeC,GAAA,EAGfC,EAAOzJ,EAAyBL,EAAM,WAAW,MAAQ,QAAQ,EACjEO,EAAcF,EAAI,EAAE,EACpB0J,EAAqB1J,EAAcL,EAAM,WAAW,oBAAsB,CAAA,CAAE,EAC5EgK,EAAc3J,EAAkBL,EAAM,WAAW,aAAe,CAAA,CAAE,EAClEiK,EAAsB5J,EAAYL,EAAM,WAAW,qBAAuB,EAAE,EAC5EkK,EAAgB7J,EAA4C,EAAE,EAC9D8J,EAAY9J,EAAI,EAAK,EAKrB+J,EAAmBxJ,EAAS,IAAM,CACtC,GAAI,CAACL,EAAY,MACf,OAAOqJ,EAAa,SAAS,MAAM,EAAG,EAAE,EAG1C,MAAMhI,EAAQrB,EAAY,MAAM,YAAA,EAChC,OAAOqJ,EAAa,SAAS,OAAOS,GAAA,aAClC,QAAAxI,EAAAwI,EAAQ,aAAR,YAAAxI,EAAoB,cAAc,SAASD,OAC3CmH,EAAAsB,EAAQ,YAAR,YAAAtB,EAAmB,cAAc,SAASnH,OAC1CoH,EAAAqB,EAAQ,QAAR,YAAArB,EAAe,cAAc,SAASpH,OACtC0I,EAAAD,EAAQ,WAAR,YAAAC,EAAkB,cAAc,SAAS1I,IAAK,EAC9C,MAAM,EAAG,EAAE,CACf,CAAC,EAKK2I,EAAWC,GAAiC,CAChDV,EAAK,MAAQU,EAGTA,IAAY,UACdR,EAAY,MAAQ,CAAA,EACpBC,EAAoB,MAAQ,GAC5BC,EAAc,MAAQ,CAAA,IAEtBH,EAAmB,MAAQ,CAAA,EAC3BxJ,EAAY,MAAQ,IAGtBkK,EAAA,CACF,EAKMC,EAAe,MAAO9I,GAAkB,CAG5C,GAFArB,EAAY,MAAQqB,EAEhBA,EAAM,QAAU,EAAG,CACrBuI,EAAU,MAAQ,GAClB,GAAI,CACF,MAAMP,EAAa,eAAehI,CAAK,CACzC,QAAA,CACEuI,EAAU,MAAQ,EACpB,CACF,CACF,EAKMQ,EAAgB,CAACC,EAAmBC,IAAsB,CAC1DA,EACGd,EAAmB,MAAM,SAASa,CAAS,IAC9Cb,EAAmB,MAAM,KAAKa,CAAS,EAGnCb,EAAmB,MAAM,SAAW,GACtCe,EAAkBF,CAAS,IAI/Bb,EAAmB,MAAQA,EAAmB,MAAM,OAAOgB,GAAMA,IAAOH,CAAS,EAG7EI,MAA0BJ,GAAab,EAAmB,MAAM,OAAS,GAC3Ee,EAAkBf,EAAmB,MAAM,CAAC,CAAC,GAIjDU,EAAA,CACF,EAEMQ,EAAiBL,GAAsB,CAC3Cb,EAAmB,MAAQA,EAAmB,MAAM,OAAOgB,GAAMA,IAAOH,CAAS,EAG7EI,MAA0BJ,GAAab,EAAmB,MAAM,OAAS,GAC3Ee,EAAkBf,EAAmB,MAAM,CAAC,CAAC,EAG/CU,EAAA,CACF,EAEMS,EAAiB,IAAM,CAC3BnB,EAAmB,MAAQ,CAAA,EAC3BU,EAAA,CACF,EAEMK,EAAqBF,GAAsB,CAE/CH,EAAW,CAAE,iBAAkBG,EAAW,CAC5C,EAEMI,EAAsB,IACnBhL,EAAM,WAAW,kBAAoB+J,EAAmB,MAAM,CAAC,EAGlEoB,EAAkBP,GAA8B,CACpD,MAAMP,EAAUT,EAAa,SAAS,KAAKwB,GAAKA,EAAE,KAAOR,CAAS,EAClE,OAAOP,EAAU,GAAGA,EAAQ,UAAU,IAAIA,EAAQ,SAAS,GAAK,iBAClE,EAKMgB,EAAgB,IAAM,CAC1B,MAAMC,EAAyB,CAC7B,OAAQ,QAAQ,KAAK,IAAA,CAAK,IAAI,KAAK,QAAQ,GAC3C,WAAY,GACZ,UAAW,GACX,MAAO,GACP,MAAO,GACP,SAAU,GACV,WAAY,EAAA,EAGdtB,EAAY,MAAM,KAAKsB,CAAU,EAG7BtB,EAAY,MAAM,SAAW,IAC/BC,EAAoB,MAAQ,GAG9BQ,EAAA,CACF,EAEMc,EAAoBvG,GAAkB,CAC1C,MAAMwG,EAAiBxB,EAAY,MAAMhF,CAAK,EAC9CgF,EAAY,MAAM,OAAOhF,EAAO,CAAC,EAG7BkF,EAAc,MAAMsB,EAAe,MAAM,GAC3C,OAAOtB,EAAc,MAAMsB,EAAe,MAAM,EAI9CvB,EAAoB,QAAUjF,EAChCiF,EAAoB,MAAQD,EAAY,MAAM,OAAS,EAAI,EAAI,GACtDC,EAAoB,MAAQjF,GACrCiF,EAAoB,QAGtBQ,EAAA,CACF,EAEMgB,EAAmB,CAACzG,EAAeqE,IAA+B,CAClEW,EAAY,MAAMhF,CAAK,IACzBgF,EAAY,MAAMhF,CAAK,EAAI,CAAE,GAAGqE,CAAA,EAG5Ba,EAAc,MAAMb,EAAe,MAAM,IAC3Ca,EAAc,MAAMb,EAAe,MAAM,EAAI,CAAA,GAG/CoB,EAAA,EAEJ,EAEMiB,EAA0B1G,GAAkB,CAChDiF,EAAoB,MAAQjF,EAC5ByF,EAAA,CACF,EAKMA,EAAa,CAACkB,EAAkC,KAAO,CAC3D,MAAMC,EAA2B,CAC/B,KAAM9B,EAAK,MACX,mBAAoB,CAAC,GAAGC,EAAmB,KAAK,EAChD,YAAa,CAAC,GAAGC,EAAY,KAAK,EAClC,iBAAkBgB,EAAA,EAClB,oBAAqBf,EAAoB,MACzC,GAAG0B,CAAA,EAGLzL,EAAK,oBAAqB0L,CAAW,EAGrC,MAAMlE,EAAUmE,EAAA,EAChB3L,EAAK,WAAYwH,EAAS,EAAE,CAC9B,EAKMmE,EAAmB,IAAe,CAEtC,IAAInE,EAAU,GAEd,OAAIoC,EAAK,QAAU,SAEbC,EAAmB,MAAM,SAAW,IAEtCrC,EAAU,IAEHoC,EAAK,QAAU,WAEpBE,EAAY,MAAM,SAAW,EAE/BtC,EAAU,GAGVsC,EAAY,MAAM,QAASK,GAAY,CACrC,MAAMyB,EAAqC,CAAA,EAEtCzB,EAAQ,WAAW,SACtByB,EAAW,WAAa,yBACxBpE,EAAU,IAGP2C,EAAQ,UAAU,SACrByB,EAAW,UAAY,wBACvBpE,EAAU,IAGP2C,EAAQ,MAAM,OAIE,6BACH,KAAKA,EAAQ,KAAK,IAChCyB,EAAW,MAAQ,qCACnBpE,EAAU,KANZoE,EAAW,MAAQ,oBACnBpE,EAAU,IASR,OAAO,KAAKoE,CAAU,EAAE,OAAS,IACnC5B,EAAc,MAAMG,EAAQ,MAAM,EAAIyB,EAE1C,CAAC,GAIEpE,CACT,EAKMqE,EAAsB,IAAM,CAChCjC,EAAK,MAAQ9J,EAAM,WAAW,MAAQ,SACtC+J,EAAmB,MAAQ,CAAC,GAAI/J,EAAM,WAAW,oBAAsB,EAAG,EAC1EgK,EAAY,MAAQ,CAAC,GAAIhK,EAAM,WAAW,aAAe,EAAG,EAC5DiK,EAAoB,MAAQjK,EAAM,WAAW,qBAAuB,EACtE,EAKA,OAAA2D,GAAM,IAAM3D,EAAM,WAAY+L,EAAqB,CAAE,KAAM,GAAM,EAKjEtI,EAAU,SAAY,CACpB,MAAMmG,EAAa,cAAA,EACnBmC,EAAA,EAGA,MAAMrE,EAAUmE,EAAA,EAChB3L,EAAK,WAAYwH,EAAS,EAAE,CAC9B,CAAC,UAhkBC9D,EAAA,EAAAC,EA8OM,MA9ONC,GA8OM,CA5OJC,EA+BM,MA/BNoE,GA+BM,CA9BJpE,EAcS,SAAA,CAbP,KAAK,SACJ,MAAKU,EAAA,kHAA0IqF,EAAA,QAAI,4GAMnJ,uBAAOS,EAAO,QAAA,EAAA,eAEfxG,EAEM,MAAA,CAFD,MAAM,sBAAsB,KAAK,OAAO,OAAO,eAAe,QAAQ,WAAA,GACzEA,EAAwH,OAAA,CAAlH,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,6CAAA,UACpE,6BAER,EAAA,CAAA,MACAA,EAcS,SAAA,CAbP,KAAK,SACJ,MAAKU,EAAA,kHAA0IqF,EAAA,QAAI,4GAMnJ,uBAAOS,EAAO,QAAA,EAAA,eAEfxG,EAEM,MAAA,CAFD,MAAM,sBAAsB,KAAK,OAAO,OAAO,eAAe,QAAQ,WAAA,GACzEA,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,gBAAA,UACpE,wBAER,EAAA,CAAA,QAIS+F,EAAA,QAAI,UAAflG,IAAAC,EAqJM,MArJNK,GAqJM,CAnJJH,EAeM,MAfNK,GAeM,CAdJgE,EAaiBC,EAAA,CAZf,KAAK,iBACL,MAAM,kBACN,KAAK,OACJ,cAAa9H,EAAA,MACd,YAAY,0CACX,kCAAqBsG,GAAU6D,EAAa,OAAO7D,CAAK,CAAA,EAAA,GAE9C,QACT,IAEMjC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAFNb,EAEM,MAAA,CAFD,MAAM,wBAAwB,KAAK,OAAO,OAAO,eAAe,QAAQ,WAAA,GAC3EA,EAAwH,OAAA,CAAlH,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,6CAAA,qCAOrEqG,EAAA,MAAiB,OAAM,GAAlCxG,IAAAC,EAuDM,MAvDNQ,GAuDM,CAtDJN,EAGM,MAHNyE,GAGM,CAFJ5D,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAb,EAAqE,KAAA,CAAjE,MAAM,mCAAA,EAAoC,qBAAkB,EAAA,GAChEA,EAA8E,OAA9E0E,GAA8ErD,EAAvCgF,QAAiB,MAAM,EAAG,SAAM,CAAA,CAAA,GAGzErG,EAgDM,MAhDNY,GAgDM,QA/CJd,EA8CMiB,EAAA,KAAAC,GA7CcqF,EAAA,MAAXC,QADTxG,EA8CM,MAAA,CA5CH,IAAKwG,EAAQ,GACd,MAAM,mHAAA,GAENtG,EAkBM,MAlBN4E,GAkBM,CAjBJ5E,EAME,QAAA,CALC,GAAE,WAAasG,EAAQ,EAAE,GAC1B,KAAK,WACJ,QAASN,EAAA,MAAmB,SAASM,EAAQ,EAAE,EAC/C,SAAMnF,GAAEyF,EAAcN,EAAQ,GAAKnF,EAAO,OAA4B,OAAO,EAC9E,MAAM,mEAAA,cAERnB,EASM,MATN6E,GASM,CARJ7E,EAKQ,QAAA,CAJL,IAAG,WAAasG,EAAQ,EAAE,GAC3B,MAAM,wDAAA,EAEHjF,EAAAiF,EAAQ,UAAU,EAAG,IAACjF,EAAGiF,EAAQ,SAAS,EAAA,EAAAlF,EAAA,EAE/CpB,EAAwD,IAAxDsB,GAAwDD,EAApBiF,EAAQ,KAAK,EAAA,CAAA,EACxCA,EAAQ,UAAjBzG,EAAA,EAAAC,EAAmF,IAAnFyB,GAAmFF,EAAvBiF,EAAQ,QAAQ,EAAA,CAAA,gBAGhFtG,EAqBM,MArBNwB,GAqBM,CAnBIyF,EAAA,IAA0BX,EAAQ,QAD1CxG,EAKO,OALP2B,GAGC,WAED,YAEQuE,EAAA,MAAmB,SAASM,EAAQ,EAAE,OAD9CxG,EAaS,SAAA,OAXP,KAAK,SACJ,QAAKqB,GAAE4F,EAAkBT,EAAQ,EAAE,EACnC,MAAK5F,EAAA,sDAA8FuG,MAA0BX,EAAQ,+IAMrI,SAAUW,EAAA,IAA0BX,EAAQ,EAAA,IAE1CW,EAAA,IAA0BX,EAAQ,GAAE,UAAA,aAAA,EAAA,GAAA3E,EAAA,6BAQjCnF,EAAA,QAAgB4J,EAAA,OAAhCvG,IAAAC,EAYM,MAZN8F,GAYM,aAXJ5F,EAEM,MAAA,CAFD,MAAM,kCAAkC,KAAK,OAAO,OAAO,eAAe,QAAQ,WAAA,GACrFA,EAAwH,OAAA,CAAlH,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,6CAAA,SAE1EA,EAAwF,IAAxF6B,GAAsC,+BAA4BR,EAAG7E,EAAA,KAAW,EAAG,IAAC,CAAA,EACpFwD,EAMS,SAAA,CALP,KAAK,SACJ,uBAAOwG,EAAO,QAAA,GACf,MAAM,gDAAA,EACP,gCAED,CAAA,aAISJ,EAAA,OAAXvG,EAAA,EAAAC,EAQM,MARNgC,GAQMjB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,8eAGKmF,EAAA,MAAmB,OAAM,GAApCnG,IAAAC,EA4CM,MA5CNmI,GA4CM,CA3CJjI,EAWM,MAXNiC,GAWM,CAVJjC,EAEK,KAFLkI,GAA8C,yBACtBlC,EAAA,MAAmB,MAAM,EAAG,KACpD,CAAA,EACAhG,EAMS,SAAA,CALP,KAAK,SACJ,QAAOmH,EACR,MAAM,2CAAA,EACP,aAED,CAAA,GAEFnH,EA8BM,MA9BNmI,GA8BM,QA7BJrI,EA4BMiB,EAAA,KAAAC,GA3BgBgF,EAAA,MAAba,QADT/G,EA4BM,MAAA,CA1BH,IAAK+G,EACN,MAAM,oFAAA,GAEN7G,EAYM,MAZNoI,GAYM,CAXJpI,EAUM,MAVNqI,GAUM,CATJrI,EAEO,OAFPsI,GAEOjH,EADF+F,EAAeP,CAAS,CAAA,EAAA,CAAA,EAGrBI,MAA0BJ,OADlC/G,EAKO,OALPyI,GAGC,mBAED,gBAGJvI,EASS,SAAA,CARP,KAAK,SACJ,QAAKmB,GAAE+F,EAAcL,CAAS,EAC/B,MAAM,oDACL,aAAU,UAAYO,EAAeP,CAAS,CAAA,EAAA,iBAE/C7G,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,WAAA,GAC7DA,EAAiG,OAAA,CAA3F,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,sBAAA,2CASpE+F,EAAA,QAAI,UAApBlG,EAAA,EAAAC,EAuCM,MAvCN0I,GAuCM,CArCJxI,EAWM,MAAA,CAXD,MAAM,eAAa,CACtBA,EASS,SAAA,CARP,KAAK,SACJ,QAAOsH,EACR,MAAM,gOAAA,iBAENtH,EAEM,MAAA,CAFD,MAAM,eAAe,KAAK,OAAO,OAAO,eAAe,QAAQ,WAAA,GAClEA,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,gBAAA,UACpE,oBAER,EAAA,CAAA,MAISiG,EAAA,MAAY,OAAM,GAA7BpG,IAAAC,EAaM,MAbN2I,GAaM,EAZJ5I,EAAA,EAAA,EAAAC,EAWEiB,EAAA,KAAAC,GAV2BiF,EAAA,MAAW,CAA9BK,EAASrF,SADnB6D,GAWE4D,GAAA,CATC,IAAKpC,EAAQ,OACb,cAAaA,EACb,OAAQH,EAAA,MAAcG,EAAQ,MAAM,GAAA,CAAA,EACpC,iBAAgBrF,EAAK,EACrB,cAAagF,EAAA,MAAY,OAAM,EAC/B,aAAYC,EAAA,QAAwBjF,EACpC,sBAAkBE,GAAEuG,EAAiBzG,EAAOE,CAAM,EAClD,SAAMA,GAAEqG,EAAiBvG,CAAK,EAC9B,aAAWE,GAAEwG,EAAuB1G,CAAK,CAAA,2IAK9CpB,EAAA,EAAAC,EAMM,MANN6I,GAMM9H,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,CALJb,EAEM,MAAA,CAFD,MAAM,kCAAkC,KAAK,OAAO,OAAO,eAAe,QAAQ,WAAA,GACrFA,EAAgJ,OAAA,CAA1I,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,qEAAA,QAE1EA,EAA+D,IAAA,CAA5D,MAAM,4BAAA,EAA6B,wBAAqB,EAAA,EAC3DA,EAA2E,IAAA,CAAxE,MAAM,uBAAA,EAAwB,yCAAsC,EAAA,CAAA,iBAKhE+B,EAAAA,OAAXlC,EAAA,EAAAC,EAOM,MAPN8I,GAOM,CANJ5I,EAKM,MALN6I,GAKM,eAJJ7I,EAEM,MAAA,CAFD,MAAM,iDAAiD,KAAK,OAAO,OAAO,eAAe,QAAQ,WAAA,GACpGA,EAA8H,OAAA,CAAxH,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,mDAAA,SAE1EA,EAA+C,IAA/C8I,GAA+CzH,EAAZU,EAAAA,KAAK,EAAA,CAAA,CAAA,obC3KhD,MAAM9F,EAAQC,EAYRC,EAAOC,EAKPyJ,EAAeC,GAAA,EAKf+B,EAAcvL,EAAiB,CACnC,KAAM,SACN,mBAAoB,CAAA,EACpB,YAAa,CAAA,EACb,iBAAkB,OAClB,oBAAqB,EAAA,CACtB,EAEKyM,EAAezM,EAAY,EAAE,EAC7B0M,EAAqB1M,EAAI,EAAK,EAK9B2M,EAAcpM,EAAS,IACpBgL,EAAY,MAAM,OAAS,SAC9BA,EAAY,MAAM,mBAAmB,OAAS,EAC9CA,EAAY,MAAM,YAAY,OAAS,CAC5C,EAEKqB,EAAqBrM,EAAS,IAAM,CACxC,GAAIgL,EAAY,MAAM,OAAS,UAAYA,EAAY,MAAM,iBAAkB,CAC7E,MAAMvB,EAAUT,EAAa,SAAS,QAAUwB,EAAE,KAAOQ,EAAY,MAAM,gBAAgB,EAC3F,OAAOvB,EAAU,GAAGA,EAAQ,UAAU,IAAIA,EAAQ,SAAS,GAAK,MAClE,SAAWuB,EAAY,MAAM,OAAS,UAAYA,EAAY,MAAM,sBAAwB,QAAaA,EAAY,MAAM,qBAAuB,EAAG,CACnJ,MAAMvB,EAAUuB,EAAY,MAAM,YAAYA,EAAY,MAAM,mBAAmB,EACnF,OAAOvB,EAAU,GAAGA,EAAQ,UAAU,IAAIA,EAAQ,SAAS,GAAK,MAClE,CAEF,CAAC,EAKK6C,EAA2BC,GAAgC,CAC/DvB,EAAY,MAAQ,CAAE,GAAGuB,CAAA,EACzBC,EAAA,CACF,EAKMC,EAA0B,CAAC3F,EAAkBD,IAAmC,CACpFsF,EAAmB,MAAQrF,EAC3BoF,EAAa,MAAQrF,EAAO,UAAY,GAGxCvH,EAAK,WAAY,EAAGwH,EAASD,CAAM,CACrC,EAKM2F,EAAiB,IAAM,CAC3B,MAAMtG,EAAc,CAAE,GAAG9G,EAAM,UAAA,EAG/B8G,EAAY,cAAgB,CAC1B,GAAGA,EAAY,cACf,aAAc8E,EAAY,MAAM,KAChC,qBAAsBA,EAAY,MAAM,mBACxC,aAAcA,EAAY,MAAM,YAChC,mBAAoBA,EAAY,MAAM,iBACtC,sBAAuBA,EAAY,MAAM,mBAAA,EAG3C1L,EAAK,oBAAqB4G,CAAW,CACvC,EAKMwG,EAAyB,IAAM,CACnC,MAAMC,EAAevN,EAAM,WAAW,cAClCuN,IACF3B,EAAY,MAAQ,CAClB,KAAM2B,EAAa,cAAgB,SACnC,mBAAoBA,EAAa,sBAAwB,CAAA,EACzD,YAAaA,EAAa,cAAgB,CAAA,EAC1C,iBAAkBA,EAAa,mBAC/B,oBAAqBA,EAAa,uBAAyB,EAAA,EAGjE,EAKA,OAAA5J,GACE,IAAM3D,EAAM,WAAW,cACvB,IAAM,CACJsN,EAAA,CACF,EACA,CAAE,KAAM,EAAA,CAAK,EAMf7J,EAAU,SAAY,CAEpB,MAAMmG,EAAa,cAAA,EAGnB0D,EAAA,CACF,CAAC,UA/LC1J,EAAA,EAAAC,EA0CM,MA1CNC,GA0CM,CAxCJC,EAuCM,MAvCNoE,GAuCM,aAtCJpE,EAKM,MAAA,CALD,MAAM,eAAa,CACtBA,EAA2E,KAAA,CAAvE,MAAM,wCAAA,EAAyC,qBAAmB,EACtEA,EAEI,IAAA,CAFD,MAAM,4BAAA,EAA6B,yEAEtC,CAAA,OAIFqE,EAMEoF,GAAA,CALC,cAAa5B,EAAA,MACb,MAAOkB,EAAA,MACP,QAASpI,EAAAA,QACT,sBAAoBwI,EACpB,WAAUG,CAAA,4CAIFL,EAAA,OAAXpJ,EAAA,EAAAC,EAoBM,MApBNK,GAoBM,CAnBJH,EAkBM,MAlBNK,GAkBM,aAjBJL,EAEM,MAAA,CAFD,MAAM,kDAAkD,KAAK,OAAO,OAAO,eAAe,QAAQ,WAAA,GACrGA,EAAsI,OAAA,CAAhI,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,2DAAA,SAE1EA,EAaM,MAbNM,GAaM,CAZJO,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAb,EAAqE,KAAA,CAAjE,MAAM,mCAAA,EAAoC,qBAAkB,EAAA,GAChEA,EAUM,MAVNyE,GAUM,CATKoD,EAAA,MAAY,OAAI,UAAzBhI,IAAAC,EAEI,IAAA4E,GAAArD,EADCwG,EAAA,MAAY,mBAAmB,MAAM,EAAG,oBAAiBxG,EAAGwG,QAAY,mBAAmB,mBAA0B,yCAC1H,CAAA,IACAhI,IAAAC,EAEI,IAAAc,GAAAS,EADCwG,EAAA,MAAY,YAAY,MAAM,EAAG,eAAYxG,EAAGwG,QAAY,YAAY,mBAA0B,qDACvG,CAAA,GACSqB,EAAA,OAATrJ,EAAA,EAAAC,EAEI,IAFJ8E,GAEI,CADF5E,EAAyC,gBAA9BkJ,EAAA,KAAkB,EAAA,CAAA,gBAAY,wCAC3C,EAAA,EAAA,gvCC4NRQ,GAAa,iLArBnB,MAAMzN,EAAQC,EAaRC,EAAOC,EAGPuN,EAASC,GAAA,EACTC,EAAoBC,GAAA,EAGpBC,EAAczN,EAAI,CAAC,EAEnB0N,EAAe1N,EAAI,EAAK,EACxB2N,EAAe3N,EAAI,EAAK,EACxB4N,EAAc5N,EAAI,EAAE,EACpB6N,EAAiB7N,EAAyC,IAAI,EAG9D8N,EAAiBC,GAAS,CAC9B,EAAG,GACH,EAAG,GACH,EAAG,EAAA,CACJ,EAGKC,EAAWD,GAA0C,CACzD,KAAM,GACN,SAAU,GACV,WAAY,KACZ,KAAM,KACN,OAAQ,WACR,eAAgB,GAChB,KAAM,GACN,eAAgB,GAChB,YAAa,GACb,cAAe,GACf,QAAS,GACT,iBAAkB,KAClB,YAAa,GACb,GAAGpO,EAAM,WAAA,CACV,EAGKsO,EAAaF,GAAiD,CAClE,EAAG,CAAA,EACH,EAAG,CAAA,EACH,EAAG,CAAA,CAAC,CACL,EAKKG,EAAQ,CACZ,CACE,GAAI,EACJ,MAAO,aACP,YAAa,gEACb,UAAW,sBACX,eAAgB,CAAC,OAAQ,WAAY,YAAY,CAAA,EAEnD,CACE,GAAI,EACJ,MAAO,oBACP,YAAa,2CACb,UAAW,sBACX,eAAgB,CAAA,CAAC,EAEnB,CACE,GAAI,EACJ,MAAO,eACP,YAAa,kDACb,UAAW,wBACX,eAAgB,CAAA,CAAC,CACnB,EAMIC,EAAkB5N,EAAS,IAAM2N,EAAMT,EAAY,MAAQ,CAAC,CAAC,EAE7DW,EAAuB7N,EAAS,KACf,CAAA,oBACnB8N,GAAA,oBACAC,GAAA,sBACAC,EAAA,GAEkBJ,EAAgB,MAAM,SAAsC,CACjF,EAEKK,EAAajO,EAAS,IAAMkN,EAAY,QAAUL,EAAU,EAE5DqB,EAAalO,EAAS,IAAM0N,EAAWR,EAAY,KAAK,GAAK,EAAE,EAE/DiB,EAAqBnO,EAAS,IAAMuN,EAAeL,EAAY,KAAoC,CAAC,EAKpGkB,EAAwBC,GAA6C,CACzE,OAAO,OAAOZ,EAAUY,CAAO,EAG/BC,EAAA,CACF,EAKMC,EAAuB,MAAOC,EAAoB1H,EAAkBD,EAAiC,CAAA,IAAO,CAChH0G,EAAeiB,CAAyC,EAAI1H,EAC5D4G,EAAWc,CAAU,EAAI3H,EAGrBC,GAAWuG,EAAY,QACzBA,EAAY,MAAQ,GAExB,EAEMoB,EAAsB,SAA8B,CACxDrB,EAAa,MAAQ,GAErB,GAAI,CACF,MAAM9E,EAAiBsF,EAAgB,MAAM,eACvC7G,EAAgC,CAAA,EAGtC,OAAAuB,EAAe,QAAQtC,GAAS,CAC9Be,EAASf,CAAK,EAAIyH,EAASzH,CAA8B,CAC3D,CAAC,EAGGsC,EAAe,OAAS,GAE1B,MADsBtB,GAAyB,KAAKsB,CAAqB,EACrD,SAASvB,EAAU,CAAE,WAAY,GAAO,EAI9D,MAAMwH,EAAqBrB,EAAY,MAAO,GAAM,CAAA,CAAE,EAC/C,EAET,OAAShI,EAAY,CACnB,MAAM2B,EAAiC,CAAA,EAEvC,OAAI3B,EAAM,MACRA,EAAM,MAAM,QAAS+B,GAAa,CAC5BA,EAAI,OACNJ,EAAOI,EAAI,IAAI,EAAIA,EAAI,QAE3B,CAAC,EAEDJ,EAAO,QAAU3B,EAAM,SAAW,oBAGpC,MAAMqJ,EAAqBrB,EAAY,MAAO,GAAOrG,CAAM,EACpD,EAET,QAAA,CACEuG,EAAa,MAAQ,EACvB,CACF,EAKMsB,EAAe,SAAY,CAC3BxB,EAAY,MAAQL,IACN,MAAM4B,EAAA,IAEpBvB,EAAY,QACZ,MAAMyB,GAAA,EAENC,EAAA,EAGN,EAEMC,EAAmB,IAAM,CACzB3B,EAAY,MAAQ,IACtBA,EAAY,QACZyB,GAAS,IAAM,CACbC,EAAA,CACF,CAAC,EAEL,EAEME,EAAqB,SAAY,CACjCb,EAAW,MACb,MAAMc,EAAA,EAEN,MAAML,EAAA,CAEV,EAKMK,EAAe,SAAY,OAC/B,GAAI,CACF5B,EAAa,MAAQ,GACrBE,EAAY,MAAQ,GAGpB,QAAS2B,EAAO,EAAGA,GAAQnC,GAAYmC,IAGrC,GAFA9B,EAAY,MAAQ8B,EAEhB,CADY,MAAMP,EAAA,EACR,CACZpB,EAAY,MAAQ,6BAA6B2B,CAAI,GACrD,MACF,CAIF,MAAMrC,EAAec,EAAS,cACxBzC,EAAc,CAClB,MAAM2B,GAAA,YAAAA,EAAc,eAAgB,SACpC,oBAAoBA,GAAA,YAAAA,EAAc,uBAAwB,CAAA,EAC1D,aAAaA,GAAA,YAAAA,EAAc,eAAgB,CAAA,CAAC,EAIxCsC,EAAmB,CACvB,GAAGxB,EAEH,KAAMA,EAAS,MAAQ,GACvB,SAAUA,EAAS,UAAY,KAC/B,WAAYA,EAAS,YAAc,KAEnC,OAAMxM,EAAAwM,EAAS,OAAT,YAAAxM,EAAe,OAAOiO,GAAOA,IAAQ,UAAc,KAEzD,cAAevC,EAAe,CAC5B,GAAGA,EACH,aAAc,OACd,qBAAsB,OACtB,aAAc,MAAA,EACZ,CAAA,CAAC,EAIP,IAAIwC,EACA/P,EAAM,WAAaA,EAAM,eAC3B+P,EAAS,MAAMnC,EAAkB,+BAC/B5N,EAAM,eACN6P,EACAjE,CAAA,EAGFmE,EAAS,MAAMnC,EAAkB,+BAC/BiC,EACAjE,CAAA,EAIAmE,GAEFC,EAAA,EAGA9P,EAAK,UAAW6P,EAAO,EAAE,EAGzBrC,EAAO,KAAK,kBAAkBqC,EAAO,EAAE,EAAE,GAEzC9B,EAAY,MAAQ,gDAGxB,OAASnI,EAAY,CACnBmI,EAAY,MAAQnI,EAAM,SAAW,+BACrC,QAAQ,MAAM,yBAA0BA,CAAK,CAE/C,QAAA,CACEiI,EAAa,MAAQ,EACvB,CACF,EAKA,IAAIkC,EAAwD,KAE5D,MAAMf,EAAoB,IAAM,CAC1Be,GACF,aAAaA,CAAe,EAG9BA,EAAkB,WAAW,SAAY,CACvC,MAAMC,EAAA,CACR,EAAG,GAAI,CACT,EAEMA,EAAgB,SAAY,CAChC,GAAI,CACFhC,EAAe,MAAQ,SAGvB,MAAMiC,EAAWnQ,EAAM,UAAY,kBAAkBA,EAAM,cAAc,GAAK,mBAC9E,aAAa,QAAQmQ,EAAU,KAAK,UAAU,CAC5C,SAAU,CAAE,GAAG9B,CAAA,EACf,YAAaP,EAAY,MACzB,UAAW,KAAK,IAAA,CAAI,CACrB,CAAC,EAEFI,EAAe,MAAQ,QACvBhO,EAAK,cAAe,CAAE,GAAGmO,EAAU,EAGnC,WAAW,IAAM,CACfH,EAAe,MAAQ,IACzB,EAAG,GAAI,CAET,OAASpI,EAAO,CACdoI,EAAe,MAAQ,QACvB,QAAQ,MAAM,mBAAoBpI,CAAK,EAEvC,WAAW,IAAM,CACfoI,EAAe,MAAQ,IACzB,EAAG,GAAI,CACT,CACF,EAEMkC,EAAqB,IAAM,CAC/B,GAAI,CACF,MAAMD,EAAWnQ,EAAM,UAAY,kBAAkBA,EAAM,cAAc,GAAK,mBACxEqQ,EAAa,aAAa,QAAQF,CAAQ,EAEhD,GAAIE,EAAY,CACd,MAAMC,EAAQ,KAAK,MAAMD,CAAU,GACb,KAAK,IAAA,EAAQC,EAAM,YAAc,IAAO,IAG3C,IAAM,CAACtQ,EAAM,cAC9B,OAAO,OAAOqO,EAAUiC,EAAM,QAAQ,EACtCxC,EAAY,MAAQwC,EAAM,aAAe,EAE7C,CACF,OAASxK,EAAO,CACd,QAAQ,MAAM,mCAAoCA,CAAK,CACzD,CACF,EAEMkK,EAAsB,IAAM,CAChC,GAAI,CACF,MAAMG,EAAWnQ,EAAM,UAAY,kBAAkBA,EAAM,cAAc,GAAK,mBAC9E,aAAa,WAAWmQ,CAAQ,CAClC,OAASrK,EAAO,CACd,QAAQ,MAAM,oCAAqCA,CAAK,CAC1D,CACF,EAKM0J,EAAkB,IAAM,CAC5BD,GAAS,IAAM,CACb,MAAMgB,EAAa,SAAS,cAAc,yBAAyB,EACnEA,GAAA,MAAAA,EAAY,OACd,CAAC,CACH,EAKA9M,EAAU,IAAM,CAEd2M,EAAA,EAGAZ,EAAA,CACF,CAAC,EAKD,MAAMtM,EAAiBT,GAAyB,CAC1CA,EAAM,MAAQ,UAChBvC,EAAK,QAAQ,CAEjB,EAGA,OAAAuD,EAAU,IAAM,CACd,SAAS,iBAAiB,UAAWP,CAAa,CACpD,CAAC,EAIDQ,GAAY,IAAM,CAChB,SAAS,oBAAoB,UAAWR,CAAa,EACjD+M,GACF,aAAaA,CAAe,CAEhC,CAAC,UA5nBCrM,EAAA,EAAAC,EAiNM,MAjNNC,GAiNM,CA/MJC,EAsBM,MAtBNoE,GAsBM,CArBJpE,EAUM,MAVNG,GAUM,EATJN,EAAA,EAAAC,EAQEiB,EAAA,KAAAC,GAPwBwJ,EAAK,CAArBqB,EAAM5K,IADhBjB,EAQE,MAAA,CANC,IAAK6L,EAAK,GACV,MAAKnL,EAAA,yDAAqFO,KAAa8I,EAAA,MAAW,iBAAA,aAAA,GAIlH,aAAU,QAAU9I,EAAK,CAAA,KAAS4K,EAAK,KAAK,EAAA,sBAKjD7L,EAOM,MAPNM,GAOM,CANJN,EAEK,KAFLyE,GAEKpD,EADAoJ,EAAA,MAAgB,KAAK,EAAA,CAAA,EAE1BzK,EAEI,IAFJ0E,GAEIrD,EADCoJ,EAAA,MAAgB,WAAW,EAAA,CAAA,CAAA,KAO5BN,EAAA,OADRtK,EAAA,EAAAC,EA0EM,MA1ENc,GA0EM,CAtEJZ,EAqEM,MAAA,CApEH,MAAKU,EAAA,sDAA8EyJ,EAAA,QAAc,SAAA,2BAAuDA,EAAA,QAAc,QAAA,0DAS/JA,EAAA,QAAc,UADtBtK,EAAA,EAAAC,EAmBM,MAnBN8E,GAmBM/D,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAbJb,EAOE,SAAA,CANA,MAAM,aACN,GAAG,KACH,GAAG,KACH,EAAE,KACF,OAAO,eACP,eAAa,GAAA,WAEfA,EAIE,OAAA,CAHA,MAAM,aACN,KAAK,eACL,EAAE,iHAAA,eAMOmK,EAAA,QAAc,SAD3BtK,EAAA,EAAAC,EAaM,MAbNgB,GAaMD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CANJb,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,gBAAA,gBAKNH,IAAAC,EAaM,MAbN+E,GAaMhE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CANJb,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,mDAAA,eAINA,EAMO,cAJHmK,EAAA,QAAc,SAAA,kBAAgDA,EAAA,QAAc,QAAA,yDAU5ED,EAAA,OADRrK,EAAA,EAAAC,EAwBM,MAxBNsB,GAwBM,CAnBJpB,EAkBM,MAlBNsB,GAkBM,aAjBJtB,EAYM,MAAA,CAXJ,MAAM,iDACN,KAAK,OACL,OAAO,eACP,QAAQ,WAAA,GAERA,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,mDAAA,SAGNA,EAGM,MAAA,KAAA,CAFJa,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAb,EAAuD,KAAA,CAAnD,MAAM,kCAAA,EAAmC,QAAK,EAAA,GAClDA,EAA0D,IAA1DuB,GAA0DF,EAAlB6I,EAAA,KAAW,EAAA,CAAA,CAAA,iBAMzDlK,EAYM,MAZNwB,GAYM,CAXJxB,EAUM,MAVNyB,GAUM,EARJ5B,IAAAiF,GAOE2H,GANK/B,EAAA,KAAoB,EAAA,CACxB,cAAaJ,EACb,OAAQS,EAAA,MACR,QAASd,EAAA,MACT,WAAUmB,EACV,sBAAmBH,CAAA,mDAM1BjL,EA6DM,MA7DN2B,GA6DM,CA5DJ3B,EA2DM,MA3DN4F,GA2DM,CA1DJ5F,EAyDM,MAzDN6B,GAyDM,CAtDIkI,EAAA,MAAW,OADnBjF,GAqBS4H,GAAA,OAnBP,QAAQ,YACR,KAAK,KACJ,SAAU1C,EAAA,MACV,QAAO0B,CAAA,cAER,IAYM7K,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAZNb,EAYM,MAAA,CAXJ,MAAM,eACN,KAAK,OACL,OAAO,eACP,QAAQ,WAAA,GAERA,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,iBAAA,UAEA,SAER,EAAA,CAAA,sCACAF,EAAkB,MAAAgC,EAAA,GAElB9B,EA8BM,MA9BNiI,GA8BM,CA5BJjI,EAEM,MAFNiC,GAAmC,WACzB8H,EAAA,KAAW,EAAG,OAAI1I,EAAGqI,EAAU,EAAA,CAAA,EAIzCrF,EAsBSqI,GAAA,CArBN,QAAS5B,EAAA,MAAU,UAAA,UACpB,KAAK,KACJ,QAASd,EAAA,OAAgBC,EAAA,MACzB,SAAQ,CAAGe,EAAA,OAAsBhB,EAAA,MACjC,QAAO2B,CAAA,cAER,IAAiD,CAA9CgB,EAAAtL,EAAAyJ,EAAA,oCAA8C,IACjD,CAAA,EACSA,EAAA,gBADTjL,EAAA,EAAAC,EAaM,MAbNoI,GAaMrH,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CANJb,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,cAAA,mRC5JpB,MAAM2J,EAASC,GAAA,EAKTgD,EAAiBC,GAA2B,CAEhDlD,EAAO,KAAK,kBAAkBkD,CAAc,EAAE,CAChD,EAEMC,EAAe,IAAM,CAEzBnD,EAAO,KAAK,gBAAgB,CAC9B,EAEMoD,EAAoBzC,GAA8C,CACtE,QAAQ,IAAI,eAAgBA,CAAQ,CAEtC,0CA9DE,OAAAzK,EAAA,EAAAC,EA8BM,MA9BNC,GA8BM,CA5BJC,EAoBM,MApBNoE,GAoBM,CAnBJpE,EAUM,MAAA,KAAA,CATJA,EAIM,MAJNG,GAIM,CAHJkE,EAAwF2I,EAAA,CAA3E,GAAG,iBAAiB,MAAM,qBAAA,cAAsB,IAAanM,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAAb,gBAAa,EAAA,CAAA,iBAC1EwD,EAAoC4I,GAAAC,EAAA,EAAA,CAAlB,MAAM,UAAS,EACjCrM,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAb,EAAmD,OAAA,CAA7C,MAAM,iBAAgB,mBAAgB,EAAA,EAAA,GAE9Ca,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAb,EAAyE,KAAA,CAArE,MAAM,kCAAA,EAAmC,0BAAuB,EAAA,GACpEa,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAb,EAEI,IAAA,CAFD,MAAM,8BAA6B,8CAEtC,EAAA,EAAA,GAGFqE,EAMc2I,EAAA,CALZ,GAAG,iBACH,MAAM,0MAAA,cAEN,IAAkC,CAAlC3I,EAAkC4I,GAAAE,EAAA,EAAA,CAAvB,MAAM,eAAc,gBAAG,WAEpC,EAAA,EAAA,kBAIF9I,EAIE+I,GAAA,CAHC,UAASR,EACT,SAAQE,EACR,aAAaC,CAAA"}