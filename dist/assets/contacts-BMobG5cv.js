import{c as l,V as n,a as d,b as s,d as p,e as m}from"./index.esm-DD28t5m0.js";const c=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,o=/^[+]?[1-9][\d]{0,15}$|^[+]?[()]?[\d\s\-()]{10,20}$/,w=["Executive Chef","Manager","Buyer","Owner","F&B Director","Kitchen Manager","Assistant Manager","Head Chef","Sous Chef","Food Service Director"],h=["High","Medium","Low","Unknown"],b=["Decision Maker","Influencer","End User","Gatekeeper"],f=l({first_name:s().required("First name is required").min(1,"First name cannot be empty").max(100,"First name must be less than 100 characters").trim(),last_name:s().required("Last name is required").min(1,"Last name cannot be empty").max(100,"Last name must be less than 100 characters").trim(),organization_id:s().required("Organization is required").uuid("Organization ID must be valid"),position:s().required("Position is required").min(1,"Position cannot be empty").max(100,"Position must be less than 100 characters").trim(),purchase_influence:s().required("Purchase influence is required").oneOf(h,"Invalid purchase influence level"),decision_authority:s().required("Decision authority is required").oneOf(b,"Invalid decision authority role"),preferred_principals:p().of(s().uuid("Principal ID must be valid")).nullable().default([]),phone:s().nullable().max(20,"Phone number must be less than 20 characters").matches(o,"Please enter a valid phone number").trim().transform(e=>e===""?null:e),email:s().nullable().matches(c,"Please enter a valid email address").max(255,"Email must be less than 255 characters").trim().lowercase().transform(e=>e===""?null:e),address:s().nullable().max(255,"Address must be less than 255 characters").trim().transform(e=>e===""?null:e),city:s().nullable().max(100,"City must be less than 100 characters").trim().transform(e=>e===""?null:e),state:s().nullable().max(50,"State must be less than 50 characters").trim().transform(e=>e===""?null:e),zip_code:s().nullable().max(20,"ZIP code must be less than 20 characters").trim().transform(e=>e===""?null:e),website:s().nullable().matches(/^https?:\/\/[^\s]+$/,"Website must be a valid URL starting with http:// or https://").max(255,"Website must be less than 255 characters").trim().transform(e=>e===""?null:e),account_manager:s().nullable().max(100,"Account manager must be less than 100 characters").trim().transform(e=>e===""?null:e),notes:s().nullable().max(5e3,"Notes must be less than 5000 characters").trim().transform(e=>e===""?null:e),is_primary:d().nullable().default(!1)}),_=l({first_name:s().min(1,"First name cannot be empty").max(100,"First name must be less than 100 characters").trim(),last_name:s().min(1,"Last name cannot be empty").max(100,"Last name must be less than 100 characters").trim(),organization_id:s().uuid("Organization ID must be valid"),position:s().max(100,"Position must be less than 100 characters").trim(),purchase_influence:s().oneOf(h,"Invalid purchase influence level"),decision_authority:s().oneOf(b,"Invalid decision authority role"),email:s().nullable().matches(c,"Please enter a valid email address").max(255,"Email must be less than 255 characters").trim().lowercase().transform(e=>e===""?null:e),phone:s().nullable().max(20,"Phone number must be less than 20 characters").matches(o,"Please enter a valid phone number").trim().transform(e=>e===""?null:e),address:s().nullable().max(255,"Address must be less than 255 characters").trim().transform(e=>e===""?null:e),city:s().nullable().max(100,"City must be less than 100 characters").trim().transform(e=>e===""?null:e),state:s().nullable().max(50,"State must be less than 50 characters").trim().transform(e=>e===""?null:e),zip_code:s().nullable().max(20,"ZIP code must be less than 20 characters").trim().transform(e=>e===""?null:e),website:s().nullable().matches(/^https?:\/\/[^\s]+$/,"Website must be a valid URL starting with http:// or https://").max(255,"Website must be less than 255 characters").trim().transform(e=>e===""?null:e),account_manager:s().nullable().max(100,"Account manager must be less than 100 characters").trim().transform(e=>e===""?null:e),notes:s().nullable().max(5e3,"Notes must be less than 5000 characters").trim().transform(e=>e===""?null:e),is_primary:d().nullable().default(!1)}),g=l({search:s().max(255,"Search term must be less than 255 characters").trim(),limit:m().positive("Limit must be positive").max(100,"Limit cannot exceed 100").integer("Limit must be an integer"),offset:m().min(0,"Offset cannot be negative").integer("Offset must be an integer"),sortBy:s().oneOf(["first_name","last_name","organization","email","created_at"],"Invalid sort field"),sortOrder:s().oneOf(["asc","desc"],"Sort order must be asc or desc")});class ${static async validateCreate(t){try{return{isValid:!0,data:await f.validate(t,{abortEarly:!1}),errors:[]}}catch(a){return a instanceof n?{isValid:!1,errors:a.inner.map(r=>({field:r.path||"unknown",message:r.message}))}:{isValid:!1,errors:[{field:"general",message:"Validation failed"}]}}}static async validateUpdate(t){try{return{isValid:!0,data:await _.validate(t,{abortEarly:!1}),errors:[]}}catch(a){return a instanceof n?{isValid:!1,errors:a.inner.map(r=>({field:r.path||"unknown",message:r.message}))}:{isValid:!1,errors:[{field:"general",message:"Validation failed"}]}}}static async validateSearch(t){try{return{isValid:!0,data:await g.validate(t,{abortEarly:!1}),errors:[]}}catch(a){return a instanceof n?{isValid:!1,errors:a.inner.map(r=>({field:r.path||"unknown",message:r.message}))}:{isValid:!1,errors:[{field:"general",message:"Validation failed"}]}}}static cleanFormData(t){const a={};return Object.entries(t).forEach(([r,i])=>{if(typeof i=="string"){const u=i.trim();a[r]=u===""?null:u}else a[r]=i}),a}static formToInsert(t){return{first_name:t.first_name,last_name:t.last_name,organization_id:t.organization_id,position:t.position,purchase_influence:t.purchase_influence,decision_authority:t.decision_authority,phone:t.phone,email:t.email,address:t.address,city:t.city,state:t.state,zip_code:t.zip_code,website:t.website,account_manager:t.account_manager,notes:t.notes,is_primary:t.is_primary||!1}}static formToUpdate(t){const a={};return t.first_name!==void 0&&(a.first_name=t.first_name),t.last_name!==void 0&&(a.last_name=t.last_name),t.organization_id!==void 0&&(a.organization_id=t.organization_id),t.position!==void 0&&(a.position=t.position),t.purchase_influence!==void 0&&(a.purchase_influence=t.purchase_influence),t.decision_authority!==void 0&&(a.decision_authority=t.decision_authority),t.phone!==void 0&&(a.phone=t.phone),t.email!==void 0&&(a.email=t.email),t.address!==void 0&&(a.address=t.address),t.city!==void 0&&(a.city=t.city),t.state!==void 0&&(a.state=t.state),t.zip_code!==void 0&&(a.zip_code=t.zip_code),t.website!==void 0&&(a.website=t.website),t.account_manager!==void 0&&(a.account_manager=t.account_manager),t.notes!==void 0&&(a.notes=t.notes),t.is_primary!==void 0&&(a.is_primary=t.is_primary),a}static contactToForm(t){return{first_name:t.first_name,last_name:t.last_name,organization_id:t.organization_id,position:t.position,purchase_influence:t.purchase_influence,decision_authority:t.decision_authority,preferred_principals:[],phone:t.phone,email:t.email,address:t.address,city:t.city,state:t.state,zip_code:t.zip_code,website:t.website,account_manager:t.account_manager,notes:t.notes,is_primary:t.is_primary}}}const z={email:e=>e.trim()?c.test(e)?e.length>255?"Email must be less than 255 characters":null:"Please enter a valid email address":"Email is required",requiredText:(e,t,a=255)=>e.trim()?e.length>a?`${t} must be less than ${a} characters`:null:`${t} is required`,optionalText:(e,t,a=255)=>e&&e.length>a?`${t} must be less than ${a} characters`:null,phone:e=>e&&!o.test(e)?"Please enter a valid phone number":e&&e.length>50?"Phone number must be less than 50 characters":null,requiredSelect:(e,t)=>!e||e.trim()===""?`${t} is required`:null,website:e=>e&&!/^https?:\/\/[^\s]+$/.test(e)?"Website must be a valid URL starting with http:// or https://":e&&e.length>255?"Website must be less than 255 characters":null},y={getFullName:e=>`${e.first_name} ${e.last_name}`.trim(),getDisplayName:(e,t)=>{const a=y.getFullName(e);return t?`${a} (${t})`:a},getPositionLabel:e=>e||"No position specified",getPurchaseInfluenceClass:e=>{switch(e){case"High":return"bg-red-100 text-red-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-blue-100 text-blue-800";case"Unknown":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},getDecisionAuthorityClass:e=>{switch(e){case"Decision Maker":return"bg-green-100 text-green-800";case"Influencer":return"bg-purple-100 text-purple-800";case"End User":return"bg-blue-100 text-blue-800";case"Gatekeeper":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},formatPhone:e=>{if(!e)return"No phone";const t=e.replace(/\D/g,"");return t.length===10?`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6)}`:t.length===11&&t[0]==="1"?`+1 (${t.slice(1,4)}) ${t.slice(4,7)}-${t.slice(7)}`:e},getInitials:e=>{const t=e.first_name.charAt(0).toUpperCase(),a=e.last_name.charAt(0).toUpperCase();return`${t}${a}`},formatCreatedDate:e=>e.created_at?new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown"};export{$ as C,b as D,w as P,h as a,y as c,z as f};
//# sourceMappingURL=contacts-BMobG5cv.js.map
