import{d as D,r as K,j as d,c as t,b as r,e as p,n as w,k as N,t as m,B as S,i as l,F as O,l as A}from"./index-EqgV18wk.js";const G={class:"space-y-1"},J=["for"],P={key:0,class:"text-danger ml-1","aria-label":"required"},Q=["id"],R={class:"relative"},U=["id","type","name","placeholder","autocomplete","readonly","disabled","required","min","max","step","maxlength","minlength","pattern","value","aria-describedby","aria-invalid","aria-required"],W={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-4","aria-hidden":"true"},X={key:1,class:"absolute inset-y-0 right-0 flex items-center pr-4","aria-hidden":"true"},Y=["id"],Z=["id"],ye=D({__name:"BaseInputField",props:{name:{},label:{},type:{default:"text"},modelValue:{},error:{},placeholder:{},description:{},helpText:{},required:{type:Boolean},disabled:{type:Boolean},readonly:{type:Boolean},loading:{type:Boolean},showValidIcon:{type:Boolean,default:!0},autocomplete:{default:"off"},min:{},max:{},step:{},maxlength:{},minlength:{},pattern:{},inputClass:{},labelClass:{}},emits:["update:modelValue","blur","focus","input","keydown","validate"],setup(B,{expose:V,emit:q}){const a=B,c=q,h=K(!1),y=d(()=>`field-${a.name}`),v=d(()=>`error-${a.name}`),f=d(()=>`desc-${a.name}`),k=d(()=>`help-${a.name}`),g=d(()=>!!a.error),I=d(()=>{const s=[];return a.description&&s.push(f.value),a.error&&s.push(v.value),a.helpText&&!a.error&&s.push(k.value),s.length>0?s.join(" "):void 0}),$=d(()=>{const s="form-label transition-colors duration-200",u=g.value?"text-danger-700":h.value?"text-primary-600":"text-gray-700",b=a.disabled?"opacity-60":"",C=a.labelClass||"";return`${s} ${u} ${b} ${C}`.trim()}),x=d(()=>{const s="w-full min-h-input px-4 py-3 border rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent",u=g.value?"border-danger-300 bg-danger-50 focus:ring-danger-500 focus:bg-white text-gray-900":h.value?"border-primary-500 bg-white focus:ring-primary-500":"border-gray-300 bg-white hover:border-gray-400 focus:ring-primary-500",b=a.disabled?"bg-gray-100 text-gray-500 cursor-not-allowed border-gray-200":"",C=a.readonly?"bg-gray-50 cursor-default border-gray-200":"",F=a.loading||a.showValidIcon&&!g.value&&a.modelValue?"pr-12":"",M=a.inputClass||"";return`${s} ${u} ${b} ${C} ${F} ${M}`.trim()}),T=s=>{const u=s.target,b=a.type==="number"?Number(u.value):u.value;c("update:modelValue",b),c("input",s)},z=async s=>{h.value=!1,c("blur",s),await S(),c("validate",a.modelValue)},E=s=>{h.value=!0,c("focus",s)},j=s=>{c("keydown",s),s.key==="Escape"&&h.value&&s.target.blur()};return V({focus:()=>{const s=document.getElementById(y.value);s==null||s.focus()},blur:()=>{const s=document.getElementById(y.value);s==null||s.blur()},select:()=>{const s=document.getElementById(y.value);s==null||s.select()}}),(s,u)=>(l(),t("div",G,[r("label",{for:y.value,class:w($.value)},[N(m(s.label)+" ",1),s.required?(l(),t("span",P,"*")):p("",!0)],10,J),s.description?(l(),t("p",{key:0,id:f.value,class:"text-sm text-gray-600"},m(s.description),9,Q)):p("",!0),r("div",R,[r("input",{id:y.value,type:s.type,name:s.name,placeholder:s.placeholder,autocomplete:s.autocomplete,readonly:s.readonly,disabled:s.disabled,required:s.required,min:s.min,max:s.max,step:s.step,maxlength:s.maxlength,minlength:s.minlength,pattern:s.pattern,value:s.modelValue,"aria-describedby":I.value,"aria-invalid":g.value,"aria-required":s.required,class:w(x.value),onInput:T,onBlur:z,onFocus:E,onKeydown:j},null,42,U),s.loading?(l(),t("div",W,u[0]||(u[0]=[r("svg",{class:"h-5 w-5 animate-spin text-gray-400",fill:"none",viewBox:"0 0 24 24"},[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):p("",!0),s.showValidIcon&&!g.value&&s.modelValue&&!s.loading?(l(),t("div",X,u[1]||(u[1]=[r("svg",{class:"h-5 w-5 text-success-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)]))):p("",!0)]),s.error?(l(),t("p",{key:1,id:v.value,role:"alert",class:"form-error"},[u[2]||(u[2]=r("svg",{class:"h-4 w-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),r("span",null,m(s.error),1)],8,Y)):p("",!0),s.helpText&&!s.error?(l(),t("p",{key:2,id:k.value,class:"form-help"},m(s.helpText),9,Z)):p("",!0)]))}}),_={class:"space-y-1"},ee=["for"],se={key:0,class:"text-danger ml-1","aria-label":"required"},ae=["id"],te={class:"relative"},le=["id","name","disabled","required","multiple","size","value","aria-describedby","aria-invalid","aria-required"],re=["disabled"],oe=["label"],ne=["value","disabled"],ie=["value"],de={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none","aria-hidden":"true"},ue={key:1,class:"absolute inset-y-0 right-8 flex items-center pr-3","aria-hidden":"true"},ce=["id"],pe=["id"],me={key:3,class:"text-sm text-gray-600"},ge=D({__name:"SelectField",props:{name:{},label:{},modelValue:{},options:{},error:{},placeholder:{default:"Select an option"},description:{},helpText:{},required:{type:Boolean},disabled:{type:Boolean},multiple:{type:Boolean},size:{},loading:{type:Boolean},selectClass:{},labelClass:{}},emits:["update:modelValue","blur","focus","change","keydown","validate"],setup(B,{expose:V,emit:q}){const a=B,c=q,h=K(!1),y=d(()=>`select-${a.name}`),v=d(()=>`error-${a.name}`),f=d(()=>`desc-${a.name}`),k=d(()=>`help-${a.name}`),g=d(()=>!!a.error),I=d(()=>{const e=[];return a.description&&e.push(f.value),a.error&&e.push(v.value),a.helpText&&!a.error&&e.push(k.value),e.length>0?e.join(" "):void 0}),$=d(()=>a.options.length>0&&typeof a.options[0]=="object"),x=d(()=>{if(!$.value)return[];const e=a.options,o=new Map;return e.forEach(n=>{const i=n.group||"Options";o.has(i)||o.set(i,[]),o.get(i).push(n)}),Array.from(o.entries()).map(([n,i])=>({label:n,options:i}))}),T=e=>e.value,z=e=>e.value,E=e=>e.label,j=e=>e.disabled||!1,s=d(()=>{const e="block text-sm font-medium transition-colors duration-200",o=g.value?"text-red-700":h.value?"text-primary":"text-gray-700",n=a.disabled?"opacity-60":"",i=a.labelClass||"";return`${e} ${o} ${n} ${i}`.trim()}),u=d(()=>{const e="w-full px-3 py-2 border rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:border-transparent",o=g.value?"border-red-500 bg-red-50 focus:ring-red-500 focus:bg-white":h.value?"border-primary bg-white focus:ring-primary":"border-gray-300 bg-white hover:border-gray-400 focus:ring-primary",n=a.disabled?"bg-gray-100 text-gray-500 cursor-not-allowed":"cursor-pointer",i=a.multiple?"py-1":"pr-10",L=a.loading?"pr-16":"",H=a.selectClass||"";return`${e} ${o} ${n} ${i} ${L} ${H}`.trim()}),b=e=>{const o=e.target;if(a.multiple){const n=[];for(let i=0;i<o.options.length;i++)o.options[i].selected&&n.push(o.options[i].value);c("update:modelValue",n)}else c("update:modelValue",o.value);c("change",e)},C=async e=>{h.value=!1,c("blur",e),await S(),c("validate",a.modelValue)},F=e=>{h.value=!0,c("focus",e)},M=e=>{c("keydown",e),e.key==="Escape"&&h.value&&e.target.blur(),e.key===" "&&!a.multiple&&(e.preventDefault(),e.target.click())};return V({focus:()=>{const e=document.getElementById(y.value);e==null||e.focus()},blur:()=>{const e=document.getElementById(y.value);e==null||e.blur()}}),(e,o)=>(l(),t("div",_,[r("label",{for:y.value,class:w(s.value)},[N(m(e.label)+" ",1),e.required?(l(),t("span",se,"*")):p("",!0)],10,ee),e.description?(l(),t("p",{key:0,id:f.value,class:"text-sm text-gray-600"},m(e.description),9,ae)):p("",!0),r("div",te,[r("select",{id:y.value,name:e.name,disabled:e.disabled,required:e.required,multiple:e.multiple,size:e.multiple?e.size||Math.min(e.options.length,5):void 0,value:e.modelValue,"aria-describedby":I.value,"aria-invalid":g.value,"aria-required":e.required,class:w(u.value),onChange:b,onBlur:C,onFocus:F,onKeydown:M},[!e.multiple&&e.placeholder?(l(),t("option",{key:0,value:"",disabled:e.required},m(e.placeholder),9,re)):p("",!0),$.value?(l(!0),t(O,{key:1},A(x.value,n=>(l(),t("optgroup",{key:n.label,label:n.label},[(l(!0),t(O,null,A(n.options,i=>(l(),t("option",{key:T(i),value:z(i),disabled:j(i)},m(E(i)),9,ne))),128))],8,oe))),128)):(l(!0),t(O,{key:2},A(e.options,n=>(l(),t("option",{key:String(n),value:n},m(n),9,ie))),128))],42,le),e.multiple?p("",!0):(l(),t("div",de,[(l(),t("svg",{class:w(["h-4 w-4 text-gray-400",{"text-red-500":g.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},o[0]||(o[0]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])),e.loading?(l(),t("div",ue,o[1]||(o[1]=[r("svg",{class:"h-4 w-4 animate-spin text-gray-400",fill:"none",viewBox:"0 0 24 24"},[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):p("",!0)]),e.error?(l(),t("p",{key:1,id:v.value,role:"alert",class:"text-sm text-danger flex items-center space-x-1"},[o[2]||(o[2]=r("svg",{class:"h-4 w-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),r("span",null,m(e.error),1)],8,ce)):p("",!0),e.helpText&&!e.error?(l(),t("p",{key:2,id:k.value,class:"text-sm text-gray-500"},m(e.helpText),9,pe)):p("",!0),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0?(l(),t("p",me,m(e.modelValue.length)+" item"+m(e.modelValue.length===1?"":"s")+" selected ",1)):p("",!0)]))}});export{ye as _,ge as a};
//# sourceMappingURL=SelectField.vue_vue_type_script_setup_true_lang-DLwiTIwV.js.map
