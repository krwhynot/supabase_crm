import{d as A,r as l,o as D,c as n,b as e,e as f,f as y,w as x,g as T,p as k,v as E,q as O,h as U,n as $,t as a,s as H,F as L,l as I,i as r,k as h,u as b,x as P}from"./index-CZE_83Gg.js";import{c as q}from"./contactsApi-BleNdeh6.js";import{c as w}from"./contacts-BXtYPUqD.js";import"./supabaseClient-DsF16uzq.js";import"./index.esm-co_T1QE2.js";const G={class:"max-w-7xl mx-auto"},Q={class:"flex justify-between items-center mb-8"},R={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6"},Y={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},J={class:"flex-1 max-w-md"},K={class:"relative"},W={class:"flex items-center space-x-3"},X={class:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Z=["d"],ee={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-8"},te={key:1,class:"bg-white rounded-lg shadow-sm border border-red-200 p-6"},se={class:"flex items-center"},oe={class:"text-red-700"},re={key:2,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center"},ne={class:"text-gray-500 mb-6"},ae={key:3,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},le={class:"overflow-x-auto"},ie={class:"min-w-full divide-y divide-gray-200"},de={class:"bg-white divide-y divide-gray-200"},ce=["onClick"],ue={class:"px-6 py-4 whitespace-nowrap"},me={class:"flex items-center"},pe={class:"flex-shrink-0 h-10 w-10"},xe={class:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center"},he={class:"text-sm font-medium text-blue-600"},ge={class:"ml-4"},ve={class:"text-sm font-medium text-gray-900"},fe={key:0,class:"text-sm text-gray-500"},ye={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},be={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},we=["href"],_e={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ke={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ce={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Me={class:"flex items-center space-x-2"},Se={key:4,class:"mt-6 flex justify-center"},je={class:"text-sm text-gray-500"},Te=A({__name:"ContactsListView",setup(Be){const C=P(),i=l([]),g=l(!0),d=l(null),c=l(""),v=l("last_name"),u=l("asc"),m=async()=>{try{g.value=!0,d.value=null;const s=await q.getContacts({search:c.value.trim()||void 0,sortBy:v.value,sortOrder:u.value});s.success&&s.data?i.value=s.data:d.value=s.error||"Failed to load contacts"}catch(s){d.value="An unexpected error occurred",console.error("Error loading contacts:",s)}finally{g.value=!1}};let _;const M=()=>{clearTimeout(_),_=setTimeout(()=>{m()},300)},S=()=>{m()},j=()=>{u.value=u.value==="asc"?"desc":"asc",m()},B=s=>{C.push(`/contacts/${s}`)},N=s=>w.getFullName(s),z=s=>w.getInitials(s),V=s=>w.formatPhone(s),F=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown";return D(()=>{m()}),(s,t)=>{const p=T("router-link");return r(),n("div",null,[e("div",G,[e("div",Q,[t[6]||(t[6]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Contacts"),e("p",{class:"mt-2 text-gray-600"},"Manage your professional contacts")],-1)),y(p,{to:"/contacts/new",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:x(()=>t[5]||(t[5]=[e("svg",{class:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),h(" New Contact ",-1)])),_:1,__:[5]})]),e("div",R,[e("div",Y,[e("div",J,[t[8]||(t[8]=e("label",{for:"search",class:"sr-only"},"Search contacts",-1)),e("div",K,[t[7]||(t[7]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),k(e("input",{id:"search","onUpdate:modelValue":t[0]||(t[0]=o=>c.value=o),type:"text",placeholder:"Search contacts...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500",onInput:M},null,544),[[E,c.value]])])]),e("div",W,[k(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>v.value=o),class:"block w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",onChange:S},t[9]||(t[9]=[U('<option value="last_name">Sort by Last Name</option><option value="first_name">Sort by First Name</option><option value="organization">Sort by Organization</option><option value="email">Sort by Email</option><option value="created_at">Sort by Date Added</option>',5)]),544),[[O,v.value]]),e("button",{onClick:j,class:$(["p-2 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",{"bg-gray-50":u.value==="desc"}])},[(r(),n("svg",X,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:u.value==="asc"?"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12":"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"},null,8,Z)]))],2)])])]),g.value?(r(),n("div",ee,t[10]||(t[10]=[e("div",{class:"flex justify-center"},[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})],-1)]))):d.value?(r(),n("div",te,[e("div",se,[t[11]||(t[11]=e("svg",{class:"h-5 w-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",oe,a(d.value),1)])])):i.value.length===0?(r(),n("div",re,[t[13]||(t[13]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),t[14]||(t[14]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No contacts found",-1)),e("p",ne,a(c.value?"Try adjusting your search terms.":"Get started by adding your first contact."),1),c.value?f("",!0):(r(),H(p,{key:0,to:"/contacts/new",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700"},{default:x(()=>t[12]||(t[12]=[e("svg",{class:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),h(" Add Your First Contact ",-1)])),_:1,__:[12]}))])):(r(),n("div",ae,[e("div",le,[e("table",ie,[t[17]||(t[17]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Contact "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Organization "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Email "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Phone "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Added "),e("th",{scope:"col",class:"relative px-6 py-3"},[e("span",{class:"sr-only"},"Actions")])])],-1)),e("tbody",de,[(r(!0),n(L,null,I(i.value,o=>(r(),n("tr",{key:o.id,class:"hover:bg-gray-50 cursor-pointer",onClick:Ne=>B(o.id)},[e("td",ue,[e("div",me,[e("div",pe,[e("div",xe,[e("span",he,a(z(o)),1)])]),e("div",ge,[e("div",ve,a(N(o)),1),o.position?(r(),n("div",fe,a(o.position),1)):f("",!0)])])]),e("td",ye,a(o.organization_name),1),e("td",be,[e("a",{href:`mailto:${o.email}`,class:"hover:text-blue-600",onClick:t[2]||(t[2]=b(()=>{},["stop"]))},a(o.email),9,we)]),e("td",_e,a(V(o.phone)),1),e("td",ke,a(F(o.created_at)),1),e("td",Ce,[e("div",Me,[y(p,{to:`/contacts/${o.id}`,class:"text-blue-600 hover:text-blue-900",onClick:t[3]||(t[3]=b(()=>{},["stop"]))},{default:x(()=>t[15]||(t[15]=[h(" View ",-1)])),_:2,__:[15]},1032,["to"]),y(p,{to:`/contacts/${o.id}/edit`,class:"text-indigo-600 hover:text-indigo-900",onClick:t[4]||(t[4]=b(()=>{},["stop"]))},{default:x(()=>t[16]||(t[16]=[h(" Edit ",-1)])),_:2,__:[16]},1032,["to"])])])],8,ce))),128))])])])])),i.value.length>0?(r(),n("div",Se,[e("div",je," Showing "+a(i.value.length)+" contacts ",1)])):f("",!0)])])}}});export{Te as default};
//# sourceMappingURL=ContactsListView-DpqlDzc_.js.map
