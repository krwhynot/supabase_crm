import{a as u,b as t,j as f,d as L,r as w,c,o as G,E as Y,p as J,t as v,h as C,F as E,i as D,J as O,f as X,u as q,n as P}from"./index-Br7bM97V.js";import{r as K}from"./EngagementScoreRing-DT1wV0O8.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";function Ne(k,o){return f(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"})])}const Q={class:"product-performance-chart"},Z={class:"flex items-center justify-between mb-4"},ee={class:"text-sm font-medium text-gray-900"},te={class:"relative h-full"},se=["width","height"],re={class:"performance-bars"},oe=["x","y","width"],ae=["x","y","width","fill","onMouseenter"],ne=["x","y"],ie=["x","y"],le={class:"x-axis"},ce=["x1","x2","y1","y2"],de=["x1","x2","y1","y2"],ue=["x","y"],fe={class:"performance-zones",opacity:"0.1"},he=["x","y","width","height"],ve=["x","y","width","height"],pe=["x","y","width","height"],me={class:"font-medium"},xe={class:"text-blue-300"},ge={class:"text-gray-300 text-xs mt-1"},_e={key:1,class:"absolute inset-0 flex items-center justify-center"},ye={class:"text-center"},x=20,F=8,be=L({__name:"ProductPerformanceChart",props:{data:{},principalName:{default:"Principal"}},setup(k){const o=k,n=w(),z=w(),m=w(800),i=w(250),s={top:20,right:60,bottom:40,left:150},l=w({visible:!1,x:0,y:0,data:null}),g=c(()=>!o.data||o.data.length===0?[]:[...o.data].sort((r,a)=>(a.product_performance_score||0)-(r.product_performance_score||0)).slice(0,10)),h=c(()=>m.value-s.left-s.right),_=c(()=>i.value-s.top-s.bottom),S=c(()=>[0,20,40,60,80,100]),e=r=>s.top+r*(x+F),M=r=>r/100*h.value,H=r=>r>=70?"#10b981":r>=40?"#f59e0b":"#ef4444",T=r=>r.length<=20?r:r.substring(0,17)+"...",V=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(r),R=(r,a,p)=>{var y;(y=n.value)!=null&&y.getBoundingClientRect()&&(l.value={visible:!0,x:s.left+M(r.product_performance_score||0)/2,y:e(a)-10,data:r})},U=r=>{var a;if(l.value.visible){const p=(a=n.value)==null?void 0:a.getBoundingClientRect();p&&(l.value.x=r.clientX-p.left,l.value.y=r.clientY-p.top-20)}},A=()=>{l.value.visible=!1},B=()=>{if(n.value){const r=n.value.parentElement;if(r){m.value=r.clientWidth;const a=250,p=g.value.length*(x+F)+s.top+s.bottom;i.value=Math.max(a,p)}}};return G(()=>{B(),window.addEventListener("resize",B)}),Y(()=>{window.removeEventListener("resize",B)}),(r,a)=>{var p,W,y,j,N;return f(),u("div",Q,[t("div",Z,[t("h4",ee," Product Performance - "+v(r.principalName),1),a[1]||(a[1]=t("div",{class:"text-xs text-gray-500"}," Performance Score ",-1))]),t("div",te,[(f(),u("svg",{ref_key:"chartSvg",ref:n,width:m.value,height:i.value,class:"w-full h-full",onMouseleave:A},[t("g",re,[(f(!0),u(E,null,D(g.value,(d,b)=>(f(),u("g",{key:d.product_id,class:"product-group"},[t("rect",{x:s.left,y:e(b),width:h.value,height:x,fill:"#f3f4f6",rx:"2"},null,8,oe),t("rect",{x:s.left,y:e(b),width:M(d.product_performance_score||0),height:x,fill:H(d.product_performance_score||0),rx:"2",class:"performance-bar hover:opacity-80 transition-opacity duration-200 cursor-pointer",onMouseenter:$=>R(d,b),onMousemove:a[0]||(a[0]=$=>U($))},null,40,ae),t("text",{x:s.left-10,y:e(b)+x/2,"text-anchor":"end","dominant-baseline":"middle",class:"text-xs fill-gray-700 font-medium"},v(T(d.product_name)),9,ne),t("text",{x:s.left+M(d.product_performance_score||0)+8,y:e(b)+x/2,"dominant-baseline":"middle",class:"text-xs fill-gray-700 font-semibold"},v(Math.round(d.product_performance_score||0)),9,ie)]))),128))]),t("g",le,[t("line",{x1:s.left,x2:m.value-s.right,y1:i.value-s.bottom,y2:i.value-s.bottom,stroke:"#6b7280","stroke-width":"1"},null,8,ce),(f(!0),u(E,null,D(S.value,d=>(f(),u("g",{key:d},[t("line",{x1:s.left+d/100*h.value,x2:s.left+d/100*h.value,y1:i.value-s.bottom,y2:i.value-s.bottom+5,stroke:"#6b7280","stroke-width":"1"},null,8,de),t("text",{x:s.left+d/100*h.value,y:i.value-s.bottom+15,"text-anchor":"middle",class:"text-xs fill-gray-600"},v(d),9,ue)]))),128))]),t("g",fe,[t("rect",{x:s.left,y:s.top,width:40/100*h.value,height:_.value,fill:"#ef4444"},null,8,he),t("rect",{x:s.left+40/100*h.value,y:s.top,width:30/100*h.value,height:_.value,fill:"#f59e0b"},null,8,ve),t("rect",{x:s.left+70/100*h.value,y:s.top,width:30/100*h.value,height:_.value,fill:"#10b981"},null,8,pe)])],40,se)),l.value.visible?(f(),u("div",{key:0,ref_key:"tooltipEl",ref:z,class:"absolute z-10 px-3 py-2 bg-gray-900 text-white text-sm rounded shadow-lg pointer-events-none transform -translate-x-1/2",style:O({left:l.value.x+"px",top:l.value.y+"px"})},[t("div",me,v((p=l.value.data)==null?void 0:p.product_name),1),t("div",xe," Performance Score: "+v(Math.round(((W=l.value.data)==null?void 0:W.product_performance_score)||0)),1),t("div",ge,[t("div",null,"Opportunities: "+v(((y=l.value.data)==null?void 0:y.total_opportunities)||0),1),t("div",null,"Win Rate: "+v(Math.round(((j=l.value.data)==null?void 0:j.win_rate)||0))+"%",1),t("div",null,"Total Value: "+v(V(((N=l.value.data)==null?void 0:N.total_value)||0)),1)])],4)):C("",!0),g.value.length===0?(f(),u("div",_e,[t("div",ye,[X(q(K),{class:"mx-auto h-12 w-12 text-gray-400"}),a[2]||(a[2]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No product data",-1)),a[3]||(a[3]=t("p",{class:"mt-1 text-sm text-gray-500"}," No product performance data available. ",-1))])])):C("",!0)]),a[4]||(a[4]=J('<div class="mt-4 flex items-center justify-center space-x-6 text-xs" data-v-83dc1e44><div class="flex items-center space-x-2" data-v-83dc1e44><div class="w-3 h-3 rounded bg-red-500" data-v-83dc1e44></div><span class="text-gray-600" data-v-83dc1e44>Poor (0-40)</span></div><div class="flex items-center space-x-2" data-v-83dc1e44><div class="w-3 h-3 rounded bg-yellow-500" data-v-83dc1e44></div><span class="text-gray-600" data-v-83dc1e44>Fair (40-70)</span></div><div class="flex items-center space-x-2" data-v-83dc1e44><div class="w-3 h-3 rounded bg-green-500" data-v-83dc1e44></div><span class="text-gray-600" data-v-83dc1e44>Good (70-100)</span></div></div>',1))])}}}),$e=I(be,[["__scopeId","data-v-83dc1e44"]]),we={class:"relative inline-flex items-center justify-center"},ke=["width","height"],ze=["cx","cy","r","stroke-width"],Me=["cx","cy","r","stroke-width","stroke","stroke-dasharray","stroke-dashoffset"],Pe={class:"absolute inset-0 flex items-center justify-center"},Ce={key:0,class:"absolute -top-1 -right-1"},Se=L({__name:"ProductPerformanceIndicator",props:{score:{default:0},size:{default:"md"},showLabel:{type:Boolean,default:!1},showBadge:{type:Boolean,default:!0},animated:{type:Boolean,default:!0}},setup(k){const o=k,n=c(()=>({xs:{size:24,strokeWidth:3,center:12,radius:9,fontSize:"text-xs"},sm:{size:32,strokeWidth:3,center:16,radius:13,fontSize:"text-xs"},md:{size:48,strokeWidth:4,center:24,radius:20,fontSize:"text-sm"},lg:{size:64,strokeWidth:5,center:32,radius:27,fontSize:"text-base"},xl:{size:80,strokeWidth:6,center:40,radius:34,fontSize:"text-lg"}})[o.size]),z=c(()=>2*Math.PI*n.value.radius),m=c(()=>{const e=Math.min(Math.max(o.score,0),100)/100;return z.value*(1-e)}),i=c(()=>o.score>=80?"excellent":o.score>=60?"good":o.score>=40?"fair":o.score>=20?"poor":"critical"),s=c(()=>({excellent:"#10b981",good:"#22c55e",fair:"#f59e0b",poor:"#ef4444",critical:"#dc2626"})[i.value]),l=c(()=>({excellent:"Excellent",good:"Good",fair:"Fair",poor:"Poor",critical:"Critical"})[i.value]),g=c(()=>{const e=[];return o.size==="xs"?e.push("performance-indicator-xs"):o.size==="sm"?e.push("performance-indicator-sm"):o.size==="md"?e.push("performance-indicator-md"):o.size==="lg"?e.push("performance-indicator-lg"):o.size==="xl"&&e.push("performance-indicator-xl"),e.join(" ")}),h=c(()=>{const e=["text-gray-900"];return e.push(n.value.fontSize),e.join(" ")}),_=c(()=>{const e=["text-gray-600"];return o.size==="xs"||o.size==="sm"?e.push("text-xs"):o.size==="md"?e.push("text-sm"):e.push("text-base"),e.join(" ")}),S=c(()=>{const e=[];return i.value==="excellent"?e.push("bg-green-500"):i.value==="good"?e.push("bg-green-400"):i.value==="fair"?e.push("bg-yellow-500"):i.value==="poor"?e.push("bg-red-500"):e.push("bg-red-600"),e.join(" ")});return(e,M)=>(f(),u("div",{class:P(["product-performance-indicator",g.value])},[t("div",we,[(f(),u("svg",{width:n.value.size,height:n.value.size,class:"transform -rotate-90"},[t("circle",{cx:n.value.center,cy:n.value.center,r:n.value.radius,fill:"none","stroke-width":n.value.strokeWidth,stroke:"#e5e7eb"},null,8,ze),t("circle",{cx:n.value.center,cy:n.value.center,r:n.value.radius,fill:"none","stroke-width":n.value.strokeWidth,stroke:s.value,"stroke-dasharray":z.value,"stroke-dashoffset":m.value,"stroke-linecap":"round",class:"transition-all duration-500 ease-out"},null,8,Me)],8,ke)),t("div",Pe,[t("span",{class:P([h.value,"font-semibold"])},v(Math.round(e.score)),3)]),e.showBadge&&e.size!=="xs"&&e.size!=="sm"?(f(),u("div",Ce,[t("div",{class:P([S.value,"w-3 h-3 rounded-full border-2 border-white"])},null,2)])):C("",!0)]),e.showLabel?(f(),u("div",{key:0,class:P([_.value,"text-center mt-1"])},v(l.value),3)):C("",!0)],2))}}),Ee=I(Se,[["__scopeId","data-v-005ad4e2"]]);export{$e as P,Ee as a,Ne as r};
//# sourceMappingURL=ManagePrincipalProductsButton.vue_vue_type_style_index_0_scoped_f75a9cbf_lang-BYCK-O3L.js.map
