import{c as s,b as e,i as o,d as te,r as M,z as de,o as oe,e as v,f as u,k as f,A as m,u as T,p as V,q as J,h as ce,v as q,t as l,F as P,l as Z,n as W,s as ve,G as xe,j as Q,H as ie,w as Y,g as fe,x as he}from"./index-CmEEd-r9.js";import{u as we}from"./organizationStore-CO45XK51.js";import{r as X}from"./PlusIcon-DVysKAQj.js";import{r as se}from"./ExclamationTriangleIcon-DPoaayTO.js";import{r as ne}from"./ArrowPathIcon-wUtuXBVU.js";import{d as ee,e as re,b as be,c as le,r as _e,a as ue}from"./TrashIcon-IFEb77aZ.js";import{r as ke}from"./XMarkIcon-DGitNaOw.js";import{_ as $e}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as Ce}from"./ChevronRightIcon-DTx_03hq.js";import"./supabaseClient-CpZNRF9L.js";import"./index.esm-BaJX624_.js";function me(_,w){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})])}function Me(_,w){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})])}function ye(_,w){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"})])}function je(_,w){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})])}function Se(_,w){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function ge(_,w){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"})])}function ze(_,w){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function ae(_,w){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function pe(_,w){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function Oe(_,w){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"})])}function De(_,w){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0 1 18 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0 1 18 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 0 1 6 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"})])}function Ae(_,w){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"})])}function Ve(_,w){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"})])}function Ee(_,w){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function Ie(_,w){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"})])}function Le(_,w){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-2.25m-7.5 0h7.5m-7.5 0-1 3m8.5-3 1 3m0 0 .5 1.5m-.5-1.5h-9.5m0 0-.5 1.5m.75-9 3-3 2.148 2.148A12.061 12.061 0 0 1 16.5 7.605"})])}function Be(_,w){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"})])}const Fe={class:"bg-white shadow-sm rounded-lg border border-gray-200"},Pe={class:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},Ze={key:0,class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},He={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ue={class:"flex items-center justify-end space-x-3"},Ne=["disabled"],Te={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},We={class:"px-6 py-6"},Re={key:0,class:"text-center py-8"},qe={key:1,class:"text-center py-8"},Qe={class:"text-red-600 mb-4"},Ge={class:"text-gray-600 mb-4"},Ke={key:2,class:"text-center py-8"},Ye={key:3,class:"flow-root"},Je={class:"-mb-8"},Xe={key:0,class:"absolute top-5 left-5 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"},et={class:"relative flex items-start space-x-3"},tt={class:"relative"},ot={class:"min-w-0 flex-1"},st={class:"flex items-center justify-between"},nt={class:"text-sm"},rt={class:"font-medium text-gray-900"},it={class:"mt-1 flex items-center space-x-2 text-sm text-gray-500"},lt={class:"capitalize"},at={key:0,class:"capitalize"},dt={class:"flex items-center space-x-2"},ct=["onClick","aria-label"],ut=["onClick","aria-label"],mt={key:0,class:"mt-2 text-sm text-gray-700"},gt={class:"whitespace-pre-wrap"},pt=te({__name:"InteractionTimeline",props:{organizationId:{}},setup(_){const w=_,D=M(!1),j=M(null),k=M(!1),h=M(!1),t=M([]),p=de({type:"",channel:"",subject:"",notes:""}),b=async()=>{D.value=!0,j.value=null;try{t.value=[]}catch(r){console.error("Error loading interactions:",r),j.value="Failed to load interactions. Please try again."}finally{D.value=!1}},S=async()=>{k.value=!0;try{const r={id:`interaction_${Date.now()}`,organization_id:w.organizationId,type:p.type,channel:p.channel||null,subject:p.subject,notes:p.notes||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};t.value.unshift(r),Object.assign(p,{type:"",channel:"",subject:"",notes:""}),h.value=!1}catch(r){console.error("Error adding interaction:",r),alert("Failed to add interaction. Please try again.")}finally{k.value=!1}},B=()=>{Object.assign(p,{type:"",channel:"",subject:"",notes:""}),h.value=!1},L=r=>{console.log("Edit interaction:",r),alert("Edit functionality would be implemented here")},E=async r=>{const d=t.value.find(g=>g.id===r);if(d&&confirm(`Are you sure you want to delete this interaction: "${d.subject}"?`))try{t.value=t.value.filter(g=>g.id!==r)}catch(g){console.error("Error deleting interaction:",g),alert("Failed to delete interaction. Please try again.")}},I=r=>{const d={email:"bg-blue-500",phone:"bg-green-500",meeting:"bg-purple-500",note:"bg-gray-500",task:"bg-orange-500",demo:"bg-indigo-500",proposal:"bg-red-500"};return d[r]||d.note},F=r=>({email:le,phone:be,meeting:ye,note:ae,task:Se,demo:Ie,proposal:Le})[r]||ae,$=r=>{const d=new Date(r),H=new Date().getTime()-d.getTime(),A=Math.floor(H/(1e3*60*60*24));return A===0?"Today":A===1?"Yesterday":A<7?`${A} days ago`:d.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})};return oe(()=>{b()}),(r,d)=>(o(),s("div",Fe,[e("div",Pe,[d[7]||(d[7]=e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900"},"Interaction Timeline"),e("p",{class:"mt-1 text-sm text-gray-500"},"Communication history and engagement tracking")],-1)),e("button",{onClick:d[0]||(d[0]=g=>h.value=!h.value),class:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-blue-600 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[u(m(X),{class:"h-4 w-4 mr-2"}),d[6]||(d[6]=f(" Add Interaction ",-1))])]),h.value?(o(),s("div",Ze,[e("form",{onSubmit:T(S,["prevent"]),class:"space-y-4"},[e("div",He,[e("div",null,[d[9]||(d[9]=e("label",{for:"interaction-type",class:"block text-sm font-medium text-gray-700 mb-1"}," Type * ",-1)),V(e("select",{id:"interaction-type","onUpdate:modelValue":d[1]||(d[1]=g=>p.type=g),required:"",class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm"},d[8]||(d[8]=[ce('<option value="">Select type</option><option value="email">Email</option><option value="phone">Phone Call</option><option value="meeting">Meeting</option><option value="note">Note</option><option value="task">Task</option><option value="demo">Demo</option><option value="proposal">Proposal</option>',8)]),512),[[J,p.type]])]),e("div",null,[d[11]||(d[11]=e("label",{for:"channel",class:"block text-sm font-medium text-gray-700 mb-1"}," Channel ",-1)),V(e("select",{id:"channel","onUpdate:modelValue":d[2]||(d[2]=g=>p.channel=g),class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm"},d[10]||(d[10]=[ce('<option value="">Select channel</option><option value="direct">Direct</option><option value="linkedin">LinkedIn</option><option value="website">Website</option><option value="referral">Referral</option><option value="cold_outreach">Cold Outreach</option><option value="event">Event</option><option value="social_media">Social Media</option>',8)]),512),[[J,p.channel]])])]),e("div",null,[d[12]||(d[12]=e("label",{for:"subject",class:"block text-sm font-medium text-gray-700 mb-1"}," Subject * ",-1)),V(e("input",{id:"subject","onUpdate:modelValue":d[3]||(d[3]=g=>p.subject=g),type:"text",required:"",class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Enter interaction subject"},null,512),[[q,p.subject]])]),e("div",null,[d[13]||(d[13]=e("label",{for:"notes",class:"block text-sm font-medium text-gray-700 mb-1"}," Notes ",-1)),V(e("textarea",{id:"notes","onUpdate:modelValue":d[4]||(d[4]=g=>p.notes=g),rows:"3",class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Add detailed notes about this interaction"},null,512),[[q,p.notes]])]),e("div",Ue,[e("button",{type:"button",onClick:B,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),e("button",{type:"submit",disabled:k.value,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[k.value?(o(),s("div",Te)):v("",!0),f(" "+l(k.value?"Adding...":"Add Interaction"),1)],8,Ne)])],32)])):v("",!0),e("div",We,[D.value?(o(),s("div",Re,d[14]||(d[14]=[e("div",{class:"inline-flex items-center"},[e("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3"}),e("span",{class:"text-gray-600"},"Loading interactions...")],-1)]))):j.value?(o(),s("div",qe,[e("div",Qe,[u(m(se),{class:"h-8 w-8 mx-auto"})]),d[16]||(d[16]=e("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"Error Loading Interactions",-1)),e("p",Ge,l(j.value),1),e("button",{onClick:b,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-600 bg-blue-100 hover:bg-blue-200"},[u(m(ne),{class:"h-4 w-4 mr-2"}),d[15]||(d[15]=f(" Try Again ",-1))])])):t.value.length===0?(o(),s("div",Ke,[u(m(je),{class:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d[18]||(d[18]=e("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"No interactions yet",-1)),d[19]||(d[19]=e("p",{class:"text-gray-600 mb-4"},"Start tracking communication with this organization.",-1)),e("button",{onClick:d[5]||(d[5]=g=>h.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700"},[u(m(X),{class:"h-4 w-4 mr-2"}),d[17]||(d[17]=f(" Add First Interaction ",-1))])])):(o(),s("div",Ye,[e("ul",Je,[(o(!0),s(P,null,Z(t.value,(g,H)=>(o(),s("li",{key:g.id,class:"relative pb-8"},[H!==t.value.length-1?(o(),s("div",Xe)):v("",!0),e("div",et,[e("div",tt,[e("div",{class:W(["h-10 w-10 rounded-full flex items-center justify-center ring-8 ring-white",I(g.type)])},[(o(),ve(xe(F(g.type)),{class:"h-5 w-5 text-white"}))],2)]),e("div",ot,[e("div",st,[e("div",null,[e("div",nt,[e("span",rt,l(g.subject),1)]),e("div",it,[e("span",lt,l(g.type),1),g.channel?(o(),s("span",at,"• "+l(g.channel),1)):v("",!0),e("span",null,"• "+l($(g.created_at)),1)])]),e("div",dt,[e("button",{onClick:A=>L(g),class:"p-1 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100","aria-label":`Edit interaction: ${g.subject}`},[u(m(ee),{class:"h-4 w-4"})],8,ct),e("button",{onClick:A=>E(g.id),class:"p-1 text-red-400 hover:text-red-600 rounded-md hover:bg-red-50","aria-label":`Delete interaction: ${g.subject}`},[u(m(re),{class:"h-4 w-4"})],8,ut)])]),g.notes?(o(),s("div",mt,[e("p",gt,l(g.notes),1)])):v("",!0)])])]))),128))])]))])]))}}),vt={class:"bg-white shadow-sm rounded-lg border border-gray-200"},xt={class:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},bt={class:"flex items-center space-x-3"},yt=["value"],ft={class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500 cursor-pointer"},ht={key:0,class:"px-6 py-4 border-b border-gray-200 bg-blue-50"},wt={class:"space-y-2"},_t={class:"flex items-center space-x-3 min-w-0 flex-1"},kt={class:"flex-shrink-0"},$t={class:"min-w-0 flex-1"},Ct={class:"text-sm font-medium text-gray-900 truncate"},Mt={class:"w-full bg-gray-200 rounded-full h-2 mt-1"},jt={class:"flex-shrink-0 ml-4"},St={class:"text-sm text-gray-500"},zt={class:"px-6 py-6"},Ot={key:0,class:"text-center py-8"},Dt={key:1,class:"text-center py-8"},At={class:"text-red-600 mb-4"},Vt={class:"text-gray-600 mb-4"},Et={key:2,class:"text-center py-8"},It={class:"text-lg font-medium text-gray-900 mb-2"},Lt={class:"text-gray-600 mb-4"},Bt={class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 cursor-pointer"},Ft={key:3,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Pt=["onClick"],Zt={class:"text-center"},Ht=["title"],Ut={class:"text-xs text-gray-500 mt-1"},Nt={class:"text-xs text-gray-400 mt-1"},Tt={class:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity"},Wt={class:"relative inline-block text-left"},Rt=["onClick"],qt={key:0,class:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10"},Qt={class:"py-1"},Gt=["onClick"],Kt=["onClick"],Yt=["onClick"],Jt={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-0"},Xt={class:"relative inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full"},eo={class:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},to={class:"text-lg font-medium text-gray-900"},oo={class:"text-sm text-gray-500"},so={class:"px-6 py-6"},no={class:"text-center py-12"},ro={class:"space-x-4"},io=te({__name:"DocumentRepository",props:{organizationId:{}},setup(_){const w=_,D=M(!1),j=M(null),k=M([]),h=M(""),t=M(null),p=M(),b=M([]),S=de({show:!1,document:null}),B=["Contract","Proposal","Invoice","Presentation","Legal","Marketing","Technical","Other"],L=Q(()=>h.value?k.value.filter(i=>i.category===h.value):k.value),E=async()=>{D.value=!0,j.value=null;try{k.value=[]}catch(i){console.error("Error loading documents:",i),j.value="Failed to load documents. Please try again."}finally{D.value=!1}},I=async i=>{const C=i.target.files;if(!(!C||C.length===0)){for(const O of Array.from(C))await F(O);p.value&&(p.value.value="")}},F=async i=>{const a={fileName:i.name,progress:0};b.value.push(a);try{const C=setInterval(()=>{if(a.progress+=Math.random()*30,a.progress>=100){a.progress=100,clearInterval(C);const O={id:`doc_${Date.now()}_${Math.random()}`,organization_id:w.organizationId,name:i.name,file_type:i.type||$(i.name),file_url:URL.createObjectURL(i),category:"Other",size:i.size,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};k.value.unshift(O),setTimeout(()=>{const N=b.value.findIndex(y=>y.fileName===i.name);N>-1&&b.value.splice(N,1)},1e3)}},200);console.log("Uploading file:",i.name)}catch(C){console.error("Error uploading file:",C),alert(`Failed to upload ${i.name}. Please try again.`);const O=b.value.findIndex(N=>N.fileName===i.name);O>-1&&b.value.splice(O,1)}},$=i=>{var O;const a=(O=i.split(".").pop())==null?void 0:O.toLowerCase();return{pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",txt:"text/plain",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",csv:"text/csv",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xls:"application/vnd.ms-excel"}[a||""]||"application/octet-stream"},r=i=>{S.document=i,S.show=!0},d=()=>{S.show=!1,S.document=null},g=i=>{const a=window.document.createElement("a");a.href=i.file_url,a.download=i.name,a.click()},H=i=>{const a=prompt("Enter new document name:",i.name);a&&a.trim()&&(i.name=a.trim(),i.updated_at=new Date().toISOString())},A=async i=>{const a=k.value.find(C=>C.id===i);if(a&&confirm(`Are you sure you want to delete "${a.name}"? This action cannot be undone.`))try{k.value=k.value.filter(C=>C.id!==i),t.value=null}catch(C){console.error("Error deleting document:",C),alert("Failed to delete document. Please try again.")}},G=i=>{t.value=t.value===i?null:i},x=i=>i.startsWith("image/")?Ee:i.includes("spreadsheet")||i.includes("excel")||i==="text/csv"?Be:i.startsWith("video/")?De:i.startsWith("audio/")?Ve:ae,n=i=>i.startsWith("image/")?"bg-green-500":i.includes("spreadsheet")||i.includes("excel")||i==="text/csv"?"bg-emerald-500":i.startsWith("video/")?"bg-purple-500":i.startsWith("audio/")?"bg-pink-500":i==="application/pdf"?"bg-red-500":"bg-blue-500",c=i=>{const a={Contract:"bg-blue-100 text-blue-800",Proposal:"bg-purple-100 text-purple-800",Invoice:"bg-green-100 text-green-800",Presentation:"bg-orange-100 text-orange-800",Legal:"bg-red-100 text-red-800",Marketing:"bg-pink-100 text-pink-800",Technical:"bg-gray-100 text-gray-800",Other:"bg-gray-100 text-gray-800"};return a[i]||a.Other},z=i=>{if(i===0)return"0 Bytes";const a=1024,C=["Bytes","KB","MB","GB"],O=Math.floor(Math.log(i)/Math.log(a));return parseFloat((i/Math.pow(a,O)).toFixed(2))+" "+C[O]},U=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),R={beforeMount:(i,a)=>{i.clickOutsideEvent=C=>{i===C.target||i.contains(C.target)||a.value()},window.document.addEventListener("click",i.clickOutsideEvent)},unmounted:i=>{i.clickOutsideEvent&&window.document.removeEventListener("click",i.clickOutsideEvent)}};return oe(()=>{E()}),(i,a)=>{var C,O,N;return o(),s("div",vt,[e("div",xt,[a[4]||(a[4]=e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900"},"Document Repository"),e("p",{class:"mt-1 text-sm text-gray-500"},"Manage files and documents for this organization")],-1)),e("div",bt,[V(e("select",{"onUpdate:modelValue":a[0]||(a[0]=y=>h.value=y),class:"block px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm"},[a[2]||(a[2]=e("option",{value:""},"All Categories",-1)),(o(),s(P,null,Z(B,y=>e("option",{key:y,value:y},l(y),9,yt)),64))],512),[[J,h.value]]),e("label",ft,[u(m(ge),{class:"h-4 w-4 mr-2"}),a[3]||(a[3]=f(" Upload Document ",-1)),e("input",{ref_key:"fileInput",ref:p,type:"file",multiple:"",accept:".pdf,.doc,.docx,.txt,.png,.jpg,.jpeg,.gif,.csv,.xlsx,.xls",onChange:I,class:"sr-only"},null,544)])])]),b.value.length>0?(o(),s("div",ht,[a[5]||(a[5]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Uploading Files",-1)),e("div",wt,[(o(!0),s(P,null,Z(b.value,y=>(o(),s("div",{key:y.fileName,class:"flex items-center justify-between"},[e("div",_t,[e("div",kt,[u(m(pe),{class:"h-5 w-5 text-gray-400"})]),e("div",$t,[e("p",Ct,l(y.fileName),1),e("div",Mt,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:ie({width:`${y.progress}%`})},null,4)])])]),e("div",jt,[e("span",St,l(y.progress)+"%",1)])]))),128))])])):v("",!0),e("div",zt,[D.value?(o(),s("div",Ot,a[6]||(a[6]=[e("div",{class:"inline-flex items-center"},[e("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3"}),e("span",{class:"text-gray-600"},"Loading documents...")],-1)]))):j.value?(o(),s("div",Dt,[e("div",At,[u(m(se),{class:"h-8 w-8 mx-auto"})]),a[8]||(a[8]=e("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"Error Loading Documents",-1)),e("p",Vt,l(j.value),1),e("button",{onClick:E,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-600 bg-blue-100 hover:bg-blue-200"},[u(m(ne),{class:"h-4 w-4 mr-2"}),a[7]||(a[7]=f(" Try Again ",-1))])])):L.value.length===0?(o(),s("div",Et,[u(m(Ae),{class:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e("h4",It,l(h.value?"No documents in this category":"No documents yet"),1),e("p",Lt,l(h.value?"Try selecting a different category or upload documents.":"Upload documents to get started."),1),e("label",Bt,[u(m(ge),{class:"h-4 w-4 mr-2"}),a[9]||(a[9]=f(" Upload Documents ",-1)),e("input",{type:"file",multiple:"",accept:".pdf,.doc,.docx,.txt,.png,.jpg,.jpeg,.gif,.csv,.xlsx,.xls",onChange:I,class:"sr-only"},null,32)])])):(o(),s("div",Ft,[(o(!0),s(P,null,Z(L.value,y=>(o(),s("div",{key:y.id,class:"relative group border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:K=>r(y)},[e("div",{class:W(["flex items-center justify-center w-12 h-12 mx-auto mb-3 rounded-lg",n(y.file_type)])},[(o(),ve(xe(x(y.file_type)),{class:"h-6 w-6 text-white"}))],2),e("div",Zt,[e("h4",{class:"text-sm font-medium text-gray-900 truncate",title:y.name},l(y.name),9,Ht),e("p",Ut,l(y.category)+" • "+l(z(y.size)),1),e("p",Nt,l(U(y.created_at)),1)]),e("span",{class:W(["absolute top-2 left-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",c(y.category)])},l(y.category),3),e("div",Tt,[e("div",Wt,[e("button",{onClick:T(K=>G(y.id),["stop"]),class:"p-1 rounded-full bg-white shadow-sm border border-gray-200 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"},[u(m(Oe),{class:"h-4 w-4 text-gray-600"})],8,Rt),t.value===y.id?V((o(),s("div",qt,[e("div",Qt,[e("button",{onClick:T(K=>g(y),["stop"]),class:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[u(m(me),{class:"h-4 w-4 inline mr-2"}),a[10]||(a[10]=f(" Download ",-1))],8,Gt),e("button",{onClick:T(K=>H(y),["stop"]),class:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[u(m(ee),{class:"h-4 w-4 inline mr-2"}),a[11]||(a[11]=f(" Edit Details ",-1))],8,Kt),e("button",{onClick:T(K=>A(y.id),["stop"]),class:"block w-full text-left px-4 py-2 text-sm text-red-700 hover:bg-red-50"},[u(m(re),{class:"h-4 w-4 inline mr-2"}),a[12]||(a[12]=f(" Delete ",-1))],8,Yt)])])),[[R,()=>t.value=null]]):v("",!0)])])],8,Pt))),128))]))]),S.show?(o(),s("div",{key:1,class:"fixed inset-0 z-50 overflow-y-auto",onClick:d},[e("div",Jt,[a[16]||(a[16]=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)),e("div",Xt,[e("div",eo,[e("div",null,[e("h3",to,l((C=S.document)==null?void 0:C.name),1),e("p",oo,l((O=S.document)==null?void 0:O.category)+" • "+l(z(((N=S.document)==null?void 0:N.size)||0)),1)]),e("button",{onClick:d,class:"rounded-md text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"},[u(m(ke),{class:"h-6 w-6"})])]),e("div",so,[e("div",no,[u(m(pe),{class:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a[14]||(a[14]=e("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"Document Preview",-1)),a[15]||(a[15]=e("p",{class:"text-gray-600 mb-6"}," Document preview functionality would be implemented here based on file type. ",-1)),e("div",ro,[e("button",{onClick:a[1]||(a[1]=y=>g(S.document)),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700"},[u(m(me),{class:"h-4 w-4 mr-2"}),a[13]||(a[13]=f(" Download ",-1))]),e("button",{onClick:d,class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"}," Close ")])])])])])])):v("",!0)])}}}),lo={class:"bg-white shadow-sm rounded-lg border border-gray-200"},ao={class:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},co={class:"flex items-center space-x-3"},uo={class:"flex items-center border border-gray-300 rounded-md"},mo={key:0,class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},go={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},po=["value"],vo={class:"flex items-center justify-end space-x-3"},xo=["disabled"],bo={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},yo={class:"px-6 py-6"},fo={key:0,class:"text-center py-8"},ho={key:1,class:"text-center py-8"},wo={class:"text-red-600 mb-4"},_o={class:"text-gray-600 mb-4"},ko={key:2,class:"text-center py-8"},$o={key:3,class:"space-y-6"},Co={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},Mo={class:"bg-gray-50 rounded-lg p-4"},jo={class:"text-2xl font-bold text-gray-900"},So={class:"bg-blue-50 rounded-lg p-4"},zo={class:"text-2xl font-bold text-blue-600"},Oo={class:"bg-green-50 rounded-lg p-4"},Do={class:"text-2xl font-bold text-green-600"},Ao={class:"bg-yellow-50 rounded-lg p-4"},Vo={class:"text-2xl font-bold text-yellow-600"},Eo={class:"flex space-x-6 overflow-x-auto pb-4"},Io={class:"flex items-center justify-between mb-4"},Lo={class:"flex items-center space-x-2"},Bo={class:"font-medium text-gray-900"},Fo={class:"text-sm text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full"},Po={class:"text-sm text-gray-500"},Zo={class:"space-y-3"},Ho=["onClick"],Uo={class:"flex items-start justify-between mb-2"},No={class:"font-medium text-gray-900 text-sm"},To=["onClick"],Wo={class:"text-lg font-bold text-gray-900 mb-2"},Ro={key:0,class:"text-sm text-gray-500 mb-2"},qo={key:1,class:"text-sm text-gray-600 line-clamp-2"},Qo={key:4,class:"space-y-4"},Go={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},Ko={class:"bg-gray-50 rounded-lg p-4"},Yo={class:"text-2xl font-bold text-gray-900"},Jo={class:"bg-blue-50 rounded-lg p-4"},Xo={class:"text-2xl font-bold text-blue-600"},es={class:"bg-green-50 rounded-lg p-4"},ts={class:"text-2xl font-bold text-green-600"},os={class:"bg-yellow-50 rounded-lg p-4"},ss={class:"text-2xl font-bold text-yellow-600"},ns={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},rs={class:"min-w-full divide-y divide-gray-300"},is={class:"bg-white divide-y divide-gray-200"},ls={class:"px-6 py-4 whitespace-nowrap"},as={class:"text-sm font-medium text-gray-900"},ds={key:0,class:"text-sm text-gray-500 truncate max-w-xs"},cs={class:"px-6 py-4 whitespace-nowrap"},us={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},ms={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},gs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 space-x-2"},ps=["onClick"],vs=["onClick"],xs=te({__name:"OpportunityPipeline",props:{organizationId:{}},setup(_){const w=_,D=M(!1),j=M(null),k=M(!1),h=M(!1),t=M("kanban"),p=M([]),b=de({name:"",stage:"",value:void 0,close_date:"",description:""}),S=[{id:"lead",name:"Lead",color:"#6B7280",order:1},{id:"qualified",name:"Qualified",color:"#3B82F6",order:2},{id:"proposal",name:"Proposal",color:"#F59E0B",order:3},{id:"negotiation",name:"Negotiation",color:"#EF4444",order:4},{id:"won",name:"Won",color:"#10B981",order:5},{id:"lost",name:"Lost",color:"#6B7280",order:6}],B=Q(()=>p.value.filter(x=>x.stage!=="lost").reduce((x,n)=>x+(n.value||0),0)),L=Q(()=>p.value.filter(x=>x.stage==="won").reduce((x,n)=>x+(n.value||0),0)),E=Q(()=>{const x=p.value.filter(c=>c.stage==="won"||c.stage==="lost");return x.length===0?0:x.filter(c=>c.stage==="won").length/x.length*100}),I=async()=>{D.value=!0,j.value=null;try{p.value=[]}catch(x){console.error("Error loading opportunities:",x),j.value="Failed to load opportunities. Please try again."}finally{D.value=!1}},F=async()=>{k.value=!0;try{const x={id:`opp_${Date.now()}`,organization_id:w.organizationId,name:b.name,description:b.description||null,value:b.value||null,stage:b.stage,close_date:b.close_date||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};p.value.push(x),Object.assign(b,{name:"",stage:"",value:void 0,close_date:"",description:""}),h.value=!1}catch(x){console.error("Error adding opportunity:",x),alert("Failed to add opportunity. Please try again.")}finally{k.value=!1}},$=()=>{Object.assign(b,{name:"",stage:"",value:void 0,close_date:"",description:""}),h.value=!1},r=x=>{console.log("Edit opportunity:",x),alert("Edit functionality would be implemented here")},d=async x=>{const n=p.value.find(c=>c.id===x);if(n&&confirm(`Are you sure you want to delete the opportunity "${n.name}"?`))try{p.value=p.value.filter(c=>c.id!==x)}catch(c){console.error("Error deleting opportunity:",c),alert("Failed to delete opportunity. Please try again.")}},g=x=>p.value.filter(n=>n.stage===x),H=x=>g(x).reduce((n,c)=>n+(c.value||0),0),A=x=>S.find(n=>n.id===x),G=x=>new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return oe(()=>{I()}),(x,n)=>(o(),s("div",lo,[e("div",ao,[n[10]||(n[10]=e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900"},"Opportunity Pipeline"),e("p",{class:"mt-1 text-sm text-gray-500"},"Track deals and sales opportunities for this organization")],-1)),e("div",co,[e("div",uo,[e("button",{onClick:n[0]||(n[0]=c=>t.value="kanban"),class:W(["px-3 py-2 text-sm font-medium rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500",t.value==="kanban"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"])}," Kanban ",2),e("button",{onClick:n[1]||(n[1]=c=>t.value="list"),class:W(["px-3 py-2 text-sm font-medium rounded-r-md focus:outline-none focus:ring-2 focus:ring-blue-500",t.value==="list"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"])}," List ",2)]),e("button",{onClick:n[2]||(n[2]=c=>h.value=!h.value),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[u(m(X),{class:"h-4 w-4 mr-2"}),n[9]||(n[9]=f(" Add Opportunity ",-1))])])]),h.value?(o(),s("div",mo,[e("form",{onSubmit:T(F,["prevent"]),class:"space-y-4"},[e("div",go,[e("div",null,[n[11]||(n[11]=e("label",{for:"opportunity-name",class:"block text-sm font-medium text-gray-700 mb-1"}," Opportunity Name * ",-1)),V(e("input",{id:"opportunity-name","onUpdate:modelValue":n[3]||(n[3]=c=>b.name=c),type:"text",required:"",class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Enter opportunity name"},null,512),[[q,b.name]])]),e("div",null,[n[13]||(n[13]=e("label",{for:"stage",class:"block text-sm font-medium text-gray-700 mb-1"}," Stage * ",-1)),V(e("select",{id:"stage","onUpdate:modelValue":n[4]||(n[4]=c=>b.stage=c),required:"",class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm"},[n[12]||(n[12]=e("option",{value:""},"Select stage",-1)),(o(),s(P,null,Z(S,c=>e("option",{key:c.id,value:c.id},l(c.name),9,po)),64))],512),[[J,b.stage]])]),e("div",null,[n[14]||(n[14]=e("label",{for:"value",class:"block text-sm font-medium text-gray-700 mb-1"}," Value ($) ",-1)),V(e("input",{id:"value","onUpdate:modelValue":n[5]||(n[5]=c=>b.value=c),type:"number",min:"0",step:"0.01",class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"0.00"},null,512),[[q,b.value,void 0,{number:!0}]])]),e("div",null,[n[15]||(n[15]=e("label",{for:"close-date",class:"block text-sm font-medium text-gray-700 mb-1"}," Expected Close Date ",-1)),V(e("input",{id:"close-date","onUpdate:modelValue":n[6]||(n[6]=c=>b.close_date=c),type:"date",class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[q,b.close_date]])])]),e("div",null,[n[16]||(n[16]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-1"}," Description ",-1)),V(e("textarea",{id:"description","onUpdate:modelValue":n[7]||(n[7]=c=>b.description=c),rows:"2",class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Brief description of the opportunity"},null,512),[[q,b.description]])]),e("div",vo,[e("button",{type:"button",onClick:$,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),e("button",{type:"submit",disabled:k.value,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[k.value?(o(),s("div",bo)):v("",!0),f(" "+l(k.value?"Adding...":"Add Opportunity"),1)],8,xo)])],32)])):v("",!0),e("div",yo,[D.value?(o(),s("div",fo,n[17]||(n[17]=[e("div",{class:"inline-flex items-center"},[e("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3"}),e("span",{class:"text-gray-600"},"Loading opportunities...")],-1)]))):j.value?(o(),s("div",ho,[e("div",wo,[u(m(se),{class:"h-8 w-8 mx-auto"})]),n[19]||(n[19]=e("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"Error Loading Opportunities",-1)),e("p",_o,l(j.value),1),e("button",{onClick:I,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-600 bg-blue-100 hover:bg-blue-200"},[u(m(ne),{class:"h-4 w-4 mr-2"}),n[18]||(n[18]=f(" Try Again ",-1))])])):p.value.length===0?(o(),s("div",ko,[u(m(ze),{class:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n[21]||(n[21]=e("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"No opportunities yet",-1)),n[22]||(n[22]=e("p",{class:"text-gray-600 mb-4"},"Create your first sales opportunity for this organization.",-1)),e("button",{onClick:n[8]||(n[8]=c=>h.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700"},[u(m(X),{class:"h-4 w-4 mr-2"}),n[20]||(n[20]=f(" Create First Opportunity ",-1))])])):t.value==="kanban"?(o(),s("div",$o,[e("div",Co,[e("div",Mo,[e("div",jo,l(p.value.length),1),n[23]||(n[23]=e("div",{class:"text-sm text-gray-600"},"Total Opportunities",-1))]),e("div",So,[e("div",zo,"$"+l(B.value.toLocaleString()),1),n[24]||(n[24]=e("div",{class:"text-sm text-gray-600"},"Pipeline Value",-1))]),e("div",Oo,[e("div",Do,"$"+l(L.value.toLocaleString()),1),n[25]||(n[25]=e("div",{class:"text-sm text-gray-600"},"Won Value",-1))]),e("div",Ao,[e("div",Vo,l(Math.round(E.value))+"%",1),n[26]||(n[26]=e("div",{class:"text-sm text-gray-600"},"Win Rate",-1))])]),e("div",Eo,[(o(),s(P,null,Z(S,c=>e("div",{key:c.id,class:"flex-shrink-0 w-80"},[e("div",Io,[e("div",Lo,[e("div",{class:"w-3 h-3 rounded-full",style:ie({backgroundColor:c.color})},null,4),e("h4",Bo,l(c.name),1),e("span",Fo,l(g(c.id).length),1)]),e("div",Po," $"+l(H(c.id).toLocaleString()),1)]),e("div",Zo,[(o(!0),s(P,null,Z(g(c.id),z=>{var U;return o(),s("div",{key:z.id,class:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:R=>r(z)},[e("div",Uo,[e("h5",No,l(z.name),1),e("button",{onClick:T(R=>d(z.id),["stop"]),class:"p-1 text-gray-400 hover:text-red-600 rounded-md hover:bg-red-50"},[u(m(re),{class:"h-4 w-4"})],8,To)]),e("div",Wo," $"+l(((U=z.value)==null?void 0:U.toLocaleString())||"0"),1),z.close_date?(o(),s("div",Ro,[u(m(ye),{class:"h-4 w-4 inline mr-1"}),f(" "+l(G(z.close_date)),1)])):v("",!0),z.description?(o(),s("div",qo,l(z.description),1)):v("",!0)],8,Ho)}),128))])])),64))])])):(o(),s("div",Qo,[e("div",Go,[e("div",Ko,[e("div",Yo,l(p.value.length),1),n[27]||(n[27]=e("div",{class:"text-sm text-gray-600"},"Total Opportunities",-1))]),e("div",Jo,[e("div",Xo,"$"+l(B.value.toLocaleString()),1),n[28]||(n[28]=e("div",{class:"text-sm text-gray-600"},"Pipeline Value",-1))]),e("div",es,[e("div",ts,"$"+l(L.value.toLocaleString()),1),n[29]||(n[29]=e("div",{class:"text-sm text-gray-600"},"Won Value",-1))]),e("div",os,[e("div",ss,l(Math.round(E.value))+"%",1),n[30]||(n[30]=e("div",{class:"text-sm text-gray-600"},"Win Rate",-1))])]),e("div",ns,[e("table",rs,[n[31]||(n[31]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wide"}," Opportunity "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wide"}," Stage "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wide"}," Value "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wide"}," Close Date "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wide"}," Actions ")])],-1)),e("tbody",is,[(o(!0),s(P,null,Z(p.value,c=>{var z,U,R,i;return o(),s("tr",{key:c.id,class:"hover:bg-gray-50"},[e("td",ls,[e("div",null,[e("div",as,l(c.name),1),c.description?(o(),s("div",ds,l(c.description),1)):v("",!0)])]),e("td",cs,[e("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:ie({backgroundColor:((z=A(c.stage))==null?void 0:z.color)+"20",color:(U=A(c.stage))==null?void 0:U.color})},l((R=A(c.stage))==null?void 0:R.name),5)]),e("td",us," $"+l(((i=c.value)==null?void 0:i.toLocaleString())||"0"),1),e("td",ms,l(c.close_date?G(c.close_date):"-"),1),e("td",gs,[e("button",{onClick:a=>r(c),class:"text-blue-600 hover:text-blue-900"}," Edit ",8,ps),e("button",{onClick:a=>d(c.id),class:"text-red-600 hover:text-red-900"}," Delete ",8,vs)])])}),128))])])])]))])]))}}),bs=$e(xs,[["__scopeId","data-v-14bb637c"]]),ys={key:0,class:"text-center py-12"},fs={key:1,class:"text-center py-12"},hs={class:"text-red-600 mb-4"},ws={class:"text-gray-600 mb-6"},_s={class:"space-x-4"},ks={key:2,class:"space-y-6"},$s={class:"flex items-start justify-between"},Cs={class:"min-w-0 flex-1"},Ms={class:"flex items-center space-x-2 text-sm text-gray-500 mb-2"},js={class:"text-gray-900 truncate"},Ss={class:"flex items-center space-x-4"},zs={class:"w-16 h-16 bg-blue-100 rounded-lg flex items-center justify-center"},Os={class:"min-w-0 flex-1"},Ds={class:"text-2xl font-bold text-gray-900 truncate"},As={class:"flex items-center space-x-4 mt-1"},Vs={key:0,class:"text-sm text-gray-500"},Es={class:"flex items-center space-x-3 ml-4"},Is={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Ls={class:"lg:col-span-2 space-y-6"},Bs={class:"bg-white shadow-sm rounded-lg border border-gray-200"},Fs={class:"px-6 py-6 space-y-6"},Ps={key:0,class:"prose max-w-none"},Zs={class:"text-gray-700"},Hs={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},Us={key:0},Ns={class:"mt-1 text-sm text-gray-900"},Ts={key:1},Ws={class:"mt-1 text-sm text-gray-900"},Rs={key:2},qs={class:"mt-1 text-sm text-gray-900"},Qs={class:"bg-white shadow-sm rounded-lg border border-gray-200"},Gs={class:"px-6 py-6"},Ks={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},Ys={key:0},Js={class:"text-sm font-medium text-gray-500 flex items-center"},Xs={class:"mt-1"},en=["href"],tn={key:1},on={class:"text-sm font-medium text-gray-500 flex items-center"},sn={class:"mt-1"},nn=["href"],rn={key:2},ln={class:"text-sm font-medium text-gray-500 flex items-center"},an={class:"mt-1"},dn=["href"],cn={key:0,class:"bg-white shadow-sm rounded-lg border border-gray-200"},un={class:"px-6 py-6"},mn={class:"text-sm text-gray-900 not-italic"},gn={key:0},pn={key:1},vn={class:"flex items-center space-x-2"},xn={key:0},bn={key:1},yn={key:2},fn={key:3},hn={key:2},wn={class:"space-y-6"},_n={class:"bg-white shadow-sm rounded-lg border border-gray-200"},kn={class:"px-6 py-6 space-y-4"},$n={class:"flex items-center justify-between"},Cn={key:0,class:"flex items-center justify-between"},Mn={class:"text-sm font-medium text-gray-900"},jn={key:1,class:"flex items-center justify-between"},Sn={class:"text-sm font-medium text-gray-900"},zn={class:"bg-white shadow-sm rounded-lg border border-gray-200"},On={class:"px-6 py-6 space-y-3"},Dn={class:"space-y-6"},Nn=te({__name:"OrganizationDetailView",props:{id:{}},setup(_){const w=_,D=he(),j=we(),k=M(!1),h=M(null),t=Q(()=>j.currentOrganization),p=Q(()=>t.value?!!(t.value.address_line_1||t.value.city||t.value.state_province||t.value.postal_code||t.value.country):!1),b=async()=>{k.value=!0,h.value=null;try{await j.fetchOrganization(w.id),t.value||(h.value="Organization not found")}catch($){console.error("Error loading organization:",$),h.value="Failed to load organization. Please try again."}finally{k.value=!1}},S=async()=>{if(!t.value)return;if(confirm(`Are you sure you want to delete "${t.value.name}"? This action cannot be undone.`))try{await j.deleteOrganization(w.id),D.push("/organizations")}catch(r){console.error("Error deleting organization:",r),alert("Failed to delete organization. Please try again.")}},B=()=>{var $;($=t.value)!=null&&$.website&&window.open(t.value.website,"_blank","noopener,noreferrer")},L=()=>{var $;($=t.value)!=null&&$.email&&(window.location.href=`mailto:${t.value.email}`)},E=$=>{if(!$)return"bg-gray-100 text-gray-800";const r={Active:"bg-green-100 text-green-800",Inactive:"bg-gray-100 text-gray-800",Prospect:"bg-blue-100 text-blue-800",Customer:"bg-purple-100 text-purple-800",Partner:"bg-yellow-100 text-yellow-800",Vendor:"bg-indigo-100 text-indigo-800"};return r[$]||r.Inactive},I=$=>$||"Unknown",F=$=>new Date($).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return oe(()=>{b()}),($,r)=>{const d=fe("router-link");return k.value?(o(),s("div",ys,r[0]||(r[0]=[e("div",{class:"inline-flex items-center"},[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),e("span",{class:"text-lg text-gray-600"},"Loading organization...")],-1)]))):h.value?(o(),s("div",fs,[e("div",hs,[u(m(se),{class:"h-16 w-16 mx-auto"})]),r[3]||(r[3]=e("h3",{class:"text-xl font-medium text-gray-900 mb-2"},"Error Loading Organization",-1)),e("p",ws,l(h.value),1),e("div",_s,[e("button",{onClick:b,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-600 bg-blue-100 hover:bg-blue-200"},[u(m(ne),{class:"h-4 w-4 mr-2"}),r[1]||(r[1]=f(" Try Again ",-1))]),u(d,{to:"/organizations",class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:Y(()=>r[2]||(r[2]=[f(" Back to Organizations ",-1)])),_:1,__:[2]})])])):t.value?(o(),s("div",ks,[e("div",$s,[e("div",Cs,[e("nav",Ms,[u(d,{to:"/organizations",class:"hover:text-gray-700"},{default:Y(()=>r[4]||(r[4]=[f("Organizations",-1)])),_:1,__:[4]}),u(m(Ce),{class:"h-4 w-4"}),e("span",js,l(t.value.name),1)]),e("div",Ss,[e("div",zs,[u(m(_e),{class:"h-8 w-8 text-blue-600"})]),e("div",Os,[e("h1",Ds,l(t.value.name),1),e("div",As,[t.value.industry?(o(),s("span",Vs,l(t.value.industry),1)):v("",!0),e("span",{class:W(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",E(t.value.status)])},l(I(t.value.status)),3)])])])]),e("div",Es,[u(d,{to:`/organizations/${t.value.id}/edit`,class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:Y(()=>[u(m(ee),{class:"h-4 w-4 mr-2"}),r[5]||(r[5]=f(" Edit ",-1))]),_:1,__:[5]},8,["to"]),e("button",{onClick:S,class:"inline-flex items-center px-4 py-2 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[u(m(re),{class:"h-4 w-4 mr-2"}),r[6]||(r[6]=f(" Delete ",-1))])])]),e("div",Is,[e("div",Ls,[e("div",Bs,[r[10]||(r[10]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Organization Details")],-1)),e("div",Fs,[t.value.description?(o(),s("div",Ps,[e("p",Zs,l(t.value.description),1)])):v("",!0),e("div",Hs,[t.value.employees_count?(o(),s("div",Us,[r[7]||(r[7]=e("dt",{class:"text-sm font-medium text-gray-500"},"Employee Count",-1)),e("dd",Ns,l(t.value.employees_count.toLocaleString())+" employees ",1)])):v("",!0),t.value.created_at?(o(),s("div",Ts,[r[8]||(r[8]=e("dt",{class:"text-sm font-medium text-gray-500"},"Created",-1)),e("dd",Ws,l(F(t.value.created_at)),1)])):v("",!0),t.value.updated_at?(o(),s("div",Rs,[r[9]||(r[9]=e("dt",{class:"text-sm font-medium text-gray-500"},"Last Updated",-1)),e("dd",qs,l(F(t.value.updated_at)),1)])):v("",!0)])])]),e("div",Qs,[r[14]||(r[14]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Contact Information")],-1)),e("div",Gs,[e("dl",Ks,[t.value.email?(o(),s("div",Ys,[e("dt",Js,[u(m(le),{class:"h-4 w-4 mr-2"}),r[11]||(r[11]=f(" Email ",-1))]),e("dd",Xs,[e("a",{href:`mailto:${t.value.email}`,class:"text-sm text-blue-600 hover:text-blue-800"},l(t.value.email),9,en)])])):v("",!0),t.value.primary_phone?(o(),s("div",tn,[e("dt",on,[u(m(be),{class:"h-4 w-4 mr-2"}),r[12]||(r[12]=f(" Phone ",-1))]),e("dd",sn,[e("a",{href:`tel:${t.value.primary_phone}`,class:"text-sm text-blue-600 hover:text-blue-800"},l(t.value.primary_phone),9,nn)])])):v("",!0),t.value.website?(o(),s("div",rn,[e("dt",ln,[u(m(ue),{class:"h-4 w-4 mr-2"}),r[13]||(r[13]=f(" Website ",-1))]),e("dd",an,[e("a",{href:t.value.website,target:"_blank",rel:"noopener noreferrer",class:"text-sm text-blue-600 hover:text-blue-800 flex items-center"},[f(l(t.value.website)+" ",1),u(m(Me),{class:"h-3 w-3 ml-1"})],8,dn)])])):v("",!0)])])]),p.value?(o(),s("div",cn,[r[15]||(r[15]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Address")],-1)),e("div",un,[e("address",mn,[t.value.address_line_1?(o(),s("div",gn,l(t.value.address_line_1),1)):v("",!0),t.value.address_line_2?(o(),s("div",pn,l(t.value.address_line_2),1)):v("",!0),e("div",vn,[t.value.city?(o(),s("span",xn,l(t.value.city),1)):v("",!0),t.value.city&&t.value.state_province?(o(),s("span",bn,",")):v("",!0),t.value.state_province?(o(),s("span",yn,l(t.value.state_province),1)):v("",!0),t.value.postal_code?(o(),s("span",fn,l(t.value.postal_code),1)):v("",!0)]),t.value.country?(o(),s("div",hn,l(t.value.country),1)):v("",!0)])])])):v("",!0)]),e("div",wn,[e("div",_n,[r[19]||(r[19]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Quick Stats")],-1)),e("div",kn,[e("div",$n,[r[16]||(r[16]=e("span",{class:"text-sm text-gray-500"},"Status",-1)),e("span",{class:W(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",E(t.value.status)])},l(I(t.value.status)),3)]),t.value.employees_count?(o(),s("div",Cn,[r[17]||(r[17]=e("span",{class:"text-sm text-gray-500"},"Employees",-1)),e("span",Mn,l(t.value.employees_count.toLocaleString()),1)])):v("",!0),t.value.industry?(o(),s("div",jn,[r[18]||(r[18]=e("span",{class:"text-sm text-gray-500"},"Industry",-1)),e("span",Sn,l(t.value.industry),1)])):v("",!0)])]),e("div",zn,[r[23]||(r[23]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Quick Actions")],-1)),e("div",On,[u(d,{to:`/organizations/${t.value.id}/edit`,class:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:Y(()=>[u(m(ee),{class:"h-4 w-4 mr-2"}),r[20]||(r[20]=f(" Edit Organization ",-1))]),_:1,__:[20]},8,["to"]),t.value.website?(o(),s("button",{key:0,onClick:B,class:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},[u(m(ue),{class:"h-4 w-4 mr-2"}),r[21]||(r[21]=f(" Visit Website ",-1))])):v("",!0),t.value.email?(o(),s("button",{key:1,onClick:L,class:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},[u(m(le),{class:"h-4 w-4 mr-2"}),r[22]||(r[22]=f(" Send Email ",-1))])):v("",!0)])])])]),e("div",Dn,[u(pt,{"organization-id":t.value.id},null,8,["organization-id"]),u(io,{"organization-id":t.value.id},null,8,["organization-id"]),u(bs,{"organization-id":t.value.id},null,8,["organization-id"])])])):v("",!0)}}});export{Nn as default};
//# sourceMappingURL=OrganizationDetailView-DmsvVjKz.js.map
