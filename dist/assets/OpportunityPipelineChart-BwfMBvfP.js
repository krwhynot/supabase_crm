import{a as i,b as n,j as c,d as j,r as E,c as y,o as K,E as J,t as v,h as O,F as L,i as S,J as Y,f as W,u as P,l as z,G,e as lt}from"./index-CtjJHjR0.js";import{r as q}from"./ChartBarIcon-DnppHkPB.js";import"./ManagePrincipalProductsButton.vue_vue_type_style_index_0_scoped_f75a9cbf_lang-CgdDeQZV.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as rt}from"./FunnelIcon-DBMyC3nZ.js";import{r as it}from"./CurrencyDollarIcon-DIE48oxp.js";import{r as ct}from"./TrophyIcon-BzssDnry.js";function ut(H,_){return c(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"})])}const dt={class:"engagement-trend-chart"},ht={class:"flex items-center justify-between mb-4"},vt={class:"text-sm font-medium text-gray-900"},mt={class:"text-xs text-gray-500"},gt={class:"relative h-full"},ft=["width","height"],xt={class:"grid-lines"},pt=["x1","x2","y1","y2"],_t=["x1","x2","y1","y2"],yt={class:"engagement-line"},bt=["d"],$t=["cx","cy","onMouseenter"],wt={key:0,class:"trend-line"},Et=["x1","x2","y1","y2"],Lt={class:"y-axis"},St=["x1","x2","y1","y2"],kt=["x","y"],Dt={class:"x-axis"},Ct=["x1","x2","y1","y2"],Mt=["x","y"],At={class:"font-medium"},Tt={class:"text-blue-300"},Ot={class:"text-gray-300 text-xs"},Nt={key:1,class:"absolute inset-0 flex items-center justify-center"},Vt={class:"text-center"},Rt=j({__name:"EngagementTrendChart",props:{data:{},timeRange:{default:"30d"},principalName:{default:"Principal"},showTrendLine:{type:Boolean,default:!0}},setup(H){const _=H,b=E(),Z=E(),x=E(800),p=E(250),a={top:20,right:20,bottom:40,left:50},h=E({visible:!1,x:0,y:0,data:null}),l=y(()=>!_.data||_.data.length===0?[]:[..._.data].sort((d,u)=>new Date(d.date).getTime()-new Date(u.date).getTime())),D=y(()=>({"7d":"Last 7 days","30d":"Last 30 days","90d":"Last 90 days","1y":"Last year"})[_.timeRange]||"Custom range"),C=y(()=>{if(l.value.length===0)return[0,25,50,75,100];const d=Math.max(...l.value.map(m=>m.engagement_score)),u=Math.min(...l.value.map(m=>m.engagement_score)),s=d-u,t=5,e=Math.ceil(s/t/10)*10,o=[],r=Math.floor(u/e)*e;for(let m=0;m<=t;m++)o.push(r+m*e);return o.filter(m=>m>=0&&m<=100)}),N=y(()=>l.value.length===0?"":l.value.map((u,s)=>{const t=$(s),e=w(u.engagement_score);return`${s===0?"M":"L"} ${t} ${e}`}).join(" ")),k=y(()=>{if(l.value.length<2)return 0;const d=l.value.length;let u=0,s=0,t=0,e=0;return l.value.forEach((o,r)=>{u+=r,s+=o.engagement_score,t+=r*o.engagement_score,e+=r*r}),(d*t-u*s)/(d*e-u*u)}),T=y(()=>{if(l.value.length<2)return 0;const d=l.value.length,u=(d-1)/2;return l.value.reduce((t,e)=>t+e.engagement_score,0)/d-k.value*u}),$=d=>{const u=x.value-a.left-a.right;return a.left+d/Math.max(l.value.length-1,1)*u},w=d=>{const u=p.value-a.top-a.bottom,s=Math.max(...C.value),t=Math.min(...C.value),e=s-t;return a.top+(s-d)/e*u},U=d=>{const u=k.value*d+T.value;return w(u)},V=d=>{const u=new Date(d);return _.timeRange==="7d"?u.toLocaleDateString("en-US",{weekday:"short"}):_.timeRange==="30d"?u.toLocaleDateString("en-US",{month:"short",day:"numeric"}):_.timeRange==="90d"?u.toLocaleDateString("en-US",{month:"short",day:"numeric"}):u.toLocaleDateString("en-US",{month:"short"})},B=d=>d?new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",M=(d,u,s)=>{var e;(e=b.value)!=null&&e.getBoundingClientRect()&&(h.value={visible:!0,x:$(u),y:w(d.engagement_score)-10,data:d})},F=()=>{h.value.visible=!1},X=d=>{var u;if(h.value.visible){const s=(u=b.value)==null?void 0:u.getBoundingClientRect();s&&(h.value.x=d.clientX-s.left,h.value.y=d.clientY-s.top-20)}},R=()=>{if(b.value){const d=b.value.parentElement;d&&(x.value=d.clientWidth,p.value=d.clientHeight)}};return K(()=>{R(),window.addEventListener("resize",R)}),J(()=>{window.removeEventListener("resize",R)}),(d,u)=>{var s,t,e;return c(),i("div",dt,[n("div",ht,[n("h4",vt," Engagement Trend - "+v(d.principalName),1),n("div",mt,v(D.value),1)]),n("div",gt,[(c(),i("svg",{ref_key:"chartSvg",ref:b,width:x.value,height:p.value,class:"w-full h-full",onMousemove:X,onMouseleave:F},[n("g",xt,[(c(!0),i(L,null,S(C.value,(o,r)=>(c(),i("line",{key:`h-grid-${r}`,x1:a.left,x2:x.value-a.right,y1:w(o),y2:w(o),stroke:"#f3f4f6","stroke-width":"1"},null,8,pt))),128)),(c(!0),i(L,null,S(l.value,(o,r)=>z((c(),i("line",{key:`v-grid-${r}`,x1:$(r),x2:$(r),y1:a.top,y2:p.value-a.bottom,stroke:"#f9fafb","stroke-width":"1"},null,8,_t)),[[G,r%Math.ceil(l.value.length/5)===0]])),128))]),n("g",yt,[n("path",{d:N.value,fill:"none",stroke:"#3b82f6","stroke-width":"2",class:"transition-all duration-300"},null,8,bt),(c(!0),i(L,null,S(l.value,(o,r)=>(c(),i("circle",{key:`point-${r}`,cx:$(r),cy:w(o.engagement_score),r:"4",fill:"#3b82f6",class:"hover:r-6 transition-all duration-200 cursor-pointer",onMouseenter:m=>M(o,r)},null,40,$t))),128))]),d.showTrendLine?(c(),i("g",wt,[n("line",{x1:a.left,x2:x.value-a.right,y1:U(0),y2:U(l.value.length-1),stroke:"#10b981","stroke-width":"2","stroke-dasharray":"5,5",opacity:"0.7"},null,8,Et)])):O("",!0),n("g",Lt,[n("line",{x1:a.left,x2:a.left,y1:a.top,y2:p.value-a.bottom,stroke:"#6b7280","stroke-width":"1"},null,8,St),(c(!0),i(L,null,S(C.value,(o,r)=>(c(),i("text",{key:`y-label-${r}`,x:a.left-10,y:w(o),"text-anchor":"end","dominant-baseline":"middle",class:"text-xs fill-gray-600"},v(o),9,kt))),128))]),n("g",Dt,[n("line",{x1:a.left,x2:x.value-a.right,y1:p.value-a.bottom,y2:p.value-a.bottom,stroke:"#6b7280","stroke-width":"1"},null,8,Ct),(c(!0),i(L,null,S(l.value,(o,r)=>z((c(),i("text",{key:`x-label-${r}`,x:$(r),y:p.value-a.bottom+15,"text-anchor":"middle",class:"text-xs fill-gray-600"},v(V(o.date)),9,Mt)),[[G,r%Math.ceil(l.value.length/5)===0]])),128))])],40,ft)),h.value.visible?(c(),i("div",{key:0,ref_key:"tooltipEl",ref:Z,class:"absolute z-10 px-3 py-2 bg-gray-900 text-white text-sm rounded shadow-lg pointer-events-none transform -translate-x-1/2",style:Y({left:h.value.x+"px",top:h.value.y+"px"})},[n("div",At,v(B((s=h.value.data)==null?void 0:s.date)),1),n("div",Tt," Engagement: "+v((t=h.value.data)==null?void 0:t.engagement_score),1),n("div",Ot," Activity: "+v((e=h.value.data)==null?void 0:e.activity_type),1)],4)):O("",!0),l.value.length===0?(c(),i("div",Nt,[n("div",Vt,[W(P(q),{class:"mx-auto h-12 w-12 text-gray-400"}),u[0]||(u[0]=n("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No data available",-1)),u[1]||(u[1]=n("p",{class:"mt-1 text-sm text-gray-500"}," No engagement data found for the selected time period. ",-1))])])):O("",!0)])])}}}),ze=Q(Rt,[["__scopeId","data-v-e1a93b1f"]]),It={class:"activity-volume-chart"},Wt={class:"flex items-center justify-between mb-4"},Pt={class:"text-sm font-medium text-gray-900"},Ht={class:"text-xs text-gray-500"},Ut={class:"relative h-full"},Bt=["width","height"],Zt={class:"grid-lines"},Ft=["x1","x2","y1","y2"],Xt={class:"activity-bars"},Yt=["x","y","width","height","fill","onMouseenter"],zt=["x","y"],Gt={class:"y-axis"},jt=["x1","x2","y1","y2"],Kt=["x","y"],Jt={class:"x-axis"},qt=["x1","x2","y1","y2"],Qt=["x","y"],te={class:"font-medium"},ee={class:"text-blue-300"},se={class:"text-gray-300 text-xs mt-1"},ne={key:1,class:"absolute inset-0 flex items-center justify-center"},oe={class:"text-center"},ae=j({__name:"ActivityVolumeChart",props:{data:{},timeRange:{default:"30d"},principalName:{default:"Principal"}},setup(H){const _=H,b=E(),Z=E(),x=E(800),p=E(250),a={top:20,right:20,bottom:40,left:50},h=E({visible:!1,x:0,y:0,data:null}),l=y(()=>!_.data||_.data.length===0?[]:[..._.data].sort((t,e)=>new Date(t.date).getTime()-new Date(e.date).getTime())),D=y(()=>({"7d":"Last 7 days","30d":"Last 30 days","90d":"Last 90 days","1y":"Last year"})[_.timeRange]||"Custom range"),C=y(()=>l.value.length===0?10:Math.max(...l.value.map(t=>t.count))),N=y(()=>{const t=C.value,e=5,o=Math.ceil(t/e),r=[];for(let m=0;m<=e;m++)r.push(m*o);return r}),k=y(()=>{if(l.value.length===0)return 20;const t=x.value-a.left-a.right,e=l.value.length;return Math.max((t-(e-1)*4)/e,10)}),T=t=>{const e=x.value-a.left-a.right,o=l.value.length,r=4;return o===1?a.left+(e-k.value)/2:a.left+t*(k.value+r)},$=t=>{const e=p.value-a.top-a.bottom,o=Math.max(...N.value);return a.top+(o-t)/o*e},w=t=>{const e=p.value-a.top-a.bottom,o=Math.max(...N.value);return o===0?0:t/o*e},U=t=>t.length===1?V(t[0]):t.length===2?"#8b5cf6":"#f59e0b",V=t=>({PHONE_CALL:"#3b82f6",EMAIL:"#10b981",IN_PERSON:"#f59e0b",VIDEO_CALL:"#8b5cf6",SAMPLE_VISIT:"#ef4444",FOLLOW_UP:"#6b7280",OTHER:"#9ca3af"})[t]||"#9ca3af",B=t=>{const e=Math.floor(x.value/100),o=Math.ceil(l.value.length/e);return t%o===0},M=t=>{const e=new Date(t);return _.timeRange==="7d"?e.toLocaleDateString("en-US",{weekday:"short"}):_.timeRange==="30d"?e.toLocaleDateString("en-US",{month:"short",day:"numeric"}):_.timeRange==="90d"?e.toLocaleDateString("en-US",{month:"short",day:"numeric"}):e.toLocaleDateString("en-US",{month:"short"})},F=t=>t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",X=t=>t.toLowerCase().replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase()),R=(t,e,o)=>{var m;(m=b.value)!=null&&m.getBoundingClientRect()&&(h.value={visible:!0,x:T(e)+k.value/2,y:$(t.count)-10,data:t})},d=t=>{var e;if(h.value.visible){const o=(e=b.value)==null?void 0:e.getBoundingClientRect();o&&(h.value.x=t.clientX-o.left,h.value.y=t.clientY-o.top-20)}},u=()=>{h.value.visible=!1},s=()=>{if(b.value){const t=b.value.parentElement;t&&(x.value=t.clientWidth,p.value=t.clientHeight)}};return K(()=>{s(),window.addEventListener("resize",s)}),J(()=>{window.removeEventListener("resize",s)}),(t,e)=>{var o,r,m;return c(),i("div",It,[n("div",Wt,[n("h4",Pt," Activity Volume - "+v(t.principalName),1),n("div",Ht,v(D.value),1)]),n("div",Ut,[(c(),i("svg",{ref_key:"chartSvg",ref:b,width:x.value,height:p.value,class:"w-full h-full",onMouseleave:u},[n("g",Zt,[(c(!0),i(L,null,S(N.value,(f,g)=>(c(),i("line",{key:`h-grid-${g}`,x1:a.left,x2:x.value-a.right,y1:$(f),y2:$(f),stroke:"#f3f4f6","stroke-width":"1"},null,8,Ft))),128))]),n("g",Xt,[(c(!0),i(L,null,S(l.value,(f,g)=>(c(),i("rect",{key:`bar-${g}`,x:T(g),y:$(f.count),width:k.value,height:w(f.count),fill:U(f.types),class:"hover:opacity-80 transition-opacity duration-200 cursor-pointer",onMouseenter:A=>R(f,g),onMousemove:e[0]||(e[0]=A=>d(A))},null,40,Yt))),128)),(c(!0),i(L,null,S(l.value,(f,g)=>z((c(),i("text",{key:`label-${g}`,x:T(g)+k.value/2,y:$(f.count)-5,"text-anchor":"middle",class:"text-xs fill-gray-700 font-medium"},v(f.count),9,zt)),[[G,f.count>0]])),128))]),n("g",Gt,[n("line",{x1:a.left,x2:a.left,y1:a.top,y2:p.value-a.bottom,stroke:"#6b7280","stroke-width":"1"},null,8,jt),(c(!0),i(L,null,S(N.value,(f,g)=>(c(),i("text",{key:`y-label-${g}`,x:a.left-10,y:$(f),"text-anchor":"end","dominant-baseline":"middle",class:"text-xs fill-gray-600"},v(f),9,Kt))),128))]),n("g",Jt,[n("line",{x1:a.left,x2:x.value-a.right,y1:p.value-a.bottom,y2:p.value-a.bottom,stroke:"#6b7280","stroke-width":"1"},null,8,qt),(c(!0),i(L,null,S(l.value,(f,g)=>z((c(),i("text",{key:`x-label-${g}`,x:T(g)+k.value/2,y:p.value-a.bottom+15,"text-anchor":"middle",class:"text-xs fill-gray-600"},v(M(f.date)),9,Qt)),[[G,B(g)]])),128))])],40,Bt)),h.value.visible?(c(),i("div",{key:0,ref_key:"tooltipEl",ref:Z,class:"absolute z-10 px-3 py-2 bg-gray-900 text-white text-sm rounded shadow-lg pointer-events-none transform -translate-x-1/2",style:Y({left:h.value.x+"px",top:h.value.y+"px"})},[n("div",te,v(F((o=h.value.data)==null?void 0:o.date)),1),n("div",ee," Total Activities: "+v((r=h.value.data)==null?void 0:r.count),1),n("div",se,[(c(!0),i(L,null,S((m=h.value.data)==null?void 0:m.types,f=>(c(),i("div",{key:f,class:"flex items-center"},[n("div",{class:"w-2 h-2 rounded-full mr-2",style:Y({backgroundColor:V(f)})},null,4),lt(" "+v(X(f)),1)]))),128))])],4)):O("",!0),l.value.length===0?(c(),i("div",ne,[n("div",oe,[W(P(q),{class:"mx-auto h-12 w-12 text-gray-400"}),e[1]||(e[1]=n("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No activity data",-1)),e[2]||(e[2]=n("p",{class:"mt-1 text-sm text-gray-500"}," No activities found for the selected time period. ",-1))])])):O("",!0)])])}}}),Ge=Q(ae,[["__scopeId","data-v-eebc929a"]]),le={class:"opportunity-pipeline-chart"},re={class:"flex items-center justify-between mb-4"},ie={class:"text-sm font-medium text-gray-900"},ce={class:"flex items-center space-x-4 text-xs text-gray-500"},ue={class:"relative h-full"},de=["width","height"],he={class:"pipeline-funnel"},ve=["d","fill","stroke","onMouseenter"],me=["x","y"],ge=["x","y"],fe={key:0,class:"flow-arrows"},xe=["d"],pe={class:"font-medium"},_e={class:"text-blue-300"},ye={class:"text-green-300"},be={class:"text-gray-300 text-xs mt-1"},$e={class:"text-gray-300 text-xs"},we={key:1,class:"absolute inset-0 flex items-center justify-center"},Ee={class:"text-center"},Le={key:0,class:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4"},Se={class:"bg-blue-50 rounded-lg p-3"},ke={class:"flex items-center"},De={class:"text-lg font-bold text-blue-600 mt-1"},Ce={class:"bg-green-50 rounded-lg p-3"},Me={class:"flex items-center"},Ae={class:"text-lg font-bold text-green-600 mt-1"},Te={class:"bg-purple-50 rounded-lg p-3"},Oe={class:"flex items-center"},Ne={class:"text-lg font-bold text-purple-600 mt-1"},Ve={class:"bg-yellow-50 rounded-lg p-3"},Re={class:"flex items-center"},Ie={class:"text-lg font-bold text-yellow-600 mt-1"},We=j({__name:"OpportunityPipelineChart",props:{data:{},principalName:{default:"Principal"}},setup(H){const _=H,b=E(),Z=E(),x=E(800),p=E(250),a={top:20,right:40,bottom:20,left:40},h=E({visible:!1,x:0,y:0,data:null,index:0}),l=y(()=>{if(!_.data||_.data.length===0)return[];const s=["NEW_LEAD","INITIAL_OUTREACH","SAMPLE_VISIT_OFFERED","AWAITING_RESPONSE","FEEDBACK_LOGGED","DEMO_SCHEDULED","CLOSED_WON"];return[..._.data].sort((t,e)=>{const o=s.indexOf(t.stage),r=s.indexOf(e.stage);return(o===-1?999:o)-(r===-1?999:r)})}),D=y(()=>l.value.reduce((s,t)=>s+t.count,0)),C=y(()=>l.value.reduce((s,t)=>s+t.value,0)),N=y(()=>D.value===0?0:C.value/D.value),k=y(()=>{const s=l.value.find(t=>t.stage==="CLOSED_WON");return!s||D.value===0?0:Math.round(s.count/D.value*100)}),T=y(()=>l.value.length===0?1:Math.max(...l.value.map(s=>s.count))),$=s=>{const t=l.value[s],e=l.value.length,o=(p.value-a.top-a.bottom)/e,r=a.top+s*o,m=60,f=x.value-a.left-a.right,g=t.count/T.value,A=m+(f-m)*g,I=x.value/2,tt=I-A/2,et=I+A/2;let st=tt,nt=et;if(s>0){const at=l.value[s-1].count/T.value,ot=m+(f-m)*at;st=I-ot/2,nt=I+ot/2}return`
    M ${st} ${r}
    L ${nt} ${r}
    L ${et} ${r+o}
    L ${tt} ${r+o}
    Z
  `},w=s=>{const t=l.value.length,e=(p.value-a.top-a.bottom)/t;return a.top+s*e+e/2},U=s=>{const t=w(s)+20,e=w(s+1)-20,o=x.value/2;return`
    M ${o-5} ${t}
    L ${o+5} ${t}
    L ${o+5} ${e-5}
    L ${o+10} ${e-5}
    L ${o} ${e}
    L ${o-10} ${e-5}
    L ${o-5} ${e-5}
    Z
  `},V=s=>({NEW_LEAD:"#3b82f6",INITIAL_OUTREACH:"#8b5cf6",SAMPLE_VISIT_OFFERED:"#06b6d4",AWAITING_RESPONSE:"#f59e0b",FEEDBACK_LOGGED:"#ec4899",DEMO_SCHEDULED:"#10b981",CLOSED_WON:"#22c55e"})[s]||"#6b7280",B=s=>({NEW_LEAD:"New Lead",INITIAL_OUTREACH:"Initial Outreach",SAMPLE_VISIT_OFFERED:"Sample Visit Offered",AWAITING_RESPONSE:"Awaiting Response",FEEDBACK_LOGGED:"Feedback Logged",DEMO_SCHEDULED:"Demo Scheduled",CLOSED_WON:"Closed Won"})[s]||s.replace(/_/g," "),M=s=>s>=1e6?`$${(s/1e6).toFixed(1)}M`:s>=1e3?`$${(s/1e3).toFixed(0)}K`:`$${s.toFixed(0)}`,F=s=>{if(s===0||l.value.length<=1)return 100;const t=l.value[s],e=l.value[s-1];return e.count===0?0:Math.round(t.count/e.count*100)},X=(s,t,e)=>{h.value={visible:!0,x:x.value/2,y:w(t)-20,data:s,index:t}},R=s=>{var t;if(h.value.visible){const e=(t=b.value)==null?void 0:t.getBoundingClientRect();e&&(h.value.x=s.clientX-e.left,h.value.y=s.clientY-e.top-20)}},d=()=>{h.value.visible=!1},u=()=>{if(b.value){const s=b.value.parentElement;s&&(x.value=s.clientWidth,p.value=s.clientHeight)}};return K(()=>{u(),window.addEventListener("resize",u)}),J(()=>{window.removeEventListener("resize",u)}),(s,t)=>{var e,o,r,m,f;return c(),i("div",le,[n("div",re,[n("h4",ie," Opportunity Pipeline - "+v(s.principalName),1),n("div",ce,[n("div",null,"Total: "+v(D.value)+" opportunities",1),n("div",null,"Value: "+v(M(C.value)),1)])]),n("div",ue,[(c(),i("svg",{ref_key:"chartSvg",ref:b,width:x.value,height:p.value,class:"w-full h-full",onMouseleave:d},[n("g",he,[(c(!0),i(L,null,S(l.value,(g,A)=>(c(),i("g",{key:g.stage,class:"funnel-segment"},[n("path",{d:$(A),fill:V(g.stage),stroke:V(g.stage),"stroke-width":"1",class:"hover:opacity-80 transition-opacity duration-200 cursor-pointer",onMouseenter:I=>X(g,A),onMousemove:t[0]||(t[0]=I=>R(I))},null,40,ve),n("text",{x:x.value/2,y:w(A),"text-anchor":"middle","dominant-baseline":"middle",class:"text-xs fill-white font-medium pointer-events-none",style:{"text-shadow":"1px 1px 2px rgba(0,0,0,0.5)"}},v(B(g.stage)),9,me),n("text",{x:x.value/2,y:w(A)+12,"text-anchor":"middle","dominant-baseline":"middle",class:"text-xs fill-white font-semibold pointer-events-none",style:{"text-shadow":"1px 1px 2px rgba(0,0,0,0.5)"}},v(g.count)+" ("+v(M(g.value))+") ",9,ge)]))),128))]),l.value.length>1?(c(),i("g",fe,[(c(!0),i(L,null,S(l.value.length-1,g=>(c(),i("g",{key:`arrow-${g}`,class:"flow-arrow"},[n("path",{d:U(g),fill:"#6b7280",opacity:"0.3"},null,8,xe)]))),128))])):O("",!0)],40,de)),h.value.visible?(c(),i("div",{key:0,ref_key:"tooltipEl",ref:Z,class:"absolute z-10 px-3 py-2 bg-gray-900 text-white text-sm rounded shadow-lg pointer-events-none transform -translate-x-1/2",style:Y({left:h.value.x+"px",top:h.value.y+"px"})},[n("div",pe,v(B(((e=h.value.data)==null?void 0:e.stage)||"NEW_LEAD")),1),n("div",_e,v((o=h.value.data)==null?void 0:o.count)+" opportunities ",1),n("div",ye," Total Value: "+v(M(((r=h.value.data)==null?void 0:r.value)||0)),1),n("div",be," Avg Value: "+v(M((((m=h.value.data)==null?void 0:m.value)||0)/Math.max(((f=h.value.data)==null?void 0:f.count)||1,1))),1),n("div",$e,v(F(h.value.index))+"% conversion rate ",1)],4)):O("",!0),l.value.length===0?(c(),i("div",we,[n("div",Ee,[W(P(q),{class:"mx-auto h-12 w-12 text-gray-400"}),t[1]||(t[1]=n("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No pipeline data",-1)),t[2]||(t[2]=n("p",{class:"mt-1 text-sm text-gray-500"}," No opportunities found in the pipeline. ",-1))])])):O("",!0)]),l.value.length>0?(c(),i("div",Le,[n("div",Se,[n("div",ke,[W(P(rt),{class:"h-4 w-4 text-blue-500 mr-2"}),t[3]||(t[3]=n("span",{class:"text-xs font-medium text-blue-900"},"Total Pipeline",-1))]),n("p",De,v(D.value),1)]),n("div",Ce,[n("div",Me,[W(P(it),{class:"h-4 w-4 text-green-500 mr-2"}),t[4]||(t[4]=n("span",{class:"text-xs font-medium text-green-900"},"Total Value",-1))]),n("p",Ae,v(M(C.value)),1)]),n("div",Te,[n("div",Oe,[W(P(ct),{class:"h-4 w-4 text-purple-500 mr-2"}),t[5]||(t[5]=n("span",{class:"text-xs font-medium text-purple-900"},"Win Rate",-1))]),n("p",Ne,v(k.value)+"%",1)]),n("div",Ve,[n("div",Re,[W(P(ut),{class:"h-4 w-4 text-yellow-500 mr-2"}),t[6]||(t[6]=n("span",{class:"text-xs font-medium text-yellow-900"},"Avg Value",-1))]),n("p",Ie,v(M(N.value)),1)])])):O("",!0)])}}}),je=Q(We,[["__scopeId","data-v-ac886e05"]]);export{Ge as A,ze as E,je as O};
//# sourceMappingURL=OpportunityPipelineChart-BwfMBvfP.js.map
