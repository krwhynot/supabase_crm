{"version":3,"file":"OpportunityKPICards-D14Clyfq.js","sources":["../../src/components/opportunities/OpportunityKPICards.vue"],"sourcesContent":["<template>\n  <div \n    class=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 lg:gap-6\"\n    role=\"region\"\n    aria-label=\"Opportunity Key Performance Indicators\"\n  >\n    <!-- Total Opportunities Card -->\n    <div class=\"kpi-card\">\n      <div class=\"kpi-card-content\">\n        <div class=\"kpi-icon kpi-icon-blue\">\n          <svg class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n          </svg>\n        </div>\n        <div class=\"kpi-details\">\n          <div class=\"kpi-label\">Total Opportunities</div>\n          <div class=\"kpi-value\" :class=\"{ 'kpi-loading': isLoading }\">\n            <span v-if=\"isLoading\" class=\"loading-placeholder\">--</span>\n            <span v-else>{{ formatNumber(kpis?.total_opportunities || 0) }}</span>\n          </div>\n          <div class=\"kpi-subtitle\">All time</div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Active Opportunities Card -->\n    <div class=\"kpi-card\">\n      <div class=\"kpi-card-content\">\n        <div class=\"kpi-icon kpi-icon-green\">\n          <svg class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n          </svg>\n        </div>\n        <div class=\"kpi-details\">\n          <div class=\"kpi-label\">Active Opportunities</div>\n          <div class=\"kpi-value\" :class=\"{ 'kpi-loading': isLoading }\">\n            <span v-if=\"isLoading\" class=\"loading-placeholder\">--</span>\n            <span v-else>{{ formatNumber(kpis?.active_opportunities || 0) }}</span>\n          </div>\n          <div class=\"kpi-subtitle\">In progress</div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Average Probability Card -->\n    <div class=\"kpi-card\">\n      <div class=\"kpi-card-content\">\n        <div class=\"kpi-icon kpi-icon-purple\">\n          <svg class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n          </svg>\n        </div>\n        <div class=\"kpi-details\">\n          <div class=\"kpi-label\">Average Probability</div>\n          <div class=\"kpi-value\" :class=\"{ 'kpi-loading': isLoading }\">\n            <span v-if=\"isLoading\" class=\"loading-placeholder\">--%</span>\n            <span v-else>{{ formatPercentage(kpis?.average_probability || 0) }}</span>\n          </div>\n          <div class=\"kpi-subtitle\">Success rate</div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Won This Month Card -->\n    <div class=\"kpi-card\">\n      <div class=\"kpi-card-content\">\n        <div class=\"kpi-icon kpi-icon-emerald\">\n          <svg class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\" />\n          </svg>\n        </div>\n        <div class=\"kpi-details\">\n          <div class=\"kpi-label\">Won This Month</div>\n          <div class=\"kpi-value\" :class=\"{ 'kpi-loading': isLoading }\">\n            <span v-if=\"isLoading\" class=\"loading-placeholder\">--</span>\n            <span v-else>{{ formatNumber(kpis?.won_this_month || 0) }}</span>\n          </div>\n          <div class=\"kpi-subtitle\">{{ getCurrentMonth() }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { useOpportunityStore } from '@/stores/opportunityStore'\nimport type { OpportunityKPIs } from '@/types/opportunities'\n\n/**\n * Props interface for OpportunityKPICards component\n */\ninterface Props {\n  /** Whether to show loading state */\n  loading?: boolean\n  /** Override KPI data (for testing or custom data) */\n  customKpis?: OpportunityKPIs | null\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  loading: false,\n  customKpis: null\n})\n\n/**\n * Component emits - none needed for display component\n */\ndefineEmits<{\n  /** Emitted when a KPI card is clicked for drill-down */\n  cardClick: [kpiType: string]\n}>()\n\n// ===============================\n// STORE INTEGRATION\n// ===============================\n\nconst opportunityStore = useOpportunityStore()\n\nconst kpis = computed(() => props.customKpis || opportunityStore.kpis)\nconst isLoading = computed(() => props.loading || opportunityStore.isLoading)\n\n// ===============================\n// UTILITY FUNCTIONS\n// ===============================\n\n/**\n * Format numbers with appropriate suffixes (K, M, B)\n */\nconst formatNumber = (value: number): string => {\n  if (value >= 1000000000) {\n    return (value / 1000000000).toFixed(1) + 'B'\n  }\n  if (value >= 1000000) {\n    return (value / 1000000).toFixed(1) + 'M'\n  }\n  if (value >= 1000) {\n    return (value / 1000).toFixed(1) + 'K'\n  }\n  return value.toString()\n}\n\n/**\n * Format percentage values\n */\nconst formatPercentage = (value: number): string => {\n  return Math.round(value) + '%'\n}\n\n/**\n * Get current month name for subtitle\n */\nconst getCurrentMonth = (): string => {\n  return new Date().toLocaleDateString('en-US', { month: 'long' })\n}\n</script>\n\n<style scoped>\n/* ===============================\n   KPI CARD COMPONENT STYLES\n   =============================== */\n\n.kpi-card {\n  @apply bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200;\n  @apply cursor-pointer;\n  min-height: 120px;\n}\n\n.kpi-card:hover {\n  @apply border-gray-300;\n}\n\n.kpi-card-content {\n  @apply p-4 lg:p-6 flex items-start space-x-4;\n  min-height: 120px;\n}\n\n/* ===============================\n   KPI ICON STYLES\n   =============================== */\n\n.kpi-icon {\n  @apply flex-shrink-0 rounded-lg p-3 flex items-center justify-center;\n  @apply min-w-[48px] min-h-[48px];\n  @apply lg:min-w-[52px] lg:min-h-[52px];\n}\n\n.kpi-icon-blue {\n  @apply bg-blue-100 text-blue-600;\n}\n\n.kpi-icon-green {\n  @apply bg-green-100 text-green-600;\n}\n\n.kpi-icon-purple {\n  @apply bg-purple-100 text-purple-600;\n}\n\n.kpi-icon-emerald {\n  @apply bg-emerald-100 text-emerald-600;\n}\n\n/* ===============================\n   KPI DETAILS STYLES\n   =============================== */\n\n.kpi-details {\n  @apply flex-1 min-w-0;\n}\n\n.kpi-label {\n  @apply text-sm font-medium text-gray-600 mb-1;\n  @apply truncate;\n}\n\n.kpi-value {\n  @apply text-2xl lg:text-3xl font-bold text-gray-900 mb-1;\n  @apply min-h-[32px] lg:min-h-[36px];\n  @apply flex items-center;\n}\n\n.kpi-subtitle {\n  @apply text-xs text-gray-500;\n  @apply truncate;\n}\n\n/* ===============================\n   LOADING STATES\n   =============================== */\n\n.kpi-loading {\n  @apply animate-pulse;\n}\n\n.loading-placeholder {\n  @apply bg-gray-200 rounded;\n  @apply inline-block min-w-[40px] h-[32px] lg:h-[36px];\n}\n\n/* ===============================\n   RESPONSIVE DESIGN\n   =============================== */\n\n/* iPad Portrait Optimization */\n@media (min-width: 768px) and (max-width: 1024px) {\n  .kpi-card {\n    min-height: 140px;\n  }\n  \n  .kpi-card-content {\n    @apply p-5;\n    min-height: 140px;\n  }\n  \n  .kpi-icon {\n    @apply min-w-[56px] min-h-[56px];\n  }\n  \n  .kpi-value {\n    @apply text-3xl;\n    @apply min-h-[40px];\n  }\n}\n\n/* Mobile Optimization */\n@media (max-width: 767px) {\n  .kpi-card {\n    min-height: 100px;\n  }\n  \n  .kpi-card-content {\n    @apply p-3 space-x-3;\n    min-height: 100px;\n  }\n  \n  .kpi-icon {\n    @apply min-w-[40px] min-h-[40px] p-2;\n  }\n  \n  .kpi-value {\n    @apply text-xl;\n    @apply min-h-[28px];\n  }\n  \n  .kpi-label {\n    @apply text-xs;\n  }\n  \n  .kpi-subtitle {\n    @apply text-xs;\n  }\n}\n\n/* ===============================\n   ACCESSIBILITY ENHANCEMENTS\n   =============================== */\n\n.kpi-card:focus {\n  @apply outline-none ring-2 ring-blue-500 ring-offset-2;\n}\n\n.kpi-card:focus-visible {\n  @apply outline-none ring-2 ring-blue-500 ring-offset-2;\n}\n\n/* High contrast mode support */\n@media (prefers-contrast: high) {\n  .kpi-card {\n    @apply border-2 border-gray-400;\n  }\n  \n  .kpi-icon-blue {\n    @apply bg-blue-200 text-blue-800;\n  }\n  \n  .kpi-icon-green {\n    @apply bg-green-200 text-green-800;\n  }\n  \n  .kpi-icon-purple {\n    @apply bg-purple-200 text-purple-800;\n  }\n  \n  .kpi-icon-emerald {\n    @apply bg-emerald-200 text-emerald-800;\n  }\n}\n\n/* Reduced motion support */\n@media (prefers-reduced-motion: reduce) {\n  .kpi-card {\n    transition: none;\n  }\n  \n  .kpi-loading {\n    animation: none;\n  }\n}\n</style>"],"names":["props","__props","opportunityStore","useOpportunityStore","kpis","computed","isLoading","formatNumber","value","formatPercentage","getCurrentMonth","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_cache","_normalizeClass","_hoisted_5","_hoisted_6","_toDisplayString","_a","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_b","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_c","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_d","_hoisted_22"],"mappings":"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"}